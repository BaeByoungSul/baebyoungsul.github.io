import{$ as ko,$a as hn,$b as ae,$c as ia,A as Co,Aa as Js,Ab as Du,Ac as Mo,B as Ut,Ba as On,Bb as Eu,Bc as vr,C as To,Ca as Me,Cb as Au,Cc as wx,D as Kp,Da as Ie,Db as Cu,Dc as Dx,E as st,Ea as Tn,Eb as Tu,Ec as Ex,F as Yp,Fa as gi,Fb as Su,Fc as Ax,G as Mi,Ga as Oi,Gb as ku,Gc as Cx,H as Qp,Ha as ng,Hb as ig,Hc as Tx,I as Zp,Ia as fu,Ib as tx,Ic as Sx,J as lu,Ja as Bi,Jb as nx,Jc as kx,K as fr,Ka as pu,Kb as ix,Kc as No,L as Jp,La as Pt,Lb as rx,Lc as Fx,M as M1,Ma as mt,Mb as Fu,Mc as Ix,N as eg,Na as Yr,Nb as sx,Nc as Ux,O as Qs,Oa as Zn,Oc as Px,P as pr,Pa as Qr,Pb as ax,Pc as ji,Q as ve,Qa as Wi,Qb as es,Qc as Rx,R as So,Ra as un,Rb as ox,Rc as Mx,S as uu,Sa as dn,Sb as Io,Sc as Nx,T as gr,Ta as q1,Tb as ta,Tc as Lx,U as Kr,Ua as gu,Ub as Iu,Uc as Ox,V as fe,Va as _r,Vb as Uu,Vc as Bx,W as N1,Wb as Pu,Wc as Wx,X as hi,Xa as Ve,Xc as jx,Y as fi,Ya as yr,Yb as Ru,Yc as Ou,Za as mi,Zb as Mu,Zc as Vx,_a as G1,_b as Nu,_c as zx,a as Xe,aa as L1,ab as Bn,ac as na,ad as Hx,b as An,ba as O1,bb as Wn,bc as cx,bd as og,c as Ao,ca as du,cc as lx,cd as qx,d as X,da as Fo,db as $1,dc as ux,dd as Gx,e as J,ea as B1,eb as X1,ec as dx,ed as $x,f as ru,fa as Ni,fb as Zr,fc as Uo,fd as Xx,g as $I,ga as pi,gb as K1,gc as rg,h as pt,ha as W1,hb as ea,hc as hx,i as F1,ia as j1,ib as Jr,ic as fx,j as zt,ja as Se,jc as px,k as dr,ka as Zt,kb as mu,kc as sg,l as su,la as mr,lb as bu,lc as gx,m as au,ma as tg,mb as _u,mc as bi,n as I1,na as V1,nc as Lu,o as Ys,oa as z1,ob as Y1,oc as vt,p as Z,pa as Cn,pb as Q1,pc as mx,q as $p,qa as hu,qb as Z1,qc as bx,r as Xp,ra as gt,rb as J1,rc as Jn,s as U1,sa as br,sc as ts,t as ou,ta as Nn,tc as ag,u as It,ua as Ln,ub as ex,uc as Po,v as hr,va as H1,vc as _x,w as P1,wa as Li,wb as yu,wc as yx,x as cu,xa as cn,xb as vu,xc as vx,y as yt,ya as ln,yb as xu,yc as Ro,z as R1,za as Zs,zb as wu,zc as xx}from"./chunk-JZVFXZ7X.js";var dc,nb,hc,Sd,ib,oD,wi,Hi,cD,rb,lD,uD,sb,ab,ob,dD,hD,kd,cb,fD,tt=X(()=>{"use strict";dc="1.13.7",nb=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},hc=Array.prototype,Sd=Object.prototype,ib=typeof Symbol<"u"?Symbol.prototype:null,oD=hc.push,wi=hc.slice,Hi=Sd.toString,cD=Sd.hasOwnProperty,rb=typeof ArrayBuffer<"u",lD=typeof DataView<"u",uD=Array.isArray,sb=Object.keys,ab=Object.create,ob=rb&&ArrayBuffer.isView,dD=isNaN,hD=isFinite,kd=!{toString:null}.propertyIsEnumerable("toString"),cb=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],fD=Math.pow(2,53)-1});function ze(n,e){return e=e==null?n.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),i=Array(t),r=0;r<t;r++)i[r]=arguments[r+e];switch(e){case 0:return n.call(this,i);case 1:return n.call(this,arguments[0],i);case 2:return n.call(this,arguments[0],arguments[1],i)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=i,n.apply(this,s)}}var fn=X(()=>{"use strict"});function Ht(n){var e=typeof n;return e==="function"||e==="object"&&!!n}var Tr=X(()=>{"use strict"});function Fd(n){return n===null}var pD=X(()=>{"use strict"});function va(n){return n===void 0}var lb=X(()=>{"use strict"});function xa(n){return n===!0||n===!1||Hi.call(n)==="[object Boolean]"}var ub=X(()=>{"use strict";tt()});function Id(n){return!!(n&&n.nodeType===1)}var gD=X(()=>{"use strict"});function Le(n){var e="[object "+n+"]";return function(t){return Hi.call(t)===e}}var Nt=X(()=>{"use strict";tt()});var ps,Ud=X(()=>{"use strict";Nt();ps=Le("String")});var fc,db=X(()=>{"use strict";Nt();fc=Le("Number")});var hb,mD=X(()=>{"use strict";Nt();hb=Le("Date")});var fb,bD=X(()=>{"use strict";Nt();fb=Le("RegExp")});var pb,_D=X(()=>{"use strict";Nt();pb=Le("Error")});var pc,gb=X(()=>{"use strict";Nt();pc=Le("Symbol")});var gc,mb=X(()=>{"use strict";Nt();gc=Le("ArrayBuffer")});var yD,lM,Ke,Sn=X(()=>{"use strict";Nt();tt();yD=Le("Function"),lM=nb.document&&nb.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof lM!="function"&&(yD=function(n){return typeof n=="function"||!1});Ke=yD});var bb,vD=X(()=>{"use strict";Nt();bb=Le("Object")});var Pd,wa,Da=X(()=>{"use strict";tt();vD();Pd=lD&&(!/\[native code\]/.test(String(DataView))||bb(new DataView(new ArrayBuffer(8)))),wa=typeof Map<"u"&&bb(new Map)});function dM(n){return n!=null&&Ke(n.getInt8)&&gc(n.buffer)}var uM,Sr,Rd=X(()=>{"use strict";Nt();Sn();mb();Da();uM=Le("DataView");Sr=Pd?dM:uM});var nn,kr=X(()=>{"use strict";tt();Nt();nn=uD||Le("Array")});function Lt(n,e){return n!=null&&cD.call(n,e)}var qi=X(()=>{"use strict";tt()});var _b,gs,Md=X(()=>{"use strict";Nt();qi();_b=Le("Arguments");(function(){_b(arguments)||(_b=function(n){return Lt(n,"callee")})})();gs=_b});function Nd(n){return!pc(n)&&hD(n)&&!isNaN(parseFloat(n))}var xD=X(()=>{"use strict";tt();gb()});function Ea(n){return fc(n)&&dD(n)}var yb=X(()=>{"use strict";tt();db()});function Aa(n){return function(){return n}}var vb=X(()=>{"use strict"});function mc(n){return function(e){var t=n(e);return typeof t=="number"&&t>=0&&t<=fD}}var xb=X(()=>{"use strict";tt()});function bc(n){return function(e){return e?.[n]}}var wb=X(()=>{"use strict"});var ms,Ld=X(()=>{"use strict";wb();ms=bc("byteLength")});var wD,DD=X(()=>{"use strict";xb();Ld();wD=mc(ms)});function fM(n){return ob?ob(n)&&!Sr(n):wD(n)&&hM.test(Hi.call(n))}var hM,_c,Db=X(()=>{"use strict";tt();Rd();vb();DD();hM=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;_c=rb?fM:Aa(!1)});var Ze,kn=X(()=>{"use strict";wb();Ze=bc("length")});function pM(n){for(var e={},t=n.length,i=0;i<t;++i)e[n[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,n.push(r)}}}function yc(n,e){e=pM(e);var t=cb.length,i=n.constructor,r=Ke(i)&&i.prototype||Sd,s="constructor";for(Lt(n,s)&&!e.contains(s)&&e.push(s);t--;)s=cb[t],s in n&&n[s]!==r[s]&&!e.contains(s)&&e.push(s)}var Eb=X(()=>{"use strict";tt();Sn();qi()});function Fe(n){if(!Ht(n))return[];if(sb)return sb(n);var e=[];for(var t in n)Lt(n,t)&&e.push(t);return kd&&yc(n,e),e}var Tt=X(()=>{"use strict";Tr();tt();qi();Eb()});function Od(n){if(n==null)return!0;var e=Ze(n);return typeof e=="number"&&(nn(n)||ps(n)||gs(n))?e===0:Ze(Fe(n))===0}var ED=X(()=>{"use strict";kn();kr();Ud();Md();Tt()});function Ca(n,e){var t=Fe(e),i=t.length;if(n==null)return!i;for(var r=Object(n),s=0;s<i;s++){var a=t[s];if(e[a]!==r[a]||!(a in r))return!1}return!0}var Ab=X(()=>{"use strict";Tt()});function _e(n){if(n instanceof _e)return n;if(!(this instanceof _e))return new _e(n);this._wrapped=n}var pn=X(()=>{"use strict";tt();_e.VERSION=dc;_e.prototype.value=function(){return this._wrapped};_e.prototype.valueOf=_e.prototype.toJSON=_e.prototype.value;_e.prototype.toString=function(){return String(this._wrapped)}});function Bd(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,ms(n))}var AD=X(()=>{"use strict";Ld()});function Cb(n,e,t,i){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var r=typeof n;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:TD(n,e,t,i)}function TD(n,e,t,i){n instanceof _e&&(n=n._wrapped),e instanceof _e&&(e=e._wrapped);var r=Hi.call(n);if(r!==Hi.call(e))return!1;if(Pd&&r=="[object Object]"&&Sr(n)){if(!Sr(e))return!1;r=CD}switch(r){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return ib.valueOf.call(n)===ib.valueOf.call(e);case"[object ArrayBuffer]":case CD:return TD(Bd(n),Bd(e),t,i)}var s=r==="[object Array]";if(!s&&_c(n)){var a=ms(n);if(a!==ms(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof n!="object"||typeof e!="object")return!1;var o=n.constructor,c=e.constructor;if(o!==c&&!(Ke(o)&&o instanceof o&&Ke(c)&&c instanceof c)&&"constructor"in n&&"constructor"in e)return!1}t=t||[],i=i||[];for(var u=t.length;u--;)if(t[u]===n)return i[u]===e;if(t.push(n),i.push(e),s){if(u=n.length,u!==e.length)return!1;for(;u--;)if(!Cb(n[u],e[u],t,i))return!1}else{var d=Fe(n),h;if(u=d.length,Fe(e).length!==u)return!1;for(;u--;)if(h=d[u],!(Lt(e,h)&&Cb(n[h],e[h],t,i)))return!1}return t.pop(),i.pop(),!0}function Wd(n,e){return Cb(n,e)}var CD,SD=X(()=>{"use strict";pn();tt();Ld();Db();Sn();Da();Rd();Tt();qi();AD();CD="[object DataView]"});function Hn(n){if(!Ht(n))return[];var e=[];for(var t in n)e.push(t);return kd&&yc(n,e),e}var Ta=X(()=>{"use strict";Tr();tt();Eb()});function Sa(n){var e=Ze(n);return function(t){if(t==null)return!1;var i=Hn(t);if(Ze(i))return!1;for(var r=0;r<e;r++)if(!Ke(t[n[r]]))return!1;return n!==kb||!Ke(t[Tb])}}var Tb,kD,Sb,FD,ID,kb,UD,jd=X(()=>{"use strict";kn();Sn();Ta();Tb="forEach",kD="has",Sb=["clear","delete"],FD=["get",kD,"set"],ID=Sb.concat(Tb,FD),kb=Sb.concat(FD),UD=["add"].concat(Sb,Tb,kD)});var Fb,PD=X(()=>{"use strict";Nt();Da();jd();Fb=wa?Sa(ID):Le("Map")});var Ib,RD=X(()=>{"use strict";Nt();Da();jd();Ib=wa?Sa(kb):Le("WeakMap")});var Ub,MD=X(()=>{"use strict";Nt();Da();jd();Ub=wa?Sa(UD):Le("Set")});var Pb,ND=X(()=>{"use strict";Nt();Pb=Le("WeakSet")});function gn(n){for(var e=Fe(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=n[e[r]];return i}var bs=X(()=>{"use strict";Tt()});function Vd(n){for(var e=Fe(n),t=e.length,i=Array(t),r=0;r<t;r++)i[r]=[e[r],n[e[r]]];return i}var LD=X(()=>{"use strict";Tt()});function ka(n){for(var e={},t=Fe(n),i=0,r=t.length;i<r;i++)e[n[t[i]]]=t[i];return e}var Rb=X(()=>{"use strict";Tt()});function _s(n){var e=[];for(var t in n)Ke(n[t])&&e.push(t);return e.sort()}var Mb=X(()=>{"use strict";Sn()});function ys(n,e){return function(t){var i=arguments.length;if(e&&(t=Object(t)),i<2||t==null)return t;for(var r=1;r<i;r++)for(var s=arguments[r],a=n(s),o=a.length,c=0;c<o;c++){var u=a[c];(!e||t[u]===void 0)&&(t[u]=s[u])}return t}}var zd=X(()=>{"use strict"});var vc,Nb=X(()=>{"use strict";zd();Ta();vc=ys(Hn)});var Fr,Hd=X(()=>{"use strict";zd();Tt();Fr=ys(Fe)});var xc,Lb=X(()=>{"use strict";zd();Ta();xc=ys(Hn,!0)});function gM(){return function(){}}function wc(n){if(!Ht(n))return{};if(ab)return ab(n);var e=gM();e.prototype=n;var t=new e;return e.prototype=null,t}var Ob=X(()=>{"use strict";Tr();tt()});function qd(n,e){var t=wc(n);return e&&Fr(t,e),t}var OD=X(()=>{"use strict";Ob();Hd()});function Gd(n){return Ht(n)?nn(n)?n.slice():vc({},n):n}var BD=X(()=>{"use strict";Tr();kr();Nb()});function $d(n,e){return e(n),n}var WD=X(()=>{"use strict"});function Dc(n){return nn(n)?n:[n]}var Bb=X(()=>{"use strict";pn();kr();_e.toPath=Dc});function ni(n){return _e.toPath(n)}var Fa=X(()=>{"use strict";pn();Bb()});function vs(n,e){for(var t=e.length,i=0;i<t;i++){if(n==null)return;n=n[e[i]]}return t?n:void 0}var Xd=X(()=>{"use strict"});function Ia(n,e,t){var i=vs(n,ni(e));return va(i)?t:i}var Wb=X(()=>{"use strict";Fa();Xd();lb()});function Kd(n,e){e=ni(e);for(var t=e.length,i=0;i<t;i++){var r=e[i];if(!Lt(n,r))return!1;n=n[r]}return!!t}var jD=X(()=>{"use strict";qi();Fa()});function Ir(n){return n}var Yd=X(()=>{"use strict"});function ii(n){return n=Fr({},n),function(e){return Ca(e,n)}}var Ec=X(()=>{"use strict";Hd();Ab()});function Ur(n){return n=ni(n),function(e){return vs(e,n)}}var Qd=X(()=>{"use strict";Xd();Fa()});function ri(n,e,t){if(e===void 0)return n;switch(t??3){case 1:return function(i){return n.call(e,i)};case 3:return function(i,r,s){return n.call(e,i,r,s)};case 4:return function(i,r,s,a){return n.call(e,i,r,s,a)}}return function(){return n.apply(e,arguments)}}var Ua=X(()=>{"use strict"});function Ac(n,e,t){return n==null?Ir:Ke(n)?ri(n,e,t):Ht(n)&&!nn(n)?ii(n):Ur(n)}var jb=X(()=>{"use strict";Yd();Sn();Tr();kr();Ec();Qd();Ua()});function xs(n,e){return Ac(n,e,1/0)}var Vb=X(()=>{"use strict";pn();jb();_e.iteratee=xs});function He(n,e,t){return _e.iteratee!==xs?_e.iteratee(n,e):Ac(n,e,t)}var rn=X(()=>{"use strict";pn();jb();Vb()});function Zd(n,e,t){e=He(e,t);for(var i=Fe(n),r=i.length,s={},a=0;a<r;a++){var o=i[a];s[o]=e(n[o],o,n)}return s}var VD=X(()=>{"use strict";rn();Tt()});function Pa(){}var zb=X(()=>{"use strict"});function Jd(n){return n==null?Pa:function(e){return Ia(n,e)}}var zD=X(()=>{"use strict";zb();Wb()});function eh(n,e,t){var i=Array(Math.max(0,n));e=ri(e,t,1);for(var r=0;r<n;r++)i[r]=e(r);return i}var HD=X(()=>{"use strict";Ua()});function ws(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}var Hb=X(()=>{"use strict"});var Gi,th=X(()=>{"use strict";Gi=Date.now||function(){return new Date().getTime()}});function Cc(n){var e=function(s){return n[s]},t="(?:"+Fe(n).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(s){return s=s==null?"":""+s,i.test(s)?s.replace(r,e):s}}var qb=X(()=>{"use strict";Tt()});var nh,Gb=X(()=>{"use strict";nh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}});var $b,qD=X(()=>{"use strict";qb();Gb();$b=Cc(nh)});var GD,$D=X(()=>{"use strict";Rb();Gb();GD=ka(nh)});var Xb,XD=X(()=>{"use strict";qb();$D();Xb=Cc(GD)});var Kb,Yb=X(()=>{"use strict";pn();Kb=_e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}});function _M(n){return"\\"+mM[n]}function ih(n,e,t){!e&&t&&(e=t),e=xc({},e,_e.templateSettings);var i=RegExp([(e.escape||Qb).source,(e.interpolate||Qb).source,(e.evaluate||Qb).source].join("|")+"|$","g"),r=0,s="__p+='";n.replace(i,function(u,d,h,f,p){return s+=n.slice(r,p).replace(bM,_M),r=p+u.length,d?s+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:h?s+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:f&&(s+=`';
`+f+`
__p+='`),u}),s+=`';
`;var a=e.variable;if(a){if(!yM.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(u){throw u.source=s,u}var c=function(u){return o.call(this,u,_e)};return c.source="function("+a+`){
`+s+"}",c}var Qb,mM,bM,yM,KD=X(()=>{"use strict";Lb();pn();Yb();Qb=/(.)^/,mM={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bM=/\\|'|\r|\n|\u2028|\u2029/g;yM=/^\s*(\w|\$)+\s*$/});function rh(n,e,t){e=ni(e);var i=e.length;if(!i)return Ke(t)?t.call(n):t;for(var r=0;r<i;r++){var s=n?.[e[r]];s===void 0&&(s=t,r=i),n=Ke(s)?s.call(n):s}return n}var YD=X(()=>{"use strict";Sn();Fa()});function sh(n){var e=++vM+"";return n?n+e:e}var vM,QD=X(()=>{"use strict";vM=0});function ah(n){var e=_e(n);return e._chain=!0,e}var ZD=X(()=>{"use strict";pn()});function Tc(n,e,t,i,r){if(!(i instanceof e))return n.apply(t,r);var s=wc(n.prototype),a=n.apply(s,r);return Ht(a)?a:s}var Zb=X(()=>{"use strict";Ob();Tr()});var Jb,$i,Sc=X(()=>{"use strict";fn();Zb();pn();Jb=ze(function(n,e){var t=Jb.placeholder,i=function(){for(var r=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===t?arguments[r++]:e[o];for(;r<arguments.length;)a.push(arguments[r++]);return Tc(n,i,this,this,a)};return i});Jb.placeholder=_e;$i=Jb});var kc,e_=X(()=>{"use strict";fn();Sn();Zb();kc=ze(function(n,e,t){if(!Ke(n))throw new TypeError("Bind must be called on a function");var i=ze(function(r){return Tc(n,i,e,this,t.concat(r))});return i})});var Je,mn=X(()=>{"use strict";xb();kn();Je=mc(Ze)});function bn(n,e,t,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(n);for(var r=i.length,s=0,a=Ze(n);s<a;s++){var o=n[s];if(Je(o)&&(nn(o)||gs(o)))if(e>1)bn(o,e-1,t,i),r=i.length;else for(var c=0,u=o.length;c<u;)i[r++]=o[c++];else t||(i[r++]=o)}return i}var Ds=X(()=>{"use strict";kn();mn();kr();Md()});var t_,JD=X(()=>{"use strict";fn();Ds();e_();t_=ze(function(n,e){e=bn(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var i=e[t];n[i]=kc(n[i],n)}return n})});function oh(n,e){var t=function(i){var r=t.cache,s=""+(e?e.apply(this,arguments):i);return Lt(r,s)||(r[s]=n.apply(this,arguments)),r[s]};return t.cache={},t}var eE=X(()=>{"use strict";qi()});var Fc,n_=X(()=>{"use strict";fn();Fc=ze(function(n,e,t){return setTimeout(function(){return n.apply(null,t)},e)})});var i_,tE=X(()=>{"use strict";Sc();n_();pn();i_=$i(Fc,_e,1)});function ch(n,e,t){var i,r,s,a,o=0;t||(t={});var c=function(){o=t.leading===!1?0:Gi(),i=null,a=n.apply(r,s),i||(r=s=null)},u=function(){var d=Gi();!o&&t.leading===!1&&(o=d);var h=e-(d-o);return r=this,s=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),o=d,a=n.apply(r,s),i||(r=s=null)):!i&&t.trailing!==!1&&(i=setTimeout(c,h)),a};return u.cancel=function(){clearTimeout(i),o=0,i=r=s=null},u}var nE=X(()=>{"use strict";th()});function lh(n,e,t){var i,r,s,a,o,c=function(){var d=Gi()-r;e>d?i=setTimeout(c,e-d):(i=null,t||(a=n.apply(o,s)),i||(s=o=null))},u=ze(function(d){return o=this,s=d,r=Gi(),i||(i=setTimeout(c,e),t&&(a=n.apply(o,s))),a});return u.cancel=function(){clearTimeout(i),i=s=o=null},u}var iE=X(()=>{"use strict";fn();th()});function uh(n,e){return $i(e,n)}var rE=X(()=>{"use strict";Sc()});function Pr(n){return function(){return!n.apply(this,arguments)}}var dh=X(()=>{"use strict"});function hh(){var n=arguments,e=n.length-1;return function(){for(var t=e,i=n[e].apply(this,arguments);t--;)i=n[t].call(this,i);return i}}var sE=X(()=>{"use strict"});function fh(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}var aE=X(()=>{"use strict"});function Ra(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}}var r_=X(()=>{"use strict"});var s_,oE=X(()=>{"use strict";Sc();r_();s_=$i(Ra,2)});function Ma(n,e,t){e=He(e,t);for(var i=Fe(n),r,s=0,a=i.length;s<a;s++)if(r=i[s],e(n[r],r,n))return r}var a_=X(()=>{"use strict";rn();Tt()});function Ic(n){return function(e,t,i){t=He(t,i);for(var r=Ze(e),s=n>0?0:r-1;s>=0&&s<r;s+=n)if(t(e[s],s,e))return s;return-1}}var o_=X(()=>{"use strict";rn();kn()});var Es,ph=X(()=>{"use strict";o_();Es=Ic(1)});var Uc,c_=X(()=>{"use strict";o_();Uc=Ic(-1)});function Na(n,e,t,i){t=He(t,i,1);for(var r=t(e),s=0,a=Ze(n);s<a;){var o=Math.floor((s+a)/2);t(n[o])<r?s=o+1:a=o}return s}var l_=X(()=>{"use strict";rn();kn()});function Pc(n,e,t){return function(i,r,s){var a=0,o=Ze(i);if(typeof s=="number")n>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(t&&s&&o)return s=t(i,r),i[s]===r?s:-1;if(r!==r)return s=e(wi.call(i,a,o),Ea),s>=0?s+a:-1;for(s=n>0?a:o-1;s>=0&&s<o;s+=n)if(i[s]===r)return s;return-1}}var u_=X(()=>{"use strict";kn();tt();yb()});var Rc,d_=X(()=>{"use strict";l_();ph();u_();Rc=Pc(1,Es,Na)});var h_,cE=X(()=>{"use strict";c_();u_();h_=Pc(-1,Uc)});function As(n,e,t){var i=Je(n)?Es:Ma,r=i(n,e,t);if(r!==void 0&&r!==-1)return n[r]}var f_=X(()=>{"use strict";mn();ph();a_()});function gh(n,e){return As(n,ii(e))}var lE=X(()=>{"use strict";f_();Ec()});function St(n,e,t){e=ri(e,t);var i,r;if(Je(n))for(i=0,r=n.length;i<r;i++)e(n[i],i,n);else{var s=Fe(n);for(i=0,r=s.length;i<r;i++)e(n[s[i]],s[i],n)}return n}var Rr=X(()=>{"use strict";Ua();mn();Tt()});function sn(n,e,t){e=He(e,t);for(var i=!Je(n)&&Fe(n),r=(i||n).length,s=Array(r),a=0;a<r;a++){var o=i?i[a]:a;s[a]=e(n[o],o,n)}return s}var Cs=X(()=>{"use strict";rn();mn();Tt()});function Mc(n){var e=function(t,i,r,s){var a=!Je(t)&&Fe(t),o=(a||t).length,c=n>0?0:o-1;for(s||(r=t[a?a[c]:c],c+=n);c>=0&&c<o;c+=n){var u=a?a[c]:c;r=i(r,t[u],u,t)}return r};return function(t,i,r,s){var a=arguments.length>=3;return e(t,ri(i,s,4),r,a)}}var p_=X(()=>{"use strict";mn();Tt();Ua()});var Nc,uE=X(()=>{"use strict";p_();Nc=Mc(1)});var mh,dE=X(()=>{"use strict";p_();mh=Mc(-1)});function Fn(n,e,t){var i=[];return e=He(e,t),St(n,function(r,s,a){e(r,s,a)&&i.push(r)}),i}var La=X(()=>{"use strict";rn();Rr()});function bh(n,e,t){return Fn(n,Pr(He(e)),t)}var hE=X(()=>{"use strict";La();dh();rn()});function Lc(n,e,t){e=He(e,t);for(var i=!Je(n)&&Fe(n),r=(i||n).length,s=0;s<r;s++){var a=i?i[s]:s;if(!e(n[a],a,n))return!1}return!0}var fE=X(()=>{"use strict";rn();mn();Tt()});function Oc(n,e,t){e=He(e,t);for(var i=!Je(n)&&Fe(n),r=(i||n).length,s=0;s<r;s++){var a=i?i[s]:s;if(e(n[a],a,n))return!0}return!1}var pE=X(()=>{"use strict";rn();mn();Tt()});function qt(n,e,t,i){return Je(n)||(n=gn(n)),(typeof t!="number"||i)&&(t=0),Rc(n,e,t)>=0}var Oa=X(()=>{"use strict";mn();bs();d_()});var g_,gE=X(()=>{"use strict";fn();Sn();Cs();Xd();Fa();g_=ze(function(n,e,t){var i,r;return Ke(e)?r=e:(e=ni(e),i=e.slice(0,-1),e=e[e.length-1]),sn(n,function(s){var a=r;if(!a){if(i&&i.length&&(s=vs(s,i)),s==null)return;a=s[e]}return a==null?a:a.apply(s,t)})})});function Mr(n,e){return sn(n,Ur(e))}var _h=X(()=>{"use strict";Cs();Qd()});function yh(n,e){return Fn(n,ii(e))}var mE=X(()=>{"use strict";La();Ec()});function Ba(n,e,t){var i=-1/0,r=-1/0,s,a;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=Je(n)?n:gn(n);for(var o=0,c=n.length;o<c;o++)s=n[o],s!=null&&s>i&&(i=s)}else e=He(e,t),St(n,function(u,d,h){a=e(u,d,h),(a>r||a===-1/0&&i===-1/0)&&(i=u,r=a)});return i}var m_=X(()=>{"use strict";mn();bs();rn();Rr()});function vh(n,e,t){var i=1/0,r=1/0,s,a;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=Je(n)?n:gn(n);for(var o=0,c=n.length;o<c;o++)s=n[o],s!=null&&s<i&&(i=s)}else e=He(e,t),St(n,function(u,d,h){a=e(u,d,h),(a<r||a===1/0&&i===1/0)&&(i=u,r=a)});return i}var bE=X(()=>{"use strict";mn();bs();rn();Rr()});function Wa(n){return n?nn(n)?wi.call(n):ps(n)?n.match(xM):Je(n)?sn(n,Ir):gn(n):[]}var xM,b_=X(()=>{"use strict";kr();tt();Ud();mn();Cs();Yd();bs();xM=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g});function ja(n,e,t){if(e==null||t)return Je(n)||(n=gn(n)),n[ws(n.length-1)];var i=Wa(n),r=Ze(i);e=Math.max(Math.min(e,r),0);for(var s=r-1,a=0;a<e;a++){var o=ws(a,s),c=i[a];i[a]=i[o],i[o]=c}return i.slice(0,e)}var __=X(()=>{"use strict";mn();bs();kn();Hb();b_()});function xh(n){return ja(n,1/0)}var _E=X(()=>{"use strict";__()});function wh(n,e,t){var i=0;return e=He(e,t),Mr(sn(n,function(r,s,a){return{value:r,index:i++,criteria:e(r,s,a)}}).sort(function(r,s){var a=r.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return r.index-s.index}),"value")}var yE=X(()=>{"use strict";rn();_h();Cs()});function Xi(n,e){return function(t,i,r){var s=e?[[],[]]:{};return i=He(i,r),St(t,function(a,o){var c=i(a,o,t);n(s,a,c)}),s}}var Bc=X(()=>{"use strict";rn();Rr()});var y_,vE=X(()=>{"use strict";Bc();qi();y_=Xi(function(n,e,t){Lt(n,t)?n[t].push(e):n[t]=[e]})});var v_,xE=X(()=>{"use strict";Bc();v_=Xi(function(n,e,t){n[t]=e})});var x_,wE=X(()=>{"use strict";Bc();qi();x_=Xi(function(n,e,t){Lt(n,t)?n[t]++:n[t]=1})});var w_,DE=X(()=>{"use strict";Bc();w_=Xi(function(n,e,t){n[t?0:1].push(e)},!0)});function Dh(n){return n==null?0:Je(n)?n.length:Fe(n).length}var EE=X(()=>{"use strict";mn();Tt()});function D_(n,e,t){return e in t}var AE=X(()=>{"use strict"});var Wc,E_=X(()=>{"use strict";fn();Sn();Ua();Ta();AE();Ds();Wc=ze(function(n,e){var t={},i=e[0];if(n==null)return t;Ke(i)?(e.length>1&&(i=ri(i,e[1])),e=Hn(n)):(i=D_,e=bn(e,!1,!1),n=Object(n));for(var r=0,s=e.length;r<s;r++){var a=e[r],o=n[a];i(o,a,n)&&(t[a]=o)}return t})});var A_,CE=X(()=>{"use strict";fn();Sn();dh();Cs();Ds();Oa();E_();A_=ze(function(n,e){var t=e[0],i;return Ke(t)?(t=Pr(t),e.length>1&&(i=e[1])):(e=sn(bn(e,!1,!1),String),t=function(r,s){return!qt(e,s)}),Wc(n,t,i)})});function Va(n,e,t){return wi.call(n,0,Math.max(0,n.length-(e==null||t?1:e)))}var C_=X(()=>{"use strict";tt()});function za(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[0]:Va(n,n.length-e)}var TE=X(()=>{"use strict";C_()});function Nr(n,e,t){return wi.call(n,e==null||t?1:e)}var T_=X(()=>{"use strict";tt()});function Eh(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[n.length-1]:Nr(n,Math.max(0,n.length-e))}var SE=X(()=>{"use strict";T_()});function Ah(n){return Fn(n,Boolean)}var kE=X(()=>{"use strict";La()});function Ch(n,e){return bn(n,e,!1)}var FE=X(()=>{"use strict";Ds()});var jc,S_=X(()=>{"use strict";fn();Ds();La();Oa();jc=ze(function(n,e){return e=bn(e,!0,!0),Fn(n,function(t){return!qt(e,t)})})});var k_,IE=X(()=>{"use strict";fn();S_();k_=ze(function(n,e){return jc(n,e)})});function Ts(n,e,t,i){xa(e)||(i=t,t=e,e=!1),t!=null&&(t=He(t,i));for(var r=[],s=[],a=0,o=Ze(n);a<o;a++){var c=n[a],u=t?t(c,a,n):c;e&&!t?((!a||s!==u)&&r.push(c),s=u):t?qt(s,u)||(s.push(u),r.push(c)):qt(r,c)||r.push(c)}return r}var F_=X(()=>{"use strict";ub();rn();kn();Oa()});var I_,UE=X(()=>{"use strict";fn();F_();Ds();I_=ze(function(n){return Ts(bn(n,!0,!0))})});function Th(n){for(var e=[],t=arguments.length,i=0,r=Ze(n);i<r;i++){var s=n[i];if(!qt(e,s)){var a;for(a=1;a<t&&qt(arguments[a],s);a++);a===t&&e.push(s)}}return e}var PE=X(()=>{"use strict";kn();Oa()});function Ss(n){for(var e=n&&Ba(n,Ze).length||0,t=Array(e),i=0;i<e;i++)t[i]=Mr(n,i);return t}var U_=X(()=>{"use strict";m_();kn();_h()});var P_,RE=X(()=>{"use strict";fn();U_();P_=ze(Ss)});function Sh(n,e){for(var t={},i=0,r=Ze(n);i<r;i++)e?t[n[i]]=e[i]:t[n[i][0]]=n[i][1];return t}var ME=X(()=>{"use strict";kn()});function kh(n,e,t){e==null&&(e=n||0,n=0),t||(t=e<n?-1:1);for(var i=Math.max(Math.ceil((e-n)/t),0),r=Array(i),s=0;s<i;s++,n+=t)r[s]=n;return r}var NE=X(()=>{"use strict"});function Fh(n,e){if(e==null||e<1)return[];for(var t=[],i=0,r=n.length;i<r;)t.push(wi.call(n,i,i+=e));return t}var LE=X(()=>{"use strict";tt()});function Ha(n,e){return n._chain?_e(e).chain():e}var R_=X(()=>{"use strict";pn()});function qa(n){return St(_s(n),function(e){var t=_e[e]=n[e];_e.prototype[e]=function(){var i=[this._wrapped];return oD.apply(i,arguments),Ha(this,t.apply(_e,i))}}),_e}var OE=X(()=>{"use strict";pn();Rr();Mb();tt();R_()});var BE,WE=X(()=>{"use strict";pn();Rr();tt();R_();St(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=hc[n];_e.prototype[n]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(n==="shift"||n==="splice")&&t.length===0&&delete t[0]),Ha(this,t)}});St(["concat","join","slice"],function(n){var e=hc[n];_e.prototype[n]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),Ha(this,t)}});BE=_e});var M_={};ru(M_,{VERSION:()=>dc,after:()=>fh,all:()=>Lc,allKeys:()=>Hn,any:()=>Oc,assign:()=>Fr,before:()=>Ra,bind:()=>kc,bindAll:()=>t_,chain:()=>ah,chunk:()=>Fh,clone:()=>Gd,collect:()=>sn,compact:()=>Ah,compose:()=>hh,constant:()=>Aa,contains:()=>qt,countBy:()=>x_,create:()=>qd,debounce:()=>lh,default:()=>BE,defaults:()=>xc,defer:()=>i_,delay:()=>Fc,detect:()=>As,difference:()=>jc,drop:()=>Nr,each:()=>St,escape:()=>$b,every:()=>Lc,extend:()=>vc,extendOwn:()=>Fr,filter:()=>Fn,find:()=>As,findIndex:()=>Es,findKey:()=>Ma,findLastIndex:()=>Uc,findWhere:()=>gh,first:()=>za,flatten:()=>Ch,foldl:()=>Nc,foldr:()=>mh,forEach:()=>St,functions:()=>_s,get:()=>Ia,groupBy:()=>y_,has:()=>Kd,head:()=>za,identity:()=>Ir,include:()=>qt,includes:()=>qt,indexBy:()=>v_,indexOf:()=>Rc,initial:()=>Va,inject:()=>Nc,intersection:()=>Th,invert:()=>ka,invoke:()=>g_,isArguments:()=>gs,isArray:()=>nn,isArrayBuffer:()=>gc,isBoolean:()=>xa,isDataView:()=>Sr,isDate:()=>hb,isElement:()=>Id,isEmpty:()=>Od,isEqual:()=>Wd,isError:()=>pb,isFinite:()=>Nd,isFunction:()=>Ke,isMap:()=>Fb,isMatch:()=>Ca,isNaN:()=>Ea,isNull:()=>Fd,isNumber:()=>fc,isObject:()=>Ht,isRegExp:()=>fb,isSet:()=>Ub,isString:()=>ps,isSymbol:()=>pc,isTypedArray:()=>_c,isUndefined:()=>va,isWeakMap:()=>Ib,isWeakSet:()=>Pb,iteratee:()=>xs,keys:()=>Fe,last:()=>Eh,lastIndexOf:()=>h_,map:()=>sn,mapObject:()=>Zd,matcher:()=>ii,matches:()=>ii,max:()=>Ba,memoize:()=>oh,methods:()=>_s,min:()=>vh,mixin:()=>qa,negate:()=>Pr,noop:()=>Pa,now:()=>Gi,object:()=>Sh,omit:()=>A_,once:()=>s_,pairs:()=>Vd,partial:()=>$i,partition:()=>w_,pick:()=>Wc,pluck:()=>Mr,property:()=>Ur,propertyOf:()=>Jd,random:()=>ws,range:()=>kh,reduce:()=>Nc,reduceRight:()=>mh,reject:()=>bh,rest:()=>Nr,restArguments:()=>ze,result:()=>rh,sample:()=>ja,select:()=>Fn,shuffle:()=>xh,size:()=>Dh,some:()=>Oc,sortBy:()=>wh,sortedIndex:()=>Na,tail:()=>Nr,take:()=>za,tap:()=>$d,template:()=>ih,templateSettings:()=>Kb,throttle:()=>ch,times:()=>eh,toArray:()=>Wa,toPath:()=>Dc,transpose:()=>Ss,unescape:()=>Xb,union:()=>I_,uniq:()=>Ts,unique:()=>Ts,uniqueId:()=>sh,unzip:()=>Ss,values:()=>gn,where:()=>yh,without:()=>k_,wrap:()=>uh,zip:()=>P_});var Ih=X(()=>{"use strict";tt();fn();Tr();pD();lb();ub();gD();Ud();db();mD();bD();_D();gb();mb();Rd();kr();Sn();Md();xD();yb();Db();ED();Ab();SD();PD();RD();MD();ND();Tt();Ta();bs();LD();Rb();Mb();Nb();Hd();Lb();OD();BD();WD();Wb();jD();VD();Yd();vb();zb();Bb();Qd();zD();Ec();HD();Hb();th();qD();XD();Yb();KD();YD();QD();ZD();Vb();Sc();e_();JD();eE();n_();tE();nE();iE();rE();dh();sE();aE();r_();oE();a_();ph();c_();l_();d_();cE();f_();lE();Rr();Cs();uE();dE();La();hE();fE();pE();Oa();gE();_h();mE();m_();bE();_E();__();yE();vE();xE();wE();DE();b_();EE();E_();CE();TE();C_();SE();T_();kE();FE();IE();F_();UE();PE();S_();U_();RE();ME();NE();LE();OE();WE()});var N_,jE,VE=X(()=>{"use strict";Ih();Ih();N_=qa(M_);N_._=N_;jE=N_});var ut={};ru(ut,{VERSION:()=>dc,after:()=>fh,all:()=>Lc,allKeys:()=>Hn,any:()=>Oc,assign:()=>Fr,before:()=>Ra,bind:()=>kc,bindAll:()=>t_,chain:()=>ah,chunk:()=>Fh,clone:()=>Gd,collect:()=>sn,compact:()=>Ah,compose:()=>hh,constant:()=>Aa,contains:()=>qt,countBy:()=>x_,create:()=>qd,debounce:()=>lh,default:()=>jE,defaults:()=>xc,defer:()=>i_,delay:()=>Fc,detect:()=>As,difference:()=>jc,drop:()=>Nr,each:()=>St,escape:()=>$b,every:()=>Lc,extend:()=>vc,extendOwn:()=>Fr,filter:()=>Fn,find:()=>As,findIndex:()=>Es,findKey:()=>Ma,findLastIndex:()=>Uc,findWhere:()=>gh,first:()=>za,flatten:()=>Ch,foldl:()=>Nc,foldr:()=>mh,forEach:()=>St,functions:()=>_s,get:()=>Ia,groupBy:()=>y_,has:()=>Kd,head:()=>za,identity:()=>Ir,include:()=>qt,includes:()=>qt,indexBy:()=>v_,indexOf:()=>Rc,initial:()=>Va,inject:()=>Nc,intersection:()=>Th,invert:()=>ka,invoke:()=>g_,isArguments:()=>gs,isArray:()=>nn,isArrayBuffer:()=>gc,isBoolean:()=>xa,isDataView:()=>Sr,isDate:()=>hb,isElement:()=>Id,isEmpty:()=>Od,isEqual:()=>Wd,isError:()=>pb,isFinite:()=>Nd,isFunction:()=>Ke,isMap:()=>Fb,isMatch:()=>Ca,isNaN:()=>Ea,isNull:()=>Fd,isNumber:()=>fc,isObject:()=>Ht,isRegExp:()=>fb,isSet:()=>Ub,isString:()=>ps,isSymbol:()=>pc,isTypedArray:()=>_c,isUndefined:()=>va,isWeakMap:()=>Ib,isWeakSet:()=>Pb,iteratee:()=>xs,keys:()=>Fe,last:()=>Eh,lastIndexOf:()=>h_,map:()=>sn,mapObject:()=>Zd,matcher:()=>ii,matches:()=>ii,max:()=>Ba,memoize:()=>oh,methods:()=>_s,min:()=>vh,mixin:()=>qa,negate:()=>Pr,noop:()=>Pa,now:()=>Gi,object:()=>Sh,omit:()=>A_,once:()=>s_,pairs:()=>Vd,partial:()=>$i,partition:()=>w_,pick:()=>Wc,pluck:()=>Mr,property:()=>Ur,propertyOf:()=>Jd,random:()=>ws,range:()=>kh,reduce:()=>Nc,reduceRight:()=>mh,reject:()=>bh,rest:()=>Nr,restArguments:()=>ze,result:()=>rh,sample:()=>ja,select:()=>Fn,shuffle:()=>xh,size:()=>Dh,some:()=>Oc,sortBy:()=>wh,sortedIndex:()=>Na,tail:()=>Nr,take:()=>za,tap:()=>$d,template:()=>ih,templateSettings:()=>Kb,throttle:()=>ch,times:()=>eh,toArray:()=>Wa,toPath:()=>Dc,transpose:()=>Ss,unescape:()=>Xb,union:()=>I_,uniq:()=>Ts,unique:()=>Ts,uniqueId:()=>sh,unzip:()=>Ss,values:()=>gn,where:()=>yh,without:()=>k_,wrap:()=>uh,zip:()=>P_});var dt=X(()=>{"use strict";VE();Ih()});var ks=J((wY,B_)=>{"use strict";var L_=(function(){"use strict";return this===void 0})();L_?B_.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:L_,propertyIsWritable:function(n,e){var t=Object.getOwnPropertyDescriptor(n,e);return!!(!t||t.writable||t.set)}}:(zE={}.hasOwnProperty,HE={}.toString,qE={}.constructor.prototype,O_=function(n){var e=[];for(var t in n)zE.call(n,t)&&e.push(t);return e},GE=function(n,e){return{value:n[e]}},$E=function(n,e,t){return n[e]=t.value,n},XE=function(n){return n},KE=function(n){try{return Object(n).constructor.prototype}catch{return qE}},YE=function(n){try{return HE.call(n)==="[object Array]"}catch{return!1}},B_.exports={isArray:YE,keys:O_,names:O_,defineProperty:$E,getDescriptor:GE,freeze:XE,getPrototypeOf:KE,isES5:L_,propertyIsWritable:function(){return!0}});var zE,HE,qE,O_,GE,$E,XE,KE,YE});var Ye=J((exports,module)=>{"use strict";var es5=ks(),canEvaluate=typeof navigator>"u",errorObj={e:{}},tryCatchTarget,globalObject=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:exports!==void 0?exports:null;function tryCatcher(){try{var n=tryCatchTarget;return tryCatchTarget=null,n.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(n){return tryCatchTarget=n,tryCatcher}var inherits=function(n,e){var t={}.hasOwnProperty;function i(){this.constructor=n,this.constructor$=e;for(var r in e.prototype)t.call(e.prototype,r)&&r.charAt(r.length-1)!=="$"&&(this[r+"$"]=e.prototype[r])}return i.prototype=e.prototype,n.prototype=new i,n.prototype};function isPrimitive(n){return n==null||n===!0||n===!1||typeof n=="string"||typeof n=="number"}function isObject(n){return typeof n=="function"||typeof n=="object"&&n!==null}function maybeWrapAsError(n){return isPrimitive(n)?new Error(safeToString(n)):n}function withAppended(n,e){var t=n.length,i=new Array(t+1),r;for(r=0;r<t;++r)i[r]=n[r];return i[r]=e,i}function getDataPropertyOrDefault(n,e,t){if(es5.isES5){var i=Object.getOwnPropertyDescriptor(n,e);if(i!=null)return i.get==null&&i.set==null?i.value:t}else return{}.hasOwnProperty.call(n,e)?n[e]:void 0}function notEnumerableProp(n,e,t){if(isPrimitive(n))return n;var i={value:t,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(n,e,i),n}function thrower(n){throw n}var inheritedDataKeys=(function(){var n=[Array.prototype,Object.prototype,Function.prototype],e=function(r){for(var s=0;s<n.length;++s)if(n[s]===r)return!0;return!1};if(es5.isES5){var t=Object.getOwnPropertyNames;return function(r){for(var s=[],a=Object.create(null);r!=null&&!e(r);){var o;try{o=t(r)}catch{return s}for(var c=0;c<o.length;++c){var u=o[c];if(!a[u]){a[u]=!0;var d=Object.getOwnPropertyDescriptor(r,u);d!=null&&d.get==null&&d.set==null&&s.push(u)}}r=es5.getPrototypeOf(r)}return s}}else{var i={}.hasOwnProperty;return function(r){if(e(r))return[];var s=[];e:for(var a in r)if(i.call(r,a))s.push(a);else{for(var o=0;o<n.length;++o)if(i.call(n[o],a))continue e;s.push(a)}return s}}})(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(n){try{if(typeof n=="function"){var e=es5.names(n.prototype),t=es5.isES5&&e.length>1,i=e.length>0&&!(e.length===1&&e[0]==="constructor"),r=thisAssignmentPattern.test(n+"")&&es5.names(n).length>0;if(t||i||r)return!0}return!1}catch{return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(n){return rident.test(n)}function filledRange(n,e,t){for(var i=new Array(n),r=0;r<n;++r)i[r]=e+r+t;return i}function safeToString(n){try{return n+""}catch{return"[no string representation]"}}function isError(n){return n!==null&&typeof n=="object"&&typeof n.message=="string"&&typeof n.name=="string"}function markAsOriginatingFromRejection(n){try{notEnumerableProp(n,"isOperational",!0)}catch{}}function originatesFromRejection(n){return n==null?!1:n instanceof Error.__BluebirdErrorTypes__.OperationalError||n.isOperational===!0}function canAttachTrace(n){return isError(n)&&es5.propertyIsWritable(n,"stack")}var ensureErrorObject=(function(){return"stack"in new Error?function(n){return canAttachTrace(n)?n:new Error(safeToString(n))}:function(n){if(canAttachTrace(n))return n;try{throw new Error(safeToString(n))}catch(e){return e}}})();function classString(n){return{}.toString.call(n)}function copyDescriptors(n,e,t){for(var i=es5.names(n),r=0;r<i.length;++r){var s=i[r];if(t(s))try{es5.defineProperty(e,s,es5.getDescriptor(n,s))}catch{}}}var asArray=function(n){return es5.isArray(n)?n:null};typeof Symbol<"u"&&Symbol.iterator&&(ArrayFrom=typeof Array.from=="function"?function(n){return Array.from(n)}:function(n){for(var e=[],t=n[Symbol.iterator](),i;!(i=t.next()).done;)e.push(i.value);return e},asArray=function(n){return es5.isArray(n)?n:n!=null&&typeof n[Symbol.iterator]=="function"?ArrayFrom(n):null});var ArrayFrom,isNode=typeof process<"u"&&classString(process).toLowerCase()==="[object process]",hasEnvVariables=typeof process<"u"&&typeof process.env<"u";function env(n){return hasEnvVariables?process.env[n]:void 0}function getNativePromise(){if(typeof Promise=="function")try{var n=new Promise(function(){});if({}.toString.call(n)==="[object Promise]")return Promise}catch{}}function domainBind(n,e){return n.bind(e)}var ret={isClass,isIdentifier,inheritedDataKeys,getDataPropertyOrDefault,thrower,isArray:es5.isArray,asArray,notEnumerableProp,isPrimitive,isObject,isError,canEvaluate,errorObj,tryCatch,inherits,withAppended,maybeWrapAsError,toFastProperties,filledRange,toString:safeToString,canAttachTrace,ensureErrorObject,originatesFromRejection,markAsOriginatingFromRejection,classString,copyDescriptors,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode,hasEnvVariables,env,global:globalObject,getNativePromise,domainBind};ret.isRecentNode=ret.isNode&&(function(){var n=process.versions.node.split(".").map(Number);return n[0]===0&&n[1]>10||n[0]>0})();ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(n){ret.lastLineError=n}module.exports=ret});var tA=J((DY,eA)=>{"use strict";var j_=Ye(),Fs,wM=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},W_=j_.getNativePromise();j_.isNode&&typeof MutationObserver>"u"?(QE=global.setImmediate,ZE=process.nextTick,Fs=j_.isRecentNode?function(n){QE.call(global,n)}:function(n){ZE.call(process,n)}):typeof W_=="function"&&typeof W_.resolve=="function"?(JE=W_.resolve(),Fs=function(n){JE.then(n)}):typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?Fs=(function(){var n=document.createElement("div"),e={attributes:!0},t=!1,i=document.createElement("div"),r=new MutationObserver(function(){n.classList.toggle("foo"),t=!1});r.observe(i,e);var s=function(){t||(t=!0,i.classList.toggle("foo"))};return function(o){var c=new MutationObserver(function(){c.disconnect(),o()});c.observe(n,e),s()}})():typeof setImmediate<"u"?Fs=function(n){setImmediate(n)}:typeof setTimeout<"u"?Fs=function(n){setTimeout(n,0)}:Fs=wM;var QE,ZE,JE;eA.exports=Fs});var iA=J((EY,nA)=>{"use strict";function DM(n,e,t,i,r){for(var s=0;s<r;++s)t[s+i]=n[s+e],n[s+e]=void 0}function Lr(n){this._capacity=n,this._length=0,this._front=0}Lr.prototype._willBeOverCapacity=function(n){return this._capacity<n};Lr.prototype._pushOne=function(n){var e=this.length();this._checkCapacity(e+1);var t=this._front+e&this._capacity-1;this[t]=n,this._length=e+1};Lr.prototype.push=function(n,e,t){var i=this.length()+3;if(this._willBeOverCapacity(i)){this._pushOne(n),this._pushOne(e),this._pushOne(t);return}var r=this._front+i-3;this._checkCapacity(i);var s=this._capacity-1;this[r+0&s]=n,this[r+1&s]=e,this[r+2&s]=t,this._length=i};Lr.prototype.shift=function(){var n=this._front,e=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,e};Lr.prototype.length=function(){return this._length};Lr.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)};Lr.prototype._resizeTo=function(n){var e=this._capacity;this._capacity=n;var t=this._front,i=this._length,r=t+i&e-1;DM(this,0,this,e,r)};nA.exports=Lr});var uA=J((AY,V_)=>{"use strict";var cA;try{throw new Error}catch(n){cA=n}var EM=tA(),rA=iA(),lA=Ye();function kt(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new rA(16),this._normalQueue=new rA(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var n=this;this.drainQueues=function(){n._drainQueues()},this._schedule=EM}kt.prototype.setScheduler=function(n){var e=this._schedule;return this._schedule=n,this._customScheduler=!0,e};kt.prototype.hasCustomScheduler=function(){return this._customScheduler};kt.prototype.enableTrampoline=function(){this._trampolineEnabled=!0};kt.prototype.disableTrampolineIfNecessary=function(){lA.hasDevTools&&(this._trampolineEnabled=!1)};kt.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};kt.prototype.fatalError=function(n,e){e?(process.stderr.write("Fatal "+(n instanceof Error?n.stack:n)+`
`),process.exit(2)):this.throwLater(n)};kt.prototype.throwLater=function(n,e){if(arguments.length===1&&(e=n,n=function(){throw e}),typeof setTimeout<"u")setTimeout(function(){n(e)},0);else try{this._schedule(function(){n(e)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function sA(n,e,t){this._lateQueue.push(n,e,t),this._queueTick()}function aA(n,e,t){this._normalQueue.push(n,e,t),this._queueTick()}function oA(n){this._normalQueue._pushOne(n),this._queueTick()}lA.hasDevTools?(kt.prototype.invokeLater=function(n,e,t){this._trampolineEnabled?sA.call(this,n,e,t):this._schedule(function(){setTimeout(function(){n.call(e,t)},100)})},kt.prototype.invoke=function(n,e,t){this._trampolineEnabled?aA.call(this,n,e,t):this._schedule(function(){n.call(e,t)})},kt.prototype.settlePromises=function(n){this._trampolineEnabled?oA.call(this,n):this._schedule(function(){n._settlePromises()})}):(kt.prototype.invokeLater=sA,kt.prototype.invoke=aA,kt.prototype.settlePromises=oA);kt.prototype._drainQueue=function(n){for(;n.length()>0;){var e=n.shift();if(typeof e!="function"){e._settlePromises();continue}var t=n.shift(),i=n.shift();e.call(t,i)}};kt.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)};kt.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))};kt.prototype._reset=function(){this._isTickUsed=!1};V_.exports=kt;V_.exports.firstLineError=cA});var Ki=J((CY,fA)=>{"use strict";var q_=ks(),AM=q_.freeze,dA=Ye(),hA=dA.inherits,$a=dA.notEnumerableProp;function Xa(n,e){function t(i){if(!(this instanceof t))return new t(i);$a(this,"message",typeof i=="string"?i:e),$a(this,"name",n),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return hA(t,Error),t}var z_,H_,CM=Xa("Warning","warning"),TM=Xa("CancellationError","cancellation error"),SM=Xa("TimeoutError","timeout error"),zc=Xa("AggregateError","aggregate error");try{z_=TypeError,H_=RangeError}catch{z_=Xa("TypeError","type error"),H_=Xa("RangeError","range error")}var Uh="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" ");for(Ga=0;Ga<Uh.length;++Ga)typeof Array.prototype[Uh[Ga]]=="function"&&(zc.prototype[Uh[Ga]]=Array.prototype[Uh[Ga]]);var Ga;q_.defineProperty(zc.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0});zc.prototype.isOperational=!0;var Ph=0;zc.prototype.toString=function(){var n=Array(Ph*4+1).join(" "),e=`
`+n+`AggregateError of:
`;Ph++,n=Array(Ph*4+1).join(" ");for(var t=0;t<this.length;++t){for(var i=this[t]===this?"[Circular AggregateError]":this[t]+"",r=i.split(`
`),s=0;s<r.length;++s)r[s]=n+r[s];i=r.join(`
`),e+=i+`
`}return Ph--,e};function Vc(n){if(!(this instanceof Vc))return new Vc(n);$a(this,"name","OperationalError"),$a(this,"message",n),this.cause=n,this.isOperational=!0,n instanceof Error?($a(this,"message",n.message),$a(this,"stack",n.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}hA(Vc,Error);var Is=Error.__BluebirdErrorTypes__;Is||(Is=AM({CancellationError:TM,TimeoutError:SM,OperationalError:Vc,RejectionError:Vc,AggregateError:zc}),q_.defineProperty(Error,"__BluebirdErrorTypes__",{value:Is,writable:!1,enumerable:!1,configurable:!1}));fA.exports={Error,TypeError:z_,RangeError:H_,CancellationError:Is.CancellationError,OperationalError:Is.OperationalError,TimeoutError:Is.TimeoutError,AggregateError:Is.AggregateError,Warning:CM}});var gA=J((TY,pA)=>{"use strict";pA.exports=function(n,e){var t=Ye(),i=t.errorObj,r=t.isObject;function s(h,f){if(r(h)){if(h instanceof n)return h;var p=o(h);if(p===i){f&&f._pushContext();var g=n.reject(p.e);return f&&f._popContext(),g}else if(typeof p=="function"){if(u(h)){var g=new n(e);return h._then(g._fulfill,g._reject,void 0,g,null),g}return d(h,p,f)}}return h}function a(h){return h.then}function o(h){try{return a(h)}catch(f){return i.e=f,i}}var c={}.hasOwnProperty;function u(h){try{return c.call(h,"_promise0")}catch{return!1}}function d(h,f,p){var g=new n(e),m=g;p&&p._pushContext(),g._captureStackTrace(),p&&p._popContext();var y=!0,b=t.tryCatch(f).call(h,w,_);y=!1,g&&b===i&&(g._rejectCallback(b.e,!0,!0),g=null);function w(D){g&&(g._resolveCallback(D),g=null)}function _(D){g&&(g._rejectCallback(D,y,!0),g=null)}return m}return s}});var bA=J((SY,mA)=>{"use strict";mA.exports=function(n,e,t,i,r){var s=Ye(),a=s.isArray;function o(u){switch(u){case-2:return[];case-3:return{}}}function c(u){var d=this._promise=new n(e);u instanceof n&&d._propagateFrom(u,3),d._setOnCancel(this),this._values=u,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(c,r),c.prototype.length=function(){return this._length},c.prototype.promise=function(){return this._promise},c.prototype._init=function u(d,h){var f=t(this._values,this._promise);if(f instanceof n){f=f._target();var p=f._bitField;if(this._values=f,(p&50397184)===0)return this._promise._setAsyncGuaranteed(),f._then(u,this._reject,void 0,this,h);if((p&33554432)!==0)f=f._value();else return(p&16777216)!==0?this._reject(f._reason()):this._cancel()}if(f=s.asArray(f),f===null){var g=i("expecting an array or an iterable object but got "+s.classString(f)).reason();this._promise._rejectCallback(g,!1);return}if(f.length===0){h===-5?this._resolveEmptyArray():this._resolve(o(h));return}this._iterate(f)},c.prototype._iterate=function(u){var d=this.getActualLength(u.length);this._length=d,this._values=this.shouldCopyValues()?new Array(d):this._values;for(var h=this._promise,f=!1,p=null,g=0;g<d;++g){var m=t(u[g],h);m instanceof n?(m=m._target(),p=m._bitField):p=null,f?p!==null&&m.suppressUnhandledRejections():p!==null?(p&50397184)===0?(m._proxy(this,g),this._values[g]=m):(p&33554432)!==0?f=this._promiseFulfilled(m._value(),g):(p&16777216)!==0?f=this._promiseRejected(m._reason(),g):f=this._promiseCancelled(g):f=this._promiseFulfilled(m,g)}f||h._setAsyncGuaranteed()},c.prototype._isResolved=function(){return this._values===null},c.prototype._resolve=function(u){this._values=null,this._promise._fulfill(u)},c.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},c.prototype._reject=function(u){this._values=null,this._promise._rejectCallback(u,!1)},c.prototype._promiseFulfilled=function(u,d){this._values[d]=u;var h=++this._totalResolved;return h>=this._length?(this._resolve(this._values),!0):!1},c.prototype._promiseCancelled=function(){return this._cancel(),!0},c.prototype._promiseRejected=function(u){return this._totalResolved++,this._reject(u),!0},c.prototype._resultCancelled=function(){if(!this._isResolved()){var u=this._values;if(this._cancel(),u instanceof n)u.cancel();else for(var d=0;d<u.length;++d)u[d]instanceof n&&u[d].cancel()}},c.prototype.shouldCopyValues=function(){return!0},c.prototype.getActualLength=function(u){return u},c}});var yA=J((kY,_A)=>{"use strict";_A.exports=function(n){var e=!1,t=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(s())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function r(){if(e)return new i}function s(){var a=t.length-1;if(a>=0)return t[a]}return i.CapturedTrace=null,i.create=r,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var a=n.prototype._pushContext,o=n.prototype._popContext,c=n._peekContext,u=n.prototype._peekContext,d=n.prototype._promiseCreated;i.deactivateLongStackTraces=function(){n.prototype._pushContext=a,n.prototype._popContext=o,n._peekContext=c,n.prototype._peekContext=u,n.prototype._promiseCreated=d,e=!1},e=!0,n.prototype._pushContext=i.prototype._pushContext,n.prototype._popContext=i.prototype._popContext,n._peekContext=n.prototype._peekContext=s,n.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},i}});var xA=J((FY,vA)=>{"use strict";vA.exports=function(n,e){var t=n._getDomain,i=n._async,r=Ki().Warning,s=Ye(),a=s.canAttachTrace,o,c,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,p=null,g=!1,m,y=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),b=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(y||s.env("BLUEBIRD_WARNINGS"))),w=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(y||s.env("BLUEBIRD_LONG_STACK_TRACES"))),_=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var O=this._target();O._bitField=O._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){v("rejectionHandled",o,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var O=this._settledValue();this._setUnhandledRejectionIsNotified(),v("unhandledRejection",c,O,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(O,V,ee){return de(O,V,ee||this)},n.onPossiblyUnhandledRejection=function(O){var V=t();c=typeof O=="function"?V===null?O:s.domainBind(V,O):void 0},n.onUnhandledRejectionHandled=function(O){var V=t();o=typeof O=="function"?V===null?O:s.domainBind(V,O):void 0};var D=function(){};n.longStackTraces=function(){if(i.haveItemsQueued()&&!oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!oe.longStackTraces&&R()){var O=n.prototype._captureStackTrace,V=n.prototype._attachExtraTrace;oe.longStackTraces=!0,D=function(){if(i.haveItemsQueued()&&!oe.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=O,n.prototype._attachExtraTrace=V,e.deactivateLongStackTraces(),i.enableTrampoline(),oe.longStackTraces=!1},n.prototype._captureStackTrace=N,n.prototype._attachExtraTrace=G,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return oe.longStackTraces&&R()};var A=(function(){try{if(typeof CustomEvent=="function"){var O=new CustomEvent("CustomEvent");return s.global.dispatchEvent(O),function(V,ee){var te=new CustomEvent(V.toLowerCase(),{detail:ee,cancelable:!0});return!s.global.dispatchEvent(te)}}else if(typeof Event=="function"){var O=new Event("CustomEvent");return s.global.dispatchEvent(O),function(ee,te){var ue=new Event(ee.toLowerCase(),{cancelable:!0});return ue.detail=te,!s.global.dispatchEvent(ue)}}else{var O=document.createEvent("CustomEvent");return O.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(O),function(ee,te){var ue=document.createEvent("CustomEvent");return ue.initCustomEvent(ee.toLowerCase(),!1,!0,te),!s.global.dispatchEvent(ue)}}}catch{}return function(){return!1}})(),T=(function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(O){var V="on"+O.toLowerCase(),ee=s.global[V];return ee?(ee.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}})();function E(O,V){return{promise:V}}var k={promiseCreated:E,promiseFulfilled:E,promiseRejected:E,promiseResolved:E,promiseCancelled:E,promiseChained:function(O,V,ee){return{promise:V,child:ee}},warning:function(O,V){return{warning:V}},unhandledRejection:function(O,V,ee){return{reason:V,promise:ee}},rejectionHandled:E},S=function(O){var V=!1;try{V=T.apply(null,arguments)}catch(te){i.throwLater(te),V=!0}var ee=!1;try{ee=A(O,k[O].apply(null,arguments))}catch(te){i.throwLater(te),ee=!0}return ee||V};n.config=function(O){if(O=Object(O),"longStackTraces"in O&&(O.longStackTraces?n.longStackTraces():!O.longStackTraces&&n.hasLongStackTraces()&&D()),"warnings"in O){var V=O.warnings;oe.warnings=!!V,_=oe.warnings,s.isObject(V)&&"wForgottenReturn"in V&&(_=!!V.wForgottenReturn)}if("cancellation"in O&&O.cancellation&&!oe.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=H,n.prototype._propagateFrom=I,n.prototype._onCancel=B,n.prototype._setOnCancel=q,n.prototype._attachCancellationCallback=x,n.prototype._execute=L,U=I,oe.cancellation=!0}return"monitoring"in O&&(O.monitoring&&!oe.monitoring?(oe.monitoring=!0,n.prototype._fireEvent=S):!O.monitoring&&oe.monitoring&&(oe.monitoring=!1,n.prototype._fireEvent=C)),n};function C(){return!1}n.prototype._fireEvent=C,n.prototype._execute=function(O,V,ee){try{O(V,ee)}catch(te){return te}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(O){},n.prototype._attachCancellationCallback=function(O){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(O,V){};function L(O,V,ee){var te=this;try{O(V,ee,function(ue){if(typeof ue!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(ue));te._attachCancellationCallback(ue)})}catch(ue){return ue}}function x(O){if(!this._isCancellable())return this;var V=this._onCancel();V!==void 0?s.isArray(V)?V.push(O):this._setOnCancel([V,O]):this._setOnCancel(O)}function B(){return this._onCancelField}function q(O){this._onCancelField=O}function H(){this._cancellationParent=void 0,this._onCancelField=void 0}function I(O,V){if((V&1)!==0){this._cancellationParent=O;var ee=O._branchesRemainingToCancel;ee===void 0&&(ee=0),O._branchesRemainingToCancel=ee+1}(V&2)!==0&&O._isBound()&&this._setBoundTo(O._boundTo)}function M(O,V){(V&2)!==0&&O._isBound()&&this._setBoundTo(O._boundTo)}var U=M;function P(){var O=this._boundTo;return O!==void 0&&O instanceof n?O.isFulfilled()?O.value():void 0:O}function N(){this._trace=new $(this._peekContext())}function G(O,V){if(a(O)){var ee=this._trace;if(ee!==void 0&&V&&(ee=ee._parent),ee!==void 0)ee.attachExtraTrace(O);else if(!O.__stackCleaned__){var te=wt(O);s.notEnumerableProp(O,"stack",te.message+`
`+te.stack.join(`
`)),s.notEnumerableProp(O,"__stackCleaned__",!0)}}}function Y(O,V,ee,te,ue){if(O===void 0&&V!==null&&_){if(ue!==void 0&&ue._returnedNonUndefined()||(te._bitField&65535)===0)return;ee&&(ee=ee+" ");var $e="",Te="";if(V._trace){for(var pe=V._trace.stack.split(`
`),me=De(pe),et=me.length-1;et>=0;--et){var En=me[et];if(!d.test(En)){var Dt=En.match(h);Dt&&($e="at "+Dt[1]+":"+Dt[2]+":"+Dt[3]+" ");break}}if(me.length>0){for(var nu=me[0],et=0;et<pe.length;++et)if(pe[et]===nu){et>0&&(Te=`
`+pe[et-1]);break}}}var Gp="a promise was created in a "+ee+"handler "+$e+"but was not returned from it, see http://goo.gl/rRqMUw"+Te;te._warn(Gp,!0,V)}}function K(O,V){var ee=O+" is deprecated and will be removed in a future version.";return V&&(ee+=" Use "+V+" instead."),de(ee)}function de(O,V,ee){if(oe.warnings){var te=new r(O),ue;if(V)ee._attachExtraTrace(te);else if(oe.longStackTraces&&(ue=n._peekContext()))ue.attachExtraTrace(te);else{var $e=wt(te);te.stack=$e.message+`
`+$e.stack.join(`
`)}S("warning",te)||Vt(te,"",!0)}}function ge(O,V){for(var ee=0;ee<V.length-1;++ee)V[ee].push("From previous event:"),V[ee]=V[ee].join(`
`);return ee<V.length&&(V[ee]=V[ee].join(`
`)),O+`
`+V.join(`
`)}function ce(O){for(var V=0;V<O.length;++V)(O[V].length===0||V+1<O.length&&O[V][0]===O[V+1][0])&&(O.splice(V,1),V--)}function le(O){for(var V=O[0],ee=1;ee<O.length;++ee){for(var te=O[ee],ue=V.length-1,$e=V[ue],Te=-1,pe=te.length-1;pe>=0;--pe)if(te[pe]===$e){Te=pe;break}for(var pe=Te;pe>=0;--pe){var me=te[pe];if(V[ue]===me)V.pop(),ue--;else break}V=te}}function De(O){for(var V=[],ee=0;ee<O.length;++ee){var te=O[ee],ue=te==="    (No stack trace)"||f.test(te),$e=ue&&F(te);ue&&!$e&&(g&&te.charAt(0)!==" "&&(te="    "+te),V.push(te))}return V}function Re(O){for(var V=O.stack.replace(/\s+$/g,"").split(`
`),ee=0;ee<V.length;++ee){var te=V[ee];if(te==="    (No stack trace)"||f.test(te))break}return ee>0&&O.name!="SyntaxError"&&(V=V.slice(ee)),V}function wt(O){var V=O.stack,ee=O.toString();return V=typeof V=="string"&&V.length>0?Re(O):["    (No stack trace)"],{message:ee,stack:O.name=="SyntaxError"?V:De(V)}}function Vt(O,V,ee){if(typeof console<"u"){var te;if(s.isObject(O)){var ue=O.stack;te=V+p(ue,O)}else te=V+String(O);typeof m=="function"?m(te,ee):(typeof console.log=="function"||typeof console.log=="object")&&console.log(te)}}function v(O,V,ee,te){var ue=!1;try{typeof V=="function"&&(ue=!0,O==="rejectionHandled"?V(te):V(ee,te))}catch($e){i.throwLater($e)}O==="unhandledRejection"?!S(O,ee,te)&&!ue&&Vt(ee,"Unhandled rejection "):S(O,te)}function W(O){var V;if(typeof O=="function")V="[function "+(O.name||"anonymous")+"]";else{V=O&&typeof O.toString=="function"?O.toString():s.toString(O);var ee=/\[object [a-zA-Z0-9$_]+\]/;if(ee.test(V))try{var te=JSON.stringify(O);V=te}catch{}V.length===0&&(V="(empty array)")}return"(<"+z(V)+">, no stack trace)"}function z(O){var V=41;return O.length<V?O:O.substr(0,V-3)+"..."}function R(){return typeof se=="function"}var F=function(){return!1},j=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Q(O){var V=O.match(j);if(V)return{fileName:V[1],line:parseInt(V[2],10)}}function ie(O,V){if(R()){for(var ee=O.stack.split(`
`),te=V.stack.split(`
`),ue=-1,$e=-1,Te,pe,me=0;me<ee.length;++me){var et=Q(ee[me]);if(et){Te=et.fileName,ue=et.line;break}}for(var me=0;me<te.length;++me){var et=Q(te[me]);if(et){pe=et.fileName,$e=et.line;break}}ue<0||$e<0||!Te||!pe||Te!==pe||ue>=$e||(F=function(En){if(u.test(En))return!0;var Dt=Q(En);return!!(Dt&&Dt.fileName===Te&&ue<=Dt.line&&Dt.line<=$e)})}}function $(O){this._parent=O,this._promisesCreated=0;var V=this._length=1+(O===void 0?0:O._length);se(this,$),V>32&&this.uncycle()}s.inherits($,Error),e.CapturedTrace=$,$.prototype.uncycle=function(){var O=this._length;if(!(O<2)){for(var V=[],ee={},te=0,ue=this;ue!==void 0;++te)V.push(ue),ue=ue._parent;O=this._length=te;for(var te=O-1;te>=0;--te){var $e=V[te].stack;ee[$e]===void 0&&(ee[$e]=te)}for(var te=0;te<O;++te){var Te=V[te].stack,pe=ee[Te];if(pe!==void 0&&pe!==te){pe>0&&(V[pe-1]._parent=void 0,V[pe-1]._length=1),V[te]._parent=void 0,V[te]._length=1;var me=te>0?V[te-1]:this;pe<O-1?(me._parent=V[pe+1],me._parent.uncycle(),me._length=me._parent._length+1):(me._parent=void 0,me._length=1);for(var et=me._length+1,En=te-2;En>=0;--En)V[En]._length=et,et++;return}}}},$.prototype.attachExtraTrace=function(O){if(!O.__stackCleaned__){this.uncycle();for(var V=wt(O),ee=V.message,te=[V.stack],ue=this;ue!==void 0;)te.push(De(ue.stack.split(`
`))),ue=ue._parent;le(te),ce(te),s.notEnumerableProp(O,"stack",ge(ee,te)),s.notEnumerableProp(O,"__stackCleaned__",!0)}};var se=(function(){var V=/^\s*at\s*/,ee=function(Te,pe){return typeof Te=="string"?Te:pe.name!==void 0&&pe.message!==void 0?pe.toString():W(pe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=V,p=ee;var te=Error.captureStackTrace;return F=function(Te){return u.test(Te)},function(Te,pe){Error.stackTraceLimit+=6,te(Te,pe),Error.stackTraceLimit-=6}}var ue=new Error;if(typeof ue.stack=="string"&&ue.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,p=ee,g=!0,function(pe){pe.stack=new Error().stack};var $e;try{throw new Error}catch(Te){$e="stack"in Te}return!("stack"in ue)&&$e&&typeof Error.stackTraceLimit=="number"?(f=V,p=ee,function(pe){Error.stackTraceLimit+=6;try{throw new Error}catch(me){pe.stack=me.stack}Error.stackTraceLimit-=6}):(p=function(Te,pe){return typeof Te=="string"?Te:(typeof pe=="object"||typeof pe=="function")&&pe.name!==void 0&&pe.message!==void 0?pe.toString():W(pe)},null)})([]);typeof console<"u"&&typeof console.warn<"u"&&(m=function(O){console.warn(O)},s.isNode&&process.stderr.isTTY?m=function(O,V){var ee=V?"\x1B[33m":"\x1B[31m";console.warn(ee+O+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(m=function(O,V){console.warn("%c"+O,V?"color: darkorange":"color: red")}));var oe={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&n.longStackTraces(),{longStackTraces:function(){return oe.longStackTraces},warnings:function(){return oe.warnings},cancellation:function(){return oe.cancellation},monitoring:function(){return oe.monitoring},propagateFromFunction:function(){return U},boundValueFunction:function(){return P},checkForgottenReturns:Y,setBounds:ie,warn:de,deprecated:K,CapturedTrace:$,fireDomEvent:A,fireGlobalEvent:T}}});var DA=J((IY,wA)=>{"use strict";wA.exports=function(n,e){var t=Ye(),i=n.CancellationError,r=t.errorObj;function s(h,f,p){this.promise=h,this.type=f,this.handler=p,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(h){this.finallyHandler=h}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function c(){return d.call(this,this.promise._target()._settledValue())}function u(h){if(!o(this,h))return r.e=h,r}function d(h){var f=this.promise,p=this.handler;if(!this.called){this.called=!0;var g=this.isFinallyHandler()?p.call(f._boundValue()):p.call(f._boundValue(),h);if(g!==void 0){f._setReturnedNonUndefined();var m=e(g,f);if(m instanceof n){if(this.cancelPromise!=null)if(m._isCancelled()){var y=new i("late cancellation observer");return f._attachExtraTrace(y),r.e=y,r}else m.isPending()&&m._attachCancellationCallback(new a(this));return m._then(c,u,void 0,this,void 0)}}}return f.isRejected()?(o(this),r.e=h,r):(o(this),h)}return n.prototype._passThrough=function(h,f,p,g){return typeof h!="function"?this.then():this._then(p,g,void 0,new s(this,f,h),void 0)},n.prototype.lastly=n.prototype.finally=function(h){return this._passThrough(h,0,d,d)},n.prototype.tap=function(h){return this._passThrough(h,1,d)},s}});var AA=J((UY,EA)=>{"use strict";EA.exports=function(n){var e=Ye(),t=ks().keys,i=e.tryCatch,r=e.errorObj;function s(a,o,c){return function(u){var d=c._boundValue();e:for(var h=0;h<a.length;++h){var f=a[h];if(f===Error||f!=null&&f.prototype instanceof Error){if(u instanceof f)return i(o).call(d,u)}else if(typeof f=="function"){var p=i(f).call(d,u);if(p===r)return p;if(p)return i(o).call(d,u)}else if(e.isObject(u)){for(var g=t(f),m=0;m<g.length;++m){var y=g[m];if(f[y]!=u[y])continue e}return i(o).call(d,u)}}return n}}return s}});var G_=J((PY,SA)=>{"use strict";var CA=Ye(),kM=CA.maybeWrapAsError,FM=Ki(),IM=FM.OperationalError,TA=ks();function UM(n){return n instanceof Error&&TA.getPrototypeOf(n)===Error.prototype}var PM=/^(?:name|message|stack|cause)$/;function RM(n){var e;if(UM(n)){e=new IM(n),e.name=n.name,e.message=n.message,e.stack=n.stack;for(var t=TA.keys(n),i=0;i<t.length;++i){var r=t[i];PM.test(r)||(e[r]=n[r])}return e}return CA.markAsOriginatingFromRejection(n),n}function MM(n,e){return function(t,i){if(n!==null){if(t){var r=RM(kM(t));n._attachExtraTrace(r),n._reject(r)}else if(!e)n._fulfill(i);else{for(var s=arguments.length,a=new Array(Math.max(s-1,0)),o=1;o<s;++o)a[o-1]=arguments[o];n._fulfill(a)}n=null}}}SA.exports=MM});var FA=J((RY,kA)=>{"use strict";kA.exports=function(n,e,t,i,r){var s=Ye(),a=s.tryCatch;n.method=function(o){if(typeof o!="function")throw new n.TypeError("expecting a function but got "+s.classString(o));return function(){var c=new n(e);c._captureStackTrace(),c._pushContext();var u=a(o).apply(this,arguments),d=c._popContext();return r.checkForgottenReturns(u,d,"Promise.method",c),c._resolveFromSyncValue(u),c}},n.attempt=n.try=function(o){if(typeof o!="function")return i("expecting a function but got "+s.classString(o));var c=new n(e);c._captureStackTrace(),c._pushContext();var u;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],h=arguments[2];u=s.isArray(d)?a(o).apply(h,d):a(o).call(h,d)}else u=a(o)();var f=c._popContext();return r.checkForgottenReturns(u,f,"Promise.try",c),c._resolveFromSyncValue(u),c},n.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}});var UA=J((MY,IA)=>{"use strict";IA.exports=function(n,e,t,i){var r=!1,s=function(u,d){this._reject(d)},a=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(s,s,null,this,u)},o=function(u,d){(this._bitField&50397184)===0&&this._resolveCallback(d.target)},c=function(u,d){d.promiseRejectionQueued||this._reject(u)};n.prototype.bind=function(u){r||(r=!0,n.prototype._propagateFrom=i.propagateFromFunction(),n.prototype._boundValue=i.boundValueFunction());var d=t(u),h=new n(e);h._propagateFrom(this,1);var f=this._target();if(h._setBoundTo(d),d instanceof n){var p={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:d};f._then(e,a,void 0,h,p),d._then(o,c,void 0,h,p),h._setOnCancel(d)}else h._resolveCallback(f);return h},n.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(u,d){return n.resolve(d).bind(u)}}});var RA=J((NY,PA)=>{"use strict";PA.exports=function(n,e,t,i){var r=Ye(),s=r.tryCatch,a=r.errorObj,o=n._async;n.prototype.break=n.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var c=this,u=c;c._isCancellable();){if(!c._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=c._cancellationParent;if(d==null||!d._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),u=c,c=d}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(c,u){if(r.isArray(c))for(var d=0;d<c.length;++d)this._doInvokeOnCancel(c[d],u);else if(c!==void 0)if(typeof c=="function"){if(!u){var h=s(c).call(this._boundValue());h===a&&(this._attachExtraTrace(h.e),o.throwLater(h.e))}}else c._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,c)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}});var NA=J((LY,MA)=>{"use strict";MA.exports=function(n){function e(){return this.value}function t(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(i){return i instanceof n&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},n.prototype.throw=n.prototype.thenThrow=function(i){return this._then(t,void 0,void 0,{reason:i},void 0)},n.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:i},void 0);var r=arguments[1],s=function(){throw r};return this.caught(i,s)},n.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof n&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var r=arguments[1];r instanceof n&&r.suppressUnhandledRejections();var s=function(){return r};return this.caught(i,s)}}});var OA=J((OY,LA)=>{"use strict";LA.exports=function(n){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return a.call(this._target())},n.prototype.isRejected=function(){return s.call(this._target())},n.prototype.isFulfilled=function(){return r.call(this._target())},n.prototype.isResolved=function(){return o.call(this._target())},n.prototype.value=function(){return t.call(this._target())},n.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),i.call(c)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}});var WA=J((BY,BA)=>{"use strict";BA.exports=function(n,e,t,i,r,s){var a=Ye(),o=a.canEvaluate,c=a.tryCatch,u=a.errorObj,d;if(o){for(var h=function(w){return new Function("value","holder",`                             
            'use strict';                                                    
            holder.pIndex = value;                                           
            holder.checkFulfillment(this);                                   
            `.replace(/Index/g,w))},f=function(w){return new Function("promise","holder",`                           
            'use strict';                                                    
            holder.pIndex = promise;                                         
            `.replace(/Index/g,w))},p=function(w){for(var _=new Array(w),D=0;D<_.length;++D)_[D]="this.p"+(D+1);var A=_.join(" = ")+" = null;",T=`var promise;
`+_.map(function(C){return`                                                         
                promise = `+C+`;                                      
                if (promise instanceof Promise) {                            
                    promise.cancel();                                        
                }                                                            
            `}).join(`
`),E=_.join(", "),k="Holder$"+w,S=`return function(tryCatch, errorObj, Promise, async) {    
            'use strict';                                                    
            function [TheName](fn) {                                         
                [TheProperties]                                              
                this.fn = fn;                                                
                this.asyncNeeded = true;                                     
                this.now = 0;                                                
            }                                                                
                                                                             
            [TheName].prototype._callFunction = function(promise) {          
                promise._pushContext();                                      
                var ret = tryCatch(this.fn)([ThePassedArguments]);           
                promise._popContext();                                       
                if (ret === errorObj) {                                      
                    promise._rejectCallback(ret.e, false);                   
                } else {                                                     
                    promise._resolveCallback(ret);                           
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype.checkFulfillment = function(promise) {       
                var now = ++this.now;                                        
                if (now === [TheTotal]) {                                    
                    if (this.asyncNeeded) {                                  
                        async.invoke(this._callFunction, this, promise);     
                    } else {                                                 
                        this._callFunction(promise);                         
                    }                                                        
                                                                             
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype._resultCancelled = function() {              
                [CancellationCode]                                           
            };                                                               
                                                                             
            return [TheName];                                                
        }(tryCatch, errorObj, Promise, async);                               
        `;return S=S.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,w).replace(/\[ThePassedArguments\]/g,E).replace(/\[TheProperties\]/g,A).replace(/\[CancellationCode\]/g,T),new Function("tryCatch","errorObj","Promise","async",S)(c,u,n,r)},g=[],m=[],y=[],b=0;b<8;++b)g.push(p(b+1)),m.push(h(b+1)),y.push(f(b+1));d=function(w){this._reject(w)}}n.join=function(){var w=arguments.length-1,_;if(w>0&&typeof arguments[w]=="function"&&(_=arguments[w],w<=8&&o)){var q=new n(i);q._captureStackTrace();for(var D=g[w-1],A=new D(_),T=m,E=0;E<w;++E){var k=t(arguments[E],q);if(k instanceof n){k=k._target();var S=k._bitField;(S&50397184)===0?(k._then(T[E],d,void 0,q,A),y[E](k,A),A.asyncNeeded=!1):(S&33554432)!==0?T[E].call(q,k._value(),A):(S&16777216)!==0?q._reject(k._reason()):q._cancel()}else T[E].call(q,k,A)}if(!q._isFateSealed()){if(A.asyncNeeded){var C=s();C!==null&&(A.fn=a.domainBind(C,A.fn))}q._setAsyncGuaranteed(),q._setOnCancel(A)}return q}for(var L=arguments.length,x=new Array(L),B=0;B<L;++B)x[B]=arguments[B];_&&x.pop();var q=new e(x).promise();return _!==void 0?q.spread(_):q}}});var VA=J((WY,jA)=>{"use strict";jA.exports=function(n,e,t,i,r,s){var a=n._getDomain,o=Ye(),c=o.tryCatch,u=o.errorObj,d=n._async;function h(p,g,m,y){this.constructor$(p),this._promise._captureStackTrace();var b=a();this._callback=b===null?g:o.domainBind(b,g),this._preservedValues=y===r?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}o.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(p,g){var m=this._values,y=this.length(),b=this._preservedValues,w=this._limit;if(g<0){if(g=g*-1-1,m[g]=p,w>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(w>=1&&this._inFlight>=w)return m[g]=p,this._queue.push(g),!1;b!==null&&(b[g]=p);var _=this._promise,D=this._callback,A=_._boundValue();_._pushContext();var T=c(D).call(A,p,g,y),E=_._popContext();if(s.checkForgottenReturns(T,E,b!==null?"Promise.filter":"Promise.map",_),T===u)return this._reject(T.e),!0;var k=i(T,this._promise);if(k instanceof n){k=k._target();var S=k._bitField;if((S&50397184)===0)return w>=1&&this._inFlight++,m[g]=k,k._proxy(this,(g+1)*-1),!1;if((S&33554432)!==0)T=k._value();else return(S&16777216)!==0?(this._reject(k._reason()),!0):(this._cancel(),!0)}m[g]=T}var C=++this._totalResolved;return C>=y?(b!==null?this._filter(m,b):this._resolve(m),!0):!1},h.prototype._drainQueue=function(){for(var p=this._queue,g=this._limit,m=this._values;p.length>0&&this._inFlight<g;){if(this._isResolved())return;var y=p.pop();this._promiseFulfilled(m[y],y)}},h.prototype._filter=function(p,g){for(var m=g.length,y=new Array(m),b=0,w=0;w<m;++w)p[w]&&(y[b++]=g[w]);y.length=b,this._resolve(y)},h.prototype.preservedValues=function(){return this._preservedValues};function f(p,g,m,y){if(typeof g!="function")return t("expecting a function but got "+o.classString(g));var b=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(m.concurrency)));b=m.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+o.classString(m)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new h(p,g,b,y).promise()}n.prototype.map=function(p,g){return f(this,p,g,null)},n.map=function(p,g,m,y){return f(p,g,m,y)}}});var HA=J((jY,zA)=>{"use strict";var $_=Object.create;$_&&(X_=$_(null),K_=$_(null),X_[" size"]=K_[" size"]=0);var X_,K_;zA.exports=function(n){var e=Ye(),t=e.canEvaluate,i=e.isIdentifier,r,s,a=function(p){return new Function("ensureMethod",`                                    
        return function(obj) {                                               
            'use strict'                                                     
            var len = this.length;                                           
            ensureMethod(obj, 'methodName');                                 
            switch(len) {                                                    
                case 1: return obj.methodName(this[0]);                      
                case 2: return obj.methodName(this[0], this[1]);             
                case 3: return obj.methodName(this[0], this[1], this[2]);    
                case 0: return obj.methodName();                             
                default:                                                     
                    return obj.methodName.apply(obj, this);                  
            }                                                                
        };                                                                   
        `.replace(/methodName/g,p))(u)},o=function(p){return new Function("obj",`                                             
        'use strict';                                                        
        return obj.propertyName;                                             
        `.replace("propertyName",p))},c=function(p,g,m){var y=m[p];if(typeof y!="function"){if(!i(p))return null;if(y=g(p),m[p]=y,m[" size"]++,m[" size"]>512){for(var b=Object.keys(m),w=0;w<256;++w)delete m[b[w]];m[" size"]=b.length-256}}return y};r=function(p){return c(p,a,X_)},s=function(p){return c(p,o,K_)};function u(p,g){var m;if(p!=null&&(m=p[g]),typeof m!="function"){var y="Object "+e.classString(p)+" has no method '"+e.toString(g)+"'";throw new n.TypeError(y)}return m}function d(p){var g=this.pop(),m=u(p,g);return m.apply(p,this)}n.prototype.call=function(p){for(var g=arguments.length,m=new Array(Math.max(g-1,0)),y=1;y<g;++y)m[y-1]=arguments[y];if(t){var b=r(p);if(b!==null)return this._then(b,void 0,void 0,m,void 0)}return m.push(p),this._then(d,void 0,void 0,m,void 0)};function h(p){return p[this]}function f(p){var g=+this;return g<0&&(g=Math.max(0,g+p.length)),p[g]}n.prototype.get=function(p){var g=typeof p=="number",m;if(g)m=f;else if(t){var y=s(p);m=y!==null?y:h}else m=h;return this._then(m,void 0,void 0,p,void 0)}}});var GA=J((VY,qA)=>{"use strict";qA.exports=function(n,e,t,i,r,s){var a=Ye(),o=Ki().TypeError,c=Ye().inherits,u=a.errorObj,d=a.tryCatch,h={};function f(_){setTimeout(function(){throw _},0)}function p(_){var D=t(_);return D!==_&&typeof _._isDisposable=="function"&&typeof _._getDisposer=="function"&&_._isDisposable()&&D._setDisposable(_._getDisposer()),D}function g(_,D){var A=0,T=_.length,E=new n(r);function k(){if(A>=T)return E._fulfill();var S=p(_[A++]);if(S instanceof n&&S._isDisposable()){try{S=t(S._getDisposer().tryDispose(D),_.promise)}catch(C){return f(C)}if(S instanceof n)return S._then(k,f,null,null,null)}k()}return k(),E}function m(_,D,A){this._data=_,this._promise=D,this._context=A}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},m.prototype.tryDispose=function(_){var D=this.resource(),A=this._context;A!==void 0&&A._pushContext();var T=D!==h?this.doDispose(D,_):null;return A!==void 0&&A._popContext(),this._promise._unsetDisposable(),this._data=null,T},m.isDisposer=function(_){return _!=null&&typeof _.resource=="function"&&typeof _.tryDispose=="function"};function y(_,D,A){this.constructor$(_,D,A)}c(y,m),y.prototype.doDispose=function(_,D){var A=this.data();return A.call(_,_,D)};function b(_){return m.isDisposer(_)?(this.resources[this.index]._setDisposable(_),_.promise()):_}function w(_){this.length=_,this.promise=null,this[_-1]=null}w.prototype._resultCancelled=function(){for(var _=this.length,D=0;D<_;++D){var A=this[D];A instanceof n&&A.cancel()}},n.using=function(){var _=arguments.length;if(_<2)return e("you must pass at least 2 arguments to Promise.using");var D=arguments[_-1];if(typeof D!="function")return e("expecting a function but got "+a.classString(D));var A,T=!0;_===2&&Array.isArray(arguments[0])?(A=arguments[0],_=A.length,T=!1):(A=arguments,_--);for(var E=new w(_),k=0;k<_;++k){var S=A[k];if(m.isDisposer(S)){var C=S;S=S.promise(),S._setDisposable(C)}else{var L=t(S);L instanceof n&&(S=L._then(b,null,null,{resources:E,index:k},void 0))}E[k]=S}for(var x=new Array(E.length),k=0;k<x.length;++k)x[k]=n.resolve(E[k]).reflect();var B=n.all(x).then(function(H){for(var I=0;I<H.length;++I){var M=H[I];if(M.isRejected())return u.e=M.error(),u;if(!M.isFulfilled()){B.cancel();return}H[I]=M.value()}q._pushContext(),D=d(D);var U=T?D.apply(void 0,H):D(H),P=q._popContext();return s.checkForgottenReturns(U,P,"Promise.using",q),U}),q=B.lastly(function(){var H=new n.PromiseInspection(B);return g(E,H)});return E.promise=q,q._setOnCancel(E),q},n.prototype._setDisposable=function(_){this._bitField=this._bitField|131072,this._disposer=_},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(_){if(typeof _=="function")return new y(_,this,i());throw new o}}});var XA=J((zY,$A)=>{"use strict";$A.exports=function(n,e,t){var i=Ye(),r=n.TimeoutError;function s(h){this.handle=h}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(h){return o(+this).thenReturn(h)},o=n.delay=function(h,f){var p,g;return f!==void 0?(p=n.resolve(f)._then(a,null,null,h,void 0),t.cancellation()&&f instanceof n&&p._setOnCancel(f)):(p=new n(e),g=setTimeout(function(){p._fulfill()},+h),t.cancellation()&&p._setOnCancel(new s(g)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};n.prototype.delay=function(h){return o(h,this)};var c=function(h,f,p){var g;typeof f!="string"?f instanceof Error?g=f:g=new r("operation timed out"):g=new r(f),i.markAsOriginatingFromRejection(g),h._attachExtraTrace(g),h._reject(g),p?.cancel()};function u(h){return clearTimeout(this.handle),h}function d(h){throw clearTimeout(this.handle),h}n.prototype.timeout=function(h,f){h=+h;var p,g,m=new s(setTimeout(function(){p.isPending()&&c(p,f,g)},h));return t.cancellation()?(g=this.then(),p=g._then(u,d,void 0,m,void 0),p._setOnCancel(m)):p=this._then(u,d,void 0,m,void 0),p}}});var YA=J((HY,KA)=>{"use strict";KA.exports=function(n,e,t,i,r,s){var a=Ki(),o=a.TypeError,c=Ye(),u=c.errorObj,d=c.tryCatch,h=[];function f(g,m,y){for(var b=0;b<m.length;++b){y._pushContext();var w=d(m[b])(g);if(y._popContext(),w===u){y._pushContext();var _=n.reject(u.e);return y._popContext(),_}var D=i(w,y);if(D instanceof n)return D}return null}function p(g,m,y,b){if(s.cancellation()){var w=new n(t),_=this._finallyPromise=new n(t);this._promise=w.lastly(function(){return _}),w._captureStackTrace(),w._setOnCancel(this)}else{var D=this._promise=new n(t);D._captureStackTrace()}this._stack=b,this._generatorFunction=g,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof y=="function"?[y].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,r),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var g=typeof this._generator.return<"u",m;if(g)this._promise._pushContext(),m=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var y=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=y,this._promise._attachExtraTrace(y),this._promise._pushContext(),m=d(this._generator.throw).call(this._generator,y),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},p.prototype._promiseFulfilled=function(g){this._yieldedPromise=null,this._promise._pushContext();var m=d(this._generator.next).call(this._generator,g);this._promise._popContext(),this._continue(m)},p.prototype._promiseRejected=function(g){this._yieldedPromise=null,this._promise._attachExtraTrace(g),this._promise._pushContext();var m=d(this._generator.throw).call(this._generator,g);this._promise._popContext(),this._continue(m)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var g=this._yieldedPromise;this._yieldedPromise=null,g.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(g){var m=this._promise;if(g===u)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(g.e,!1);var y=g.value;if(g.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(y);var b=i(y,this._promise);if(!(b instanceof n)&&(b=f(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",y)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var w=b._bitField;(w&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(w&33554432)!==0?n._async.invoke(this._promiseFulfilled,this,b._value()):(w&16777216)!==0?n._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},n.coroutine=function(g,m){if(typeof g!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var y=Object(m).yieldHandler,b=p,w=new Error().stack;return function(){var _=g.apply(this,arguments),D=new b(void 0,void 0,y,w),A=D.promise();return D._generator=_,D._promiseFulfilled(void 0),A}},n.coroutine.addYieldHandler=function(g){if(typeof g!="function")throw new o("expecting a function but got "+c.classString(g));h.push(g)},n.spawn=function(g){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof g!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new p(g,this),y=m.promise();return m._run(n.spawn),y}}});var ZA=J((qY,QA)=>{"use strict";QA.exports=function(n){var e=Ye(),t=n._async,i=e.tryCatch,r=e.errorObj;function s(c,u){var d=this;if(!e.isArray(c))return a.call(d,c,u);var h=i(u).apply(d._boundValue(),[null].concat(c));h===r&&t.throwLater(h.e)}function a(c,u){var d=this,h=d._boundValue(),f=c===void 0?i(u).call(h,null):i(u).call(h,null,c);f===r&&t.throwLater(f.e)}function o(c,u){var d=this;if(!c){var h=new Error(c+"");h.cause=c,c=h}var f=i(u).call(d._boundValue(),c);f===r&&t.throwLater(f.e)}n.prototype.asCallback=n.prototype.nodeify=function(c,u){if(typeof c=="function"){var d=a;u!==void 0&&Object(u).spread&&(d=s),this._then(d,o,void 0,this,c)}return this}}});var eC=J((GY,JA)=>{"use strict";JA.exports=function(n,e){var t={},i=Ye(),r=G_(),s=i.withAppended,a=i.maybeWrapAsError,o=i.canEvaluate,c=Ki().TypeError,u="Async",d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),p=function(B){return i.isIdentifier(B)&&B.charAt(0)!=="_"&&B!=="constructor"};function g(B){return!f.test(B)}function m(B){try{return B.__isPromisified__===!0}catch{return!1}}function y(B,q,H){var I=i.getDataPropertyOrDefault(B,q+H,d);return I?m(I):!1}function b(B,q,H){for(var I=0;I<B.length;I+=2){var M=B[I];if(H.test(M)){for(var U=M.replace(H,""),P=0;P<B.length;P+=2)if(B[P]===U)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",q))}}}function w(B,q,H,I){for(var M=i.inheritedDataKeys(B),U=[],P=0;P<M.length;++P){var N=M[P],G=B[N],Y=I===p?!0:p(N,G,B);typeof G=="function"&&!m(G)&&!y(B,N,q)&&I(N,G,B,Y)&&U.push(N,G)}return b(U,q,H),U}var _=function(B){return B.replace(/([$])/,"\\$")},D,A=function(B){for(var q=[B],H=Math.max(0,B-1-3),I=B-1;I>=H;--I)q.push(I);for(var I=B+1;I<=3;++I)q.push(I);return q},T=function(B){return i.filledRange(B,"_arg","")},E=function(B){return i.filledRange(Math.max(B,3),"_arg","")},k=function(B){return typeof B.length=="number"?Math.max(Math.min(B.length,1024),0):0};D=function(B,q,H,I,M,U){var P=Math.max(0,k(I)-1),N=A(P),G=typeof B=="string"||q===t;function Y(ce){var le=T(ce).join(", "),De=ce>0?", ":"",Re;return G?Re=`ret = callback.call(this, {{args}}, nodeback); break;
`:Re=q===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Re.replace("{{args}}",le).replace(", ",De)}function K(){for(var ce="",le=0;le<N.length;++le)ce+="case "+N[le]+":"+Y(N[le]);return ce+=`                                                             
        default:                                                             
            var args = new Array(len + 1);                                   
            var i = 0;                                                       
            for (var i = 0; i < len; ++i) {                                  
               args[i] = arguments[i];                                       
            }                                                                
            args[i] = nodeback;                                              
            [CodeForCall]                                                    
            break;                                                           
        `.replace("[CodeForCall]",G?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),ce}var de=typeof B=="string"?"this != null ? this['"+B+"'] : fn":"fn",ge=`'use strict';                                                
        var ret = function (Parameters) {                                    
            'use strict';                                                    
            var len = arguments.length;                                      
            var promise = new Promise(INTERNAL);                             
            promise._captureStackTrace();                                    
            var nodeback = nodebackForPromise(promise, `+U+`);   
            var ret;                                                         
            var callback = tryCatch([GetFunctionCode]);                      
            switch(len) {                                                    
                [CodeForSwitchCase]                                          
            }                                                                
            if (ret === errorObj) {                                          
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
            }                                                                
            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
            return promise;                                                  
        };                                                                   
        notEnumerableProp(ret, '__isPromisified__', true);                   
        return ret;                                                          
    `.replace("[CodeForSwitchCase]",K()).replace("[GetFunctionCode]",de);return ge=ge.replace("Parameters",E(P)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ge)(n,I,q,s,a,r,i.tryCatch,i.errorObj,i.notEnumerableProp,e)};function S(B,q,H,I,M,U){var P=(function(){return this})(),N=B;typeof N=="string"&&(B=I);function G(){var Y=q;q===t&&(Y=this);var K=new n(e);K._captureStackTrace();var de=typeof N=="string"&&this!==P?this[N]:B,ge=r(K,U);try{de.apply(Y,s(arguments,ge))}catch(ce){K._rejectCallback(a(ce),!0,!0)}return K._isFateSealed()||K._setAsyncGuaranteed(),K}return i.notEnumerableProp(G,"__isPromisified__",!0),G}var C=o?D:S;function L(B,q,H,I,M){for(var U=new RegExp(_(q)+"$"),P=w(B,q,U,H),N=0,G=P.length;N<G;N+=2){var Y=P[N],K=P[N+1],de=Y+q;if(I===C)B[de]=C(Y,t,Y,K,q,M);else{var ge=I(K,function(){return C(Y,t,Y,K,q,M)});i.notEnumerableProp(ge,"__isPromisified__",!0),B[de]=ge}}return i.toFastProperties(B),B}function x(B,q,H){return C(B,q,void 0,B,null,H)}n.promisify=function(B,q){if(typeof B!="function")throw new c("expecting a function but got "+i.classString(B));if(m(B))return B;q=Object(q);var H=q.context===void 0?t:q.context,I=!!q.multiArgs,M=x(B,H,I);return i.copyDescriptors(B,M,g),M},n.promisifyAll=function(B,q){if(typeof B!="function"&&typeof B!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);q=Object(q);var H=!!q.multiArgs,I=q.suffix;typeof I!="string"&&(I=u);var M=q.filter;typeof M!="function"&&(M=p);var U=q.promisifier;if(typeof U!="function"&&(U=C),!i.isIdentifier(I))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var P=i.inheritedDataKeys(B),N=0;N<P.length;++N){var G=B[P[N]];P[N]!=="constructor"&&i.isClass(G)&&(L(G.prototype,I,M,U,H),L(G,I,M,U,H))}return L(B,I,M,U,H)}}});var nC=J(($Y,tC)=>{"use strict";tC.exports=function(n,e,t,i){var r=Ye(),s=r.isObject,a=ks(),o;typeof Map=="function"&&(o=Map);var c=(function(){var f=0,p=0;function g(m,y){this[f]=m,this[f+p]=y,f++}return function(y){p=y.size,f=0;var b=new Array(y.size*2);return y.forEach(g,b),b}})(),u=function(f){for(var p=new o,g=f.length/2|0,m=0;m<g;++m){var y=f[g+m],b=f[m];p.set(y,b)}return p};function d(f){var p=!1,g;if(o!==void 0&&f instanceof o)g=c(f),p=!0;else{var m=a.keys(f),y=m.length;g=new Array(y*2);for(var b=0;b<y;++b){var w=m[b];g[b]=f[w],g[b+y]=w}}this.constructor$(g),this._isMap=p,this._init$(void 0,-3)}r.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(f,p){this._values[p]=f;var g=++this._totalResolved;if(g>=this._length){var m;if(this._isMap)m=u(this._values);else{m={};for(var y=this.length(),b=0,w=this.length();b<w;++b)m[this._values[b+y]]=this._values[b]}return this._resolve(m),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(f){return f>>1};function h(f){var p,g=t(f);if(s(g))g instanceof n?p=g._then(n.props,void 0,void 0,void 0,void 0):p=new d(g).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return g instanceof n&&p._propagateFrom(g,2),p}n.prototype.props=function(){return h(this)},n.props=function(f){return h(f)}}});var rC=J((XY,iC)=>{"use strict";iC.exports=function(n,e,t,i){var r=Ye(),s=function(o){return o.then(function(c){return a(c,o)})};function a(o,c){var u=t(o);if(u instanceof n)return s(u);if(o=r.asArray(o),o===null)return i("expecting an array or an iterable object but got "+r.classString(o));var d=new n(e);c!==void 0&&d._propagateFrom(c,3);for(var h=d._fulfill,f=d._reject,p=0,g=o.length;p<g;++p){var m=o[p];m===void 0&&!(p in o)||n.cast(m)._then(h,f,void 0,d,null)}return d}n.race=function(o){return a(o,void 0)},n.prototype.race=function(){return a(this,void 0)}}});var aC=J((KY,sC)=>{"use strict";sC.exports=function(n,e,t,i,r,s){var a=n._getDomain,o=Ye(),c=o.tryCatch;function u(g,m,y,b){this.constructor$(g);var w=a();this._fn=w===null?m:o.domainBind(w,m),y!==void 0&&(y=n.resolve(y),y._attachCancellationCallback(this)),this._initialValue=y,this._currentCancellable=null,b===r?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(u,e),u.prototype._gotAccum=function(g){this._eachValues!==void 0&&this._eachValues!==null&&g!==r&&this._eachValues.push(g)},u.prototype._eachComplete=function(g){return this._eachValues!==null&&this._eachValues.push(g),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(g){this._promise._resolveCallback(g),this._values=null},u.prototype._resultCancelled=function(g){if(g===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},u.prototype._iterate=function(g){this._values=g;var m,y,b=g.length;if(this._initialValue!==void 0?(m=this._initialValue,y=0):(m=n.resolve(g[0]),y=1),this._currentCancellable=m,!m.isRejected())for(;y<b;++y){var w={accum:null,value:g[y],index:y,length:b,array:this};m=m._then(f,void 0,void 0,w,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(d,d,void 0,m,this)},n.prototype.reduce=function(g,m){return h(this,g,m,null)},n.reduce=function(g,m,y,b){return h(g,m,y,b)};function d(g,m){this.isFulfilled()?m._resolve(g):m._reject(g)}function h(g,m,y,b){if(typeof m!="function")return t("expecting a function but got "+o.classString(m));var w=new u(g,m,y,b);return w.promise()}function f(g){this.accum=g,this.array._gotAccum(g);var m=i(this.value,this.array._promise);return m instanceof n?(this.array._currentCancellable=m,m._then(p,void 0,void 0,this,void 0)):p.call(this,m)}function p(g){var m=this.array,y=m._promise,b=c(m._fn);y._pushContext();var w;m._eachValues!==void 0?w=b.call(y._boundValue(),g,this.index,this.length):w=b.call(y._boundValue(),this.accum,g,this.index,this.length),w instanceof n&&(m._currentCancellable=w);var _=y._popContext();return s.checkForgottenReturns(w,_,m._eachValues!==void 0?"Promise.each":"Promise.reduce",y),w}}});var cC=J((YY,oC)=>{"use strict";oC.exports=function(n,e,t){var i=n.PromiseInspection,r=Ye();function s(a){this.constructor$(a)}r.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var c=new i;return c._bitField=33554432,c._settledValueField=a,this._promiseResolved(o,c)},s.prototype._promiseRejected=function(a,o){var c=new i;return c._bitField=16777216,c._settledValueField=a,this._promiseResolved(o,c)},n.settle=function(a){return t.deprecated(".settle()",".reflect()"),new s(a).promise()},n.prototype.settle=function(){return n.settle(this)}}});var uC=J((QY,lC)=>{"use strict";lC.exports=function(n,e,t){var i=Ye(),r=Ki().RangeError,s=Ki().AggregateError,a=i.isArray,o={};function c(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=a(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(d){this._howMany=d},c.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new s,h=this.length();h<this._values.length;++h)this._values[h]!==o&&d.push(this._values[h]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(d){this._values.push(d)},c.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(d){var h="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new r(h)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,h){if((h|0)!==h||h<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new c(d),p=f.promise();return f.setHowMany(h),f.init(),p}n.some=function(d,h){return u(d,h)},n.prototype.some=function(d){return u(this,d)},n._SomePromiseArray=c}});var hC=J((ZY,dC)=>{"use strict";dC.exports=function(n,e){var t=n.map;n.prototype.filter=function(i,r){return t(this,i,r,e)},n.filter=function(i,r,s){return t(i,r,s,e)}}});var pC=J((JY,fC)=>{"use strict";fC.exports=function(n,e){var t=n.reduce,i=n.all;function r(){return i(this)}function s(a,o){return t(a,o,e,e)}n.prototype.each=function(a){return t(this,a,e,0)._then(r,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(a){return t(this,a,e,e)},n.each=function(a,o){return t(a,o,e,0)._then(r,void 0,void 0,a,void 0)},n.mapSeries=s}});var mC=J((eQ,gC)=>{"use strict";gC.exports=function(n){var e=n._SomePromiseArray;function t(i){var r=new e(i),s=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),s}n.any=function(i){return t(i)},n.prototype.any=function(){return t(this)}}});var bC=J((tQ,Y_)=>{"use strict";Y_.exports=function(){var n=function(){return new h(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},e=function(){return new x.PromiseInspection(this._target())},t=function(I){return x.reject(new h(I))};function i(){}var r={},s=Ye(),a;s.isNode?a=function(){var I=process.domain;return I===void 0&&(I=null),I}:a=function(){return null},s.notEnumerableProp(x,"_getDomain",a);var o=ks(),c=uA(),u=new c;o.defineProperty(x,"_async",{value:u});var d=Ki(),h=x.TypeError=d.TypeError;x.RangeError=d.RangeError;var f=x.CancellationError=d.CancellationError;x.TimeoutError=d.TimeoutError,x.OperationalError=d.OperationalError,x.RejectionError=d.OperationalError,x.AggregateError=d.AggregateError;var p=function(){},g={},m={},y=gA()(x,p),b=bA()(x,p,y,t,i),w=yA()(x),_=w.create,D=xA()(x,w),A=D.CapturedTrace,T=DA()(x,y),E=AA()(m),k=G_(),S=s.errorObj,C=s.tryCatch;function L(I,M){if(typeof M!="function")throw new h("expecting a function but got "+s.classString(M));if(I.constructor!==x)throw new h(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function x(I){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,I!==p&&(L(this,I),this._resolveFromExecutor(I)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}x.prototype.toString=function(){return"[object Promise]"},x.prototype.caught=x.prototype.catch=function(I){var M=arguments.length;if(M>1){var U=new Array(M-1),P=0,N;for(N=0;N<M-1;++N){var G=arguments[N];if(s.isObject(G))U[P++]=G;else return t("expecting an object but got A catch statement predicate "+s.classString(G))}return U.length=P,I=arguments[N],this.then(void 0,E(U,I,this))}return this.then(void 0,I)},x.prototype.reflect=function(){return this._then(e,e,void 0,this,void 0)},x.prototype.then=function(I,M){if(D.warnings()&&arguments.length>0&&typeof I!="function"&&typeof M!="function"){var U=".then() only accepts functions but was passed: "+s.classString(I);arguments.length>1&&(U+=", "+s.classString(M)),this._warn(U)}return this._then(I,M,void 0,void 0,void 0)},x.prototype.done=function(I,M){var U=this._then(I,M,void 0,void 0,void 0);U._setIsFinal()},x.prototype.spread=function(I){return typeof I!="function"?t("expecting a function but got "+s.classString(I)):this.all()._then(I,void 0,void 0,g,void 0)},x.prototype.toJSON=function(){var I={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(I.fulfillmentValue=this.value(),I.isFulfilled=!0):this.isRejected()&&(I.rejectionReason=this.reason(),I.isRejected=!0),I},x.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},x.prototype.error=function(I){return this.caught(s.originatesFromRejection,I)},x.getNewLibraryCopy=Y_.exports,x.is=function(I){return I instanceof x},x.fromNode=x.fromCallback=function(I){var M=new x(p);M._captureStackTrace();var U=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,P=C(I)(k(M,U));return P===S&&M._rejectCallback(P.e,!0),M._isFateSealed()||M._setAsyncGuaranteed(),M},x.all=function(I){return new b(I).promise()},x.cast=function(I){var M=y(I);return M instanceof x||(M=new x(p),M._captureStackTrace(),M._setFulfilled(),M._rejectionHandler0=I),M},x.resolve=x.fulfilled=x.cast,x.reject=x.rejected=function(I){var M=new x(p);return M._captureStackTrace(),M._rejectCallback(I,!0),M},x.setScheduler=function(I){if(typeof I!="function")throw new h("expecting a function but got "+s.classString(I));return u.setScheduler(I)},x.prototype._then=function(I,M,U,P,N){var G=N!==void 0,Y=G?N:new x(p),K=this._target(),de=K._bitField;G||(Y._propagateFrom(this,3),Y._captureStackTrace(),P===void 0&&(this._bitField&2097152)!==0&&((de&50397184)!==0?P=this._boundValue():P=K===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Y));var ge=a();if((de&50397184)!==0){var ce,le,De=K._settlePromiseCtx;(de&33554432)!==0?(le=K._rejectionHandler0,ce=I):(de&16777216)!==0?(le=K._fulfillmentHandler0,ce=M,K._unsetRejectionIsUnhandled()):(De=K._settlePromiseLateCancellationObserver,le=new f("late cancellation observer"),K._attachExtraTrace(le),ce=M),u.invoke(De,K,{handler:ge===null?ce:typeof ce=="function"&&s.domainBind(ge,ce),promise:Y,receiver:P,value:le})}else K._addCallbacks(I,M,Y,P,ge);return Y},x.prototype._length=function(){return this._bitField&65535},x.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},x.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},x.prototype._setLength=function(I){this._bitField=this._bitField&-65536|I&65535},x.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},x.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},x.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},x.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},x.prototype._isFinal=function(){return(this._bitField&4194304)>0},x.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},x.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},x.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},x.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},x.prototype._receiverAt=function(I){var M=I===0?this._receiver0:this[I*4-4+3];if(M!==r)return M===void 0&&this._isBound()?this._boundValue():M},x.prototype._promiseAt=function(I){return this[I*4-4+2]},x.prototype._fulfillmentHandlerAt=function(I){return this[I*4-4+0]},x.prototype._rejectionHandlerAt=function(I){return this[I*4-4+1]},x.prototype._boundValue=function(){},x.prototype._migrateCallback0=function(I){var M=I._bitField,U=I._fulfillmentHandler0,P=I._rejectionHandler0,N=I._promise0,G=I._receiverAt(0);G===void 0&&(G=r),this._addCallbacks(U,P,N,G,null)},x.prototype._migrateCallbackAt=function(I,M){var U=I._fulfillmentHandlerAt(M),P=I._rejectionHandlerAt(M),N=I._promiseAt(M),G=I._receiverAt(M);G===void 0&&(G=r),this._addCallbacks(U,P,N,G,null)},x.prototype._addCallbacks=function(I,M,U,P,N){var G=this._length();if(G>=65531&&(G=0,this._setLength(0)),G===0)this._promise0=U,this._receiver0=P,typeof I=="function"&&(this._fulfillmentHandler0=N===null?I:s.domainBind(N,I)),typeof M=="function"&&(this._rejectionHandler0=N===null?M:s.domainBind(N,M));else{var Y=G*4-4;this[Y+2]=U,this[Y+3]=P,typeof I=="function"&&(this[Y+0]=N===null?I:s.domainBind(N,I)),typeof M=="function"&&(this[Y+1]=N===null?M:s.domainBind(N,M))}return this._setLength(G+1),G},x.prototype._proxy=function(I,M){this._addCallbacks(void 0,void 0,M,I,null)},x.prototype._resolveCallback=function(I,M){if((this._bitField&117506048)===0){if(I===this)return this._rejectCallback(n(),!1);var U=y(I,this);if(!(U instanceof x))return this._fulfill(I);M&&this._propagateFrom(U,2);var P=U._target();if(P===this){this._reject(n());return}var N=P._bitField;if((N&50397184)===0){var G=this._length();G>0&&P._migrateCallback0(this);for(var Y=1;Y<G;++Y)P._migrateCallbackAt(this,Y);this._setFollowing(),this._setLength(0),this._setFollowee(P)}else if((N&33554432)!==0)this._fulfill(P._value());else if((N&16777216)!==0)this._reject(P._reason());else{var K=new f("late cancellation observer");P._attachExtraTrace(K),this._reject(K)}}},x.prototype._rejectCallback=function(I,M,U){var P=s.ensureErrorObject(I),N=P===I;if(!N&&!U&&D.warnings()){var G="a promise was rejected with a non-error: "+s.classString(I);this._warn(G,!0)}this._attachExtraTrace(P,M?N:!1),this._reject(I)},x.prototype._resolveFromExecutor=function(I){var M=this;this._captureStackTrace(),this._pushContext();var U=!0,P=this._execute(I,function(N){M._resolveCallback(N)},function(N){M._rejectCallback(N,U)});U=!1,this._popContext(),P!==void 0&&M._rejectCallback(P,!0)},x.prototype._settlePromiseFromHandler=function(I,M,U,P){var N=P._bitField;if((N&65536)===0){P._pushContext();var G;M===g?!U||typeof U.length!="number"?(G=S,G.e=new h("cannot .spread() a non-array: "+s.classString(U))):G=C(I).apply(this._boundValue(),U):G=C(I).call(M,U);var Y=P._popContext();N=P._bitField,(N&65536)===0&&(G===m?P._reject(U):G===S?P._rejectCallback(G.e,!1):(D.checkForgottenReturns(G,Y,"",P,this),P._resolveCallback(G)))}},x.prototype._target=function(){for(var I=this;I._isFollowing();)I=I._followee();return I},x.prototype._followee=function(){return this._rejectionHandler0},x.prototype._setFollowee=function(I){this._rejectionHandler0=I},x.prototype._settlePromise=function(I,M,U,P){var N=I instanceof x,G=this._bitField,Y=(G&134217728)!==0;(G&65536)!==0?(N&&I._invokeInternalOnCancel(),U instanceof T&&U.isFinallyHandler()?(U.cancelPromise=I,C(M).call(U,P)===S&&I._reject(S.e)):M===e?I._fulfill(e.call(U)):U instanceof i?U._promiseCancelled(I):N||I instanceof b?I._cancel():U.cancel()):typeof M=="function"?N?(Y&&I._setAsyncGuaranteed(),this._settlePromiseFromHandler(M,U,P,I)):M.call(U,P,I):U instanceof i?U._isResolved()||((G&33554432)!==0?U._promiseFulfilled(P,I):U._promiseRejected(P,I)):N&&(Y&&I._setAsyncGuaranteed(),(G&33554432)!==0?I._fulfill(P):I._reject(P))},x.prototype._settlePromiseLateCancellationObserver=function(I){var M=I.handler,U=I.promise,P=I.receiver,N=I.value;typeof M=="function"?U instanceof x?this._settlePromiseFromHandler(M,P,N,U):M.call(P,N,U):U instanceof x&&U._reject(N)},x.prototype._settlePromiseCtx=function(I){this._settlePromise(I.promise,I.handler,I.receiver,I.value)},x.prototype._settlePromise0=function(I,M,U){var P=this._promise0,N=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(P,I,N,M)},x.prototype._clearCallbackDataAtIndex=function(I){var M=I*4-4;this[M+2]=this[M+3]=this[M+0]=this[M+1]=void 0},x.prototype._fulfill=function(I){var M=this._bitField;if(!((M&117506048)>>>16)){if(I===this){var U=n();return this._attachExtraTrace(U),this._reject(U)}this._setFulfilled(),this._rejectionHandler0=I,(M&65535)>0&&((M&134217728)!==0?this._settlePromises():u.settlePromises(this))}},x.prototype._reject=function(I){var M=this._bitField;if(!((M&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=I,this._isFinal())return u.fatalError(I,s.isNode);(M&65535)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},x.prototype._fulfillPromises=function(I,M){for(var U=1;U<I;U++){var P=this._fulfillmentHandlerAt(U),N=this._promiseAt(U),G=this._receiverAt(U);this._clearCallbackDataAtIndex(U),this._settlePromise(N,P,G,M)}},x.prototype._rejectPromises=function(I,M){for(var U=1;U<I;U++){var P=this._rejectionHandlerAt(U),N=this._promiseAt(U),G=this._receiverAt(U);this._clearCallbackDataAtIndex(U),this._settlePromise(N,P,G,M)}},x.prototype._settlePromises=function(){var I=this._bitField,M=I&65535;if(M>0){if((I&16842752)!==0){var U=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,U,I),this._rejectPromises(M,U)}else{var P=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,P,I),this._fulfillPromises(M,P)}this._setLength(0)}this._clearCancellationData()},x.prototype._settledValue=function(){var I=this._bitField;if((I&33554432)!==0)return this._rejectionHandler0;if((I&16777216)!==0)return this._fulfillmentHandler0};function B(I){this.promise._resolveCallback(I)}function q(I){this.promise._rejectCallback(I,!1)}x.defer=x.pending=function(){D.deprecated("Promise.defer","new Promise");var I=new x(p);return{promise:I,resolve:B,reject:q}},s.notEnumerableProp(x,"_makeSelfResolutionError",n),FA()(x,p,y,t,D),UA()(x,p,y,D),RA()(x,b,t,D),NA()(x),OA()(x),WA()(x,b,y,p,u,a),x.Promise=x,x.version="3.4.7",VA()(x,b,t,y,p,D),HA()(x),GA()(x,t,y,_,p,D),XA()(x,p,D),YA()(x,t,p,y,i,D),ZA()(x),eC()(x,p),nC()(x,b,y,t),rC()(x,p,y,t),aC()(x,b,t,y,p,D),cC()(x,b,D),uC()(x,b,t),hC()(x,p),pC()(x,p),mC()(x),s.toFastProperties(x),s.toFastProperties(x.prototype);function H(I){var M=new x(p);M._fulfillmentHandler0=I,M._rejectionHandler0=I,M._promise0=I,M._receiver0=I}return H({a:1}),H({b:2}),H({c:3}),H(1),H(function(){}),H(void 0),H(!1),H(new x(p)),D.setBounds(c.firstLineError,s.lastLineError),x}});var Yi=J(si=>{"use strict";var NM=(dt(),pt(ut)),_n=bC()();si.defer=LM;si.when=_n.resolve;si.resolve=_n.resolve;si.all=_n.all;si.props=_n.props;si.reject=_n.reject;si.promisify=_n.promisify;si.mapSeries=_n.mapSeries;si.attempt=_n.attempt;si.nfcall=function(n){var e=Array.prototype.slice.call(arguments,1),t=_n.promisify(n);return t.apply(null,e)};_n.prototype.fail=_n.prototype.caught;_n.prototype.also=function(n){return this.then(function(e){var t=NM.extend({},e,n(e));return _n.props(t)})};function LM(){var n,e,t=new _n.Promise(function(i,r){n=i,e=r});return{resolve:n,reject:e,promise:t}}});var Or=J(je=>{"use strict";var OM=(dt(),pt(ut)),Ot=je.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function BM(n,e){return e=e||{},{type:Ot.document,children:n,notes:e.notes||new Rh({}),comments:e.comments||[]}}function WM(n,e){e=e||{};var t=e.indent||{};return{type:Ot.paragraph,children:n,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:t.start||null,end:t.end||null,firstLine:t.firstLine||null,hanging:t.hanging||null}}}function jM(n,e){return e=e||{},{type:Ot.run,children:n,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||_C.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var _C={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function VM(n){return{type:Ot.text,value:n}}function zM(){return{type:Ot.tab}}function HM(n){return{type:Ot.checkbox,checked:n.checked}}function qM(n,e){return{type:Ot.hyperlink,children:n,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function GM(n){return{type:Ot.noteReference,noteType:n.noteType,noteId:n.noteId}}function Rh(n){this._notes=OM.indexBy(n,function(e){return yC(e.noteType,e.noteId)})}Rh.prototype.resolve=function(n){return this.findNoteByKey(yC(n.noteType,n.noteId))};Rh.prototype.findNoteByKey=function(n){return this._notes[n]||null};function $M(n){return{type:Ot.note,noteType:n.noteType,noteId:n.noteId,body:n.body}}function XM(n){return{type:Ot.commentReference,commentId:n.commentId}}function KM(n){return{type:Ot.comment,commentId:n.commentId,body:n.body,authorName:n.authorName,authorInitials:n.authorInitials}}function yC(n,e){return n+"-"+e}function YM(n){return{type:Ot.image,read:function(e){return e?n.readImage(e):n.readImage().then(function(t){return Buffer.from(t)})},readAsArrayBuffer:function(){return n.readImage()},readAsBase64String:function(){return n.readImage("base64")},readAsBuffer:function(){return n.readImage().then(function(e){return Buffer.from(e)})},altText:n.altText,contentType:n.contentType}}function QM(n,e){return e=e||{},{type:Ot.table,children:n,styleId:e.styleId||null,styleName:e.styleName||null}}function ZM(n,e){return e=e||{},{type:Ot.tableRow,children:n,isHeader:e.isHeader||!1}}function JM(n,e){return e=e||{},{type:Ot.tableCell,children:n,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function Q_(n){return{type:Ot.break,breakType:n}}function e3(n){return{type:Ot.bookmarkStart,name:n.name}}je.document=je.Document=BM;je.paragraph=je.Paragraph=WM;je.run=je.Run=jM;je.text=je.Text=VM;je.tab=je.Tab=zM;je.checkbox=je.Checkbox=HM;je.Hyperlink=qM;je.noteReference=je.NoteReference=GM;je.Notes=Rh;je.Note=$M;je.commentReference=XM;je.comment=KM;je.Image=YM;je.Table=QM;je.TableRow=ZM;je.TableCell=JM;je.lineBreak=Q_("line");je.pageBreak=Q_("page");je.columnBreak=Q_("column");je.BookmarkStart=e3;je.verticalAlignment=_C});var Ei=J(qc=>{"use strict";var Hc=(dt(),pt(ut));qc.Result=Di;qc.success=t3;qc.warning=n3;qc.error=i3;function Di(n,e){this.value=n,this.messages=e||[]}Di.prototype.map=function(n){return new Di(n(this.value),this.messages)};Di.prototype.flatMap=function(n){var e=n(this.value);return new Di(e.value,Z_([this,e]))};Di.prototype.flatMapThen=function(n){var e=this;return n(this.value).then(function(t){return new Di(t.value,Z_([e,t]))})};Di.combine=function(n){var e=Hc.flatten(Hc.pluck(n,"value")),t=Z_(n);return new Di(e,t)};function t3(n){return new Di(n,[])}function n3(n){return{type:"warning",message:n}}function i3(n){return{type:"error",message:n.message,error:n}}function Z_(n){var e=[];return Hc.flatten(Hc.pluck(n,"messages"),!0).forEach(function(t){r3(e,t)||e.push(t)}),e}function r3(n,e){return Hc.find(n,s3.bind(null,e))!==void 0}function s3(n,e){return n.type===e.type&&n.message===e.message}});var wC=J(Mh=>{"use strict";Mh.byteLength=o3;Mh.toByteArray=l3;Mh.fromByteArray=h3;var Ai=[],qn=[],a3=typeof Uint8Array<"u"?Uint8Array:Array,J_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Us=0,vC=J_.length;Us<vC;++Us)Ai[Us]=J_[Us],qn[J_.charCodeAt(Us)]=Us;var Us,vC;qn[45]=62;qn[95]=63;function xC(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function o3(n){var e=xC(n),t=e[0],i=e[1];return(t+i)*3/4-i}function c3(n,e,t){return(e+t)*3/4-t}function l3(n){var e,t=xC(n),i=t[0],r=t[1],s=new a3(c3(n,i,r)),a=0,o=r>0?i-4:i,c;for(c=0;c<o;c+=4)e=qn[n.charCodeAt(c)]<<18|qn[n.charCodeAt(c+1)]<<12|qn[n.charCodeAt(c+2)]<<6|qn[n.charCodeAt(c+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return r===2&&(e=qn[n.charCodeAt(c)]<<2|qn[n.charCodeAt(c+1)]>>4,s[a++]=e&255),r===1&&(e=qn[n.charCodeAt(c)]<<10|qn[n.charCodeAt(c+1)]<<4|qn[n.charCodeAt(c+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function u3(n){return Ai[n>>18&63]+Ai[n>>12&63]+Ai[n>>6&63]+Ai[n&63]}function d3(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(u3(i));return r.join("")}function h3(n){for(var e,t=n.length,i=t%3,r=[],s=16383,a=0,o=t-i;a<o;a+=s)r.push(d3(n,a,a+s>o?o:a+s));return i===1?(e=n[t-1],r.push(Ai[e>>2]+Ai[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Ai[e>>10]+Ai[e>>4&63]+Ai[e<<2&63]+"=")),r.join("")}});var EC=J((DC,ey)=>{"use strict";(function(n){typeof DC=="object"&&typeof ey<"u"?ey.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=n()})(function(){return(function n(e,t,i){function r(o,c){if(!t[o]){if(!e[o]){var u=typeof Ao=="function"&&Ao;if(!c&&u)return u(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=t[o]={exports:{}};e[o][0].call(h.exports,function(f){var p=e[o][1][f];return r(p||f)},h,h.exports,n,e,t,i)}return t[o].exports}for(var s=typeof Ao=="function"&&Ao,a=0;a<i.length;a++)r(i[a]);return r})({1:[function(n,e,t){"use strict";var i=n("./utils"),r=n("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(a){for(var o,c,u,d,h,f,p,g=[],m=0,y=a.length,b=y,w=i.getTypeOf(a)!=="string";m<a.length;)b=y-m,u=w?(o=a[m++],c=m<y?a[m++]:0,m<y?a[m++]:0):(o=a.charCodeAt(m++),c=m<y?a.charCodeAt(m++):0,m<y?a.charCodeAt(m++):0),d=o>>2,h=(3&o)<<4|c>>4,f=1<b?(15&c)<<2|u>>6:64,p=2<b?63&u:64,g.push(s.charAt(d)+s.charAt(h)+s.charAt(f)+s.charAt(p));return g.join("")},t.decode=function(a){var o,c,u,d,h,f,p=0,g=0,m="data:";if(a.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===s.charAt(64)&&b--,a.charAt(a.length-2)===s.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=r.uint8array?new Uint8Array(0|b):new Array(0|b);p<a.length;)o=s.indexOf(a.charAt(p++))<<2|(d=s.indexOf(a.charAt(p++)))>>4,c=(15&d)<<4|(h=s.indexOf(a.charAt(p++)))>>2,u=(3&h)<<6|(f=s.indexOf(a.charAt(p++))),y[g++]=o,h!==64&&(y[g++]=c),f!==64&&(y[g++]=u);return y}},{"./support":30,"./utils":32}],2:[function(n,e,t){"use strict";var i=n("./external"),r=n("./stream/DataWorker"),s=n("./stream/Crc32Probe"),a=n("./stream/DataLengthProbe");function o(c,u,d,h,f){this.compressedSize=c,this.uncompressedSize=u,this.crc32=d,this.compression=h,this.compressedContent=f}o.prototype={getContentWorker:function(){var c=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(c,u,d){return c.pipe(new s).pipe(new a("uncompressedSize")).pipe(u.compressWorker(d)).pipe(new a("compressedSize")).withStreamInfo("compression",u)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,e,t){"use strict";var i=n("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,e,t){"use strict";var i=n("./utils"),r=(function(){for(var s,a=[],o=0;o<256;o++){s=o;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[o]=s}return a})();e.exports=function(s,a){return s!==void 0&&s.length?i.getTypeOf(s)!=="string"?(function(o,c,u,d){var h=r,f=d+u;o^=-1;for(var p=d;p<f;p++)o=o>>>8^h[255&(o^c[p])];return-1^o})(0|a,s,s.length,0):(function(o,c,u,d){var h=r,f=d+u;o^=-1;for(var p=d;p<f;p++)o=o>>>8^h[255&(o^c.charCodeAt(p))];return-1^o})(0|a,s,s.length,0):0}},{"./utils":32}],5:[function(n,e,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(n,e,t){"use strict";var i=null;i=typeof Promise<"u"?Promise:n("lie"),e.exports={Promise:i}},{lie:37}],7:[function(n,e,t){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",r=n("pako"),s=n("./utils"),a=n("./stream/GenericWorker"),o=i?"uint8array":"array";function c(u,d){a.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=d,this.meta={}}t.magic="\b\0",s.inherits(c,a),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(o,u.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(d){u.push({data:d,meta:u.meta})}},t.compressWorker=function(u){return new c("Deflate",u)},t.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,e,t){"use strict";function i(h,f){var p,g="";for(p=0;p<f;p++)g+=String.fromCharCode(255&h),h>>>=8;return g}function r(h,f,p,g,m,y){var b,w,_=h.file,D=h.compression,A=y!==o.utf8encode,T=s.transformTo("string",y(_.name)),E=s.transformTo("string",o.utf8encode(_.name)),k=_.comment,S=s.transformTo("string",y(k)),C=s.transformTo("string",o.utf8encode(k)),L=E.length!==_.name.length,x=C.length!==k.length,B="",q="",H="",I=_.dir,M=_.date,U={crc32:0,compressedSize:0,uncompressedSize:0};f&&!p||(U.crc32=h.crc32,U.compressedSize=h.compressedSize,U.uncompressedSize=h.uncompressedSize);var P=0;f&&(P|=8),A||!L&&!x||(P|=2048);var N=0,G=0;I&&(N|=16),m==="UNIX"?(G=798,N|=(function(K,de){var ge=K;return K||(ge=de?16893:33204),(65535&ge)<<16})(_.unixPermissions,I)):(G=20,N|=(function(K){return 63&(K||0)})(_.dosPermissions)),b=M.getUTCHours(),b<<=6,b|=M.getUTCMinutes(),b<<=5,b|=M.getUTCSeconds()/2,w=M.getUTCFullYear()-1980,w<<=4,w|=M.getUTCMonth()+1,w<<=5,w|=M.getUTCDate(),L&&(q=i(1,1)+i(c(T),4)+E,B+="up"+i(q.length,2)+q),x&&(H=i(1,1)+i(c(S),4)+C,B+="uc"+i(H.length,2)+H);var Y="";return Y+=`
\0`,Y+=i(P,2),Y+=D.magic,Y+=i(b,2),Y+=i(w,2),Y+=i(U.crc32,4),Y+=i(U.compressedSize,4),Y+=i(U.uncompressedSize,4),Y+=i(T.length,2),Y+=i(B.length,2),{fileRecord:u.LOCAL_FILE_HEADER+Y+T+B,dirRecord:u.CENTRAL_FILE_HEADER+i(G,2)+Y+i(S.length,2)+"\0\0\0\0"+i(N,4)+i(g,4)+T+B+S}}var s=n("../utils"),a=n("../stream/GenericWorker"),o=n("../utf8"),c=n("../crc32"),u=n("../signature");function d(h,f,p,g){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,a),d.prototype.push=function(h){var f=h.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,a.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(f+100*(p-g-1))/p:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var f=this.streamFiles&&!h.file.dir;if(f){var p=r(h,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var f=this.streamFiles&&!h.file.dir,p=r(h,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),f)this.push({data:(function(g){return u.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var p=this.bytesWritten-h,g=(function(m,y,b,w,_){var D=s.transformTo("string",_(w));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(m,2)+i(m,2)+i(y,4)+i(b,4)+i(D.length,2)+D})(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var f=this;return h.on("data",function(p){f.processChunk(p)}),h.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),h.on("error",function(p){f.error(p)}),this},d.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var f=this._sources;if(!a.prototype.error.call(this,h))return!1;for(var p=0;p<f.length;p++)try{f[p].error(h)}catch{}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var h=this._sources,f=0;f<h.length;f++)h[f].lock()},e.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,e,t){"use strict";var i=n("../compressions"),r=n("./ZipFileWorker");t.generateWorker=function(s,a,o){var c=new r(a.streamFiles,o,a.platform,a.encodeFileName),u=0;try{s.forEach(function(d,h){u++;var f=(function(y,b){var w=y||b,_=i[w];if(!_)throw new Error(w+" is not a valid compression method !");return _})(h.options.compression,a.compression),p=h.options.compressionOptions||a.compressionOptions||{},g=h.dir,m=h.date;h._compressWorker(f,p).withStreamInfo("file",{name:d,dir:g,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=u}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,e,t){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var r=new i;for(var s in this)typeof this[s]!="function"&&(r[s]=this[s]);return r}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(r,s){return new i().loadAsync(r,s)},i.external=n("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,e,t){"use strict";var i=n("./utils"),r=n("./external"),s=n("./utf8"),a=n("./zipEntries"),o=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function u(d){return new r.Promise(function(h,f){var p=d.decompressed.getContentWorker().pipe(new o);p.on("error",function(g){f(g)}).on("end",function(){p.streamInfo.crc32!==d.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}e.exports=function(d,h){var f=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(d)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(p){var g=new a(h);return g.load(p),g}).then(function(p){var g=[r.Promise.resolve(p)],m=p.files;if(h.checkCRC32)for(var y=0;y<m.length;y++)g.push(u(m[y]));return r.Promise.all(g)}).then(function(p){for(var g=p.shift(),m=g.files,y=0;y<m.length;y++){var b=m[y],w=b.fileNameStr,_=i.resolve(b.fileNameStr);f.file(_,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:h.createFolders}),b.dir||(f.file(_).unsafeOriginalName=w)}return g.zipComment.length&&(f.comment=g.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,e,t){"use strict";var i=n("../utils"),r=n("../stream/GenericWorker");function s(a,o){r.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(o)}i.inherits(s,r),s.prototype._bindStream=function(a){var o=this;(this._stream=a).pause(),a.on("data",function(c){o.push({data:c,meta:{percent:0}})}).on("error",function(c){o.isPaused?this.generatedError=c:o.error(c)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},s.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,e,t){"use strict";var i=n("readable-stream").Readable;function r(s,a,o){i.call(this,a),this._helper=s;var c=this;s.on("data",function(u,d){c.push(u)||c._helper.pause(),o&&o(d)}).on("error",function(u){c.emit("error",u)}).on("end",function(){c.push(null)})}n("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(n,e,t){"use strict";e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,r){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,r);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,r)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var r=new Buffer(i);return r.fill(0),r},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,e,t){"use strict";function i(_,D,A){var T,E=s.getTypeOf(D),k=s.extend(A||{},c);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(_=m(_)),k.createFolders&&(T=g(_))&&y.call(this,T,!0);var S=E==="string"&&k.binary===!1&&k.base64===!1;A&&A.binary!==void 0||(k.binary=!S),(D instanceof u&&D.uncompressedSize===0||k.dir||!D||D.length===0)&&(k.base64=!1,k.binary=!0,D="",k.compression="STORE",E="string");var C=null;C=D instanceof u||D instanceof a?D:f.isNode&&f.isStream(D)?new p(_,D):s.prepareContent(_,D,k.binary,k.optimizedBinaryString,k.base64);var L=new d(_,C,k);this.files[_]=L}var r=n("./utf8"),s=n("./utils"),a=n("./stream/GenericWorker"),o=n("./stream/StreamHelper"),c=n("./defaults"),u=n("./compressedObject"),d=n("./zipObject"),h=n("./generate"),f=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),g=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var D=_.lastIndexOf("/");return 0<D?_.substring(0,D):""},m=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,D){return D=D!==void 0?D:c.createFolders,_=m(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:D}),this.files[_]};function b(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var D,A,T;for(D in this.files)T=this.files[D],(A=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&_(A,T)},filter:function(_){var D=[];return this.forEach(function(A,T){_(A,T)&&D.push(T)}),D},file:function(_,D,A){if(arguments.length!==1)return _=this.root+_,i.call(this,_,D,A),this;if(b(_)){var T=_;return this.filter(function(k,S){return!S.dir&&T.test(k)})}var E=this.files[this.root+_];return E&&!E.dir?E:null},folder:function(_){if(!_)return this;if(b(_))return this.filter(function(E,k){return k.dir&&_.test(E)});var D=this.root+_,A=y.call(this,D),T=this.clone();return T.root=A.name,T},remove:function(_){_=this.root+_;var D=this.files[_];if(D||(_.slice(-1)!=="/"&&(_+="/"),D=this.files[_]),D&&!D.dir)delete this.files[_];else for(var A=this.filter(function(E,k){return k.name.slice(0,_.length)===_}),T=0;T<A.length;T++)delete this.files[A[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var D,A={};try{if((A=s.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");s.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var T=A.comment||this.comment||"";D=h.generateWorker(this,A,T)}catch(E){(D=new a("error")).error(E)}return new o(D,A.type||"string",A.mimeType)},generateAsync:function(_,D){return this.generateInternalStream(_).accumulate(D)},generateNodeStream:function(_,D){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(D)}};e.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,e,t){"use strict";e.exports=n("stream")},{stream:void 0}],17:[function(n,e,t){"use strict";var i=n("./DataReader");function r(s){i.call(this,s);for(var a=0;a<this.data.length;a++)s[a]=255&s[a]}n("../utils").inherits(r,i),r.prototype.byteAt=function(s){return this.data[this.zero+s]},r.prototype.lastIndexOfSignature=function(s){for(var a=s.charCodeAt(0),o=s.charCodeAt(1),c=s.charCodeAt(2),u=s.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===a&&this.data[d+1]===o&&this.data[d+2]===c&&this.data[d+3]===u)return d-this.zero;return-1},r.prototype.readAndCheckSignature=function(s){var a=s.charCodeAt(0),o=s.charCodeAt(1),c=s.charCodeAt(2),u=s.charCodeAt(3),d=this.readData(4);return a===d[0]&&o===d[1]&&c===d[2]&&u===d[3]},r.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(n,e,t){"use strict";var i=n("../utils");function r(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var a,o=0;for(this.checkOffset(s),a=this.index+s-1;a>=this.index;a--)o=(o<<8)+this.byteAt(a);return this.index+=s,o},readString:function(s){return i.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},e.exports=r},{"../utils":32}],19:[function(n,e,t){"use strict";var i=n("./Uint8ArrayReader");function r(s){i.call(this,s)}n("../utils").inherits(r,i),r.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,e,t){"use strict";var i=n("./DataReader");function r(s){i.call(this,s)}n("../utils").inherits(r,i),r.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},r.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},r.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},r.prototype.readData=function(s){this.checkOffset(s);var a=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(n,e,t){"use strict";var i=n("./ArrayReader");function r(s){i.call(this,s)}n("../utils").inherits(r,i),r.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,a},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(n,e,t){"use strict";var i=n("../utils"),r=n("../support"),s=n("./ArrayReader"),a=n("./StringReader"),o=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");e.exports=function(u){var d=i.getTypeOf(u);return i.checkSupport(d),d!=="string"||r.uint8array?d==="nodebuffer"?new o(u):r.uint8array?new c(i.transformTo("uint8array",u)):new s(i.transformTo("array",u)):new a(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,e,t){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,e,t){"use strict";var i=n("./GenericWorker"),r=n("../utils");function s(a){i.call(this,"ConvertWorker to "+a),this.destType=a}r.inherits(s,i),s.prototype.processChunk=function(a){this.push({data:r.transformTo(this.destType,a.data),meta:a.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(n,e,t){"use strict";var i=n("./GenericWorker"),r=n("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(s,i),s.prototype.processChunk=function(a){this.streamInfo.crc32=r(a.data,this.streamInfo.crc32||0),this.push(a)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,e,t){"use strict";var i=n("../utils"),r=n("./GenericWorker");function s(a){r.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}i.inherits(s,r),s.prototype.processChunk=function(a){if(a){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+a.data.length}r.prototype.processChunk.call(this,a)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(n,e,t){"use strict";var i=n("../utils"),r=n("./GenericWorker");function s(a){r.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(c){o.dataIsReady=!0,o.data=c,o.max=c&&c.length||0,o.type=i.getTypeOf(c),o.isPaused||o._tickAndRepeat()},function(c){o.error(c)})}i.inherits(s,r),s.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,o);break;case"uint8array":a=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":a=this.data.slice(this.index,o)}return this.index=o,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(n,e,t){"use strict";function i(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(r){this.emit("data",r)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0},error:function(r){return!this.isFinished&&(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)},on:function(r,s){return this._listeners[r].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(r,s){if(this._listeners[r])for(var a=0;a<this._listeners[r].length;a++)this._listeners[r][a].call(this,s)},pipe:function(r){return r.registerPrevious(this)},registerPrevious:function(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var s=this;return r.on("data",function(a){s.processChunk(a)}),r.on("end",function(){s.end()}),r.on("error",function(a){s.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var r=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r},flush:function(){},processChunk:function(r){this.push(r)},withStreamInfo:function(r,s){return this.extraStreamInfo[r]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var r in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,r)&&(this.streamInfo[r]=this.extraStreamInfo[r])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},e.exports=i},{}],29:[function(n,e,t){"use strict";var i=n("../utils"),r=n("./ConvertWorker"),s=n("./GenericWorker"),a=n("../base64"),o=n("../support"),c=n("../external"),u=null;if(o.nodestream)try{u=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(f,p){return new c.Promise(function(g,m){var y=[],b=f._internalType,w=f._outputType,_=f._mimeType;f.on("data",function(D,A){y.push(D),p&&p(A)}).on("error",function(D){y=[],m(D)}).on("end",function(){try{var D=(function(A,T,E){switch(A){case"blob":return i.newBlob(i.transformTo("arraybuffer",T),E);case"base64":return a.encode(T);default:return i.transformTo(A,T)}})(w,(function(A,T){var E,k=0,S=null,C=0;for(E=0;E<T.length;E++)C+=T[E].length;switch(A){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(S=new Uint8Array(C),E=0;E<T.length;E++)S.set(T[E],k),k+=T[E].length;return S;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+A+"'")}})(b,y),_);g(D)}catch(A){m(A)}y=[]}).resume()})}function h(f,p,g){var m=p;switch(p){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=p,this._mimeType=g,i.checkSupport(m),this._worker=f.pipe(new r(m)),f.lock()}catch(y){this._worker=new s("error"),this._worker.error(y)}}h.prototype={accumulate:function(f){return d(this,f)},on:function(f,p){var g=this;return f==="data"?this._worker.on(f,function(m){p.call(g,m.data,m.meta)}):this._worker.on(f,function(){i.delay(p,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},f)}},e.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,e,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",t.nodebuffer=typeof Buffer<"u",t.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),t.blob=r.getBlob("application/zip").size===0}catch{t.blob=!1}}}try{t.nodestream=!!n("readable-stream").Readable}catch{t.nodestream=!1}},{"readable-stream":16}],31:[function(n,e,t){"use strict";for(var i=n("./utils"),r=n("./support"),s=n("./nodejsUtils"),a=n("./stream/GenericWorker"),o=new Array(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;o[254]=o[254]=1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}t.utf8encode=function(h){return r.nodebuffer?s.newBufferFrom(h,"utf-8"):(function(f){var p,g,m,y,b,w=f.length,_=0;for(y=0;y<w;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<w&&(64512&(m=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),_+=g<128?1:g<2048?2:g<65536?3:4;for(p=r.uint8array?new Uint8Array(_):new Array(_),y=b=0;b<_;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<w&&(64512&(m=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),g<128?p[b++]=g:(g<2048?p[b++]=192|g>>>6:(g<65536?p[b++]=224|g>>>12:(p[b++]=240|g>>>18,p[b++]=128|g>>>12&63),p[b++]=128|g>>>6&63),p[b++]=128|63&g);return p})(h)},t.utf8decode=function(h){return r.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):(function(f){var p,g,m,y,b=f.length,w=new Array(2*b);for(p=g=0;p<b;)if((m=f[p++])<128)w[g++]=m;else if(4<(y=o[m]))w[g++]=65533,p+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&p<b;)m=m<<6|63&f[p++],y--;1<y?w[g++]=65533:m<65536?w[g++]=m:(m-=65536,w[g++]=55296|m>>10&1023,w[g++]=56320|1023&m)}return w.length!==g&&(w.subarray?w=w.subarray(0,g):w.length=g),i.applyFromCharCode(w)})(h=i.transformTo(r.uint8array?"uint8array":"array",h))},i.inherits(u,a),u.prototype.processChunk=function(h){var f=i.transformTo(r.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var p=f;(f=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),f.set(p,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var g=(function(y,b){var w;for((b=b||y.length)>y.length&&(b=y.length),w=b-1;0<=w&&(192&y[w])==128;)w--;return w<0||w===0?b:w+o[y[w]]>b?w:b})(f),m=f;g!==f.length&&(r.uint8array?(m=f.subarray(0,g),this.leftOver=f.subarray(g,f.length)):(m=f.slice(0,g),this.leftOver=f.slice(g,f.length))),this.push({data:t.utf8decode(m),meta:h.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,i.inherits(d,a),d.prototype.processChunk=function(h){this.push({data:t.utf8encode(h.data),meta:h.meta})},t.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,e,t){"use strict";var i=n("./support"),r=n("./base64"),s=n("./nodejsUtils"),a=n("./external");function o(p){return p}function c(p,g){for(var m=0;m<p.length;++m)g[m]=255&p.charCodeAt(m);return g}n("setimmediate"),t.newBlob=function(p,g){t.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(p),m.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(p,g,m){var y=[],b=0,w=p.length;if(w<=m)return String.fromCharCode.apply(null,p);for(;b<w;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,p.slice(b,Math.min(b+m,w)))):y.push(String.fromCharCode.apply(null,p.subarray(b,Math.min(b+m,w)))),b+=m;return y.join("")},stringifyByChar:function(p){for(var g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);return g},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}})()}};function d(p){var g=65536,m=t.getTypeOf(p),y=!0;if(m==="uint8array"?y=u.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=u.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return u.stringifyByChunk(p,m,g)}catch{g=Math.floor(g/2)}return u.stringifyByChar(p)}function h(p,g){for(var m=0;m<p.length;m++)g[m]=p[m];return g}t.applyFromCharCode=d;var f={};f.string={string:o,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return f.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,s.allocBuffer(p.length))}},f.array={string:d,array:o,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return s.newBufferFrom(p)}},f.arraybuffer={string:function(p){return d(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:o,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return s.newBufferFrom(new Uint8Array(p))}},f.uint8array={string:d,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:o,nodebuffer:function(p){return s.newBufferFrom(p)}},f.nodebuffer={string:d,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return f.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:o},t.transformTo=function(p,g){if(g=g||"",!p)return g;t.checkSupport(p);var m=t.getTypeOf(g);return f[m][p](g)},t.resolve=function(p){for(var g=p.split("/"),m=[],y=0;y<g.length;y++){var b=g[y];b==="."||b===""&&y!==0&&y!==g.length-1||(b===".."?m.pop():m.push(b))}return m.join("/")},t.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&s.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(p){var g,m,y="";for(m=0;m<(p||"").length;m++)y+="\\x"+((g=p.charCodeAt(m))<16?"0":"")+g.toString(16).toUpperCase();return y},t.delay=function(p,g,m){setImmediate(function(){p.apply(m||null,g||[])})},t.inherits=function(p,g){function m(){}m.prototype=g.prototype,p.prototype=new m},t.extend=function(){var p,g,m={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&m[g]===void 0&&(m[g]=arguments[p][g]);return m},t.prepareContent=function(p,g,m,y,b){return a.Promise.resolve(g).then(function(w){return i.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new a.Promise(function(_,D){var A=new FileReader;A.onload=function(T){_(T.target.result)},A.onerror=function(T){D(T.target.error)},A.readAsArrayBuffer(w)}):w}).then(function(w){var _=t.getTypeOf(w);return _?(_==="arraybuffer"?w=t.transformTo("uint8array",w):_==="string"&&(b?w=r.decode(w):m&&y!==!0&&(w=(function(D){return c(D,i.uint8array?new Uint8Array(D.length):new Array(D.length))})(w))),w):a.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,e,t){"use strict";var i=n("./reader/readerFor"),r=n("./utils"),s=n("./signature"),a=n("./zipEntry"),o=n("./support");function c(u){this.files=[],this.loadOptions=u}c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(d)+", expected "+r.pretty(u)+")")}},isSignature:function(u,d){var h=this.reader.index;this.reader.setIndex(u);var f=this.reader.readString(4)===d;return this.reader.setIndex(h),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),d=o.uint8array?"uint8array":"array",h=r.transformTo(d,u);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,d,h,f=this.zip64EndOfCentralSize-44;0<f;)u=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[u]={id:u,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,d;for(u=0;u<this.files.length;u++)d=this.files[u],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(u=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var d=u;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var f=d-h;if(0<f)this.isSignature(d,s.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,e,t){"use strict";var i=n("./reader/readerFor"),r=n("./utils"),s=n("./compressedObject"),a=n("./crc32"),o=n("./utf8"),c=n("./compressions"),u=n("./support");function d(h,f){this.options=h,this.loadOptions=f}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var f,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=(function(g){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===g)return c[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,f,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var f=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(f),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var f,p,g,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)f=h.readInt(2),p=h.readInt(2),g=h.readData(p),this.extraFields[f]={id:f,length:p,value:g};h.setIndex(m)},handleUTF8:function(){var h=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var p=r.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var m=r.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var f=i(h.value);return f.readInt(1)!==1||a(this.fileName)!==f.readInt(4)?null:o.utf8decode(f.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var f=i(h.value);return f.readInt(1)!==1||a(this.fileComment)!==f.readInt(4)?null:o.utf8decode(f.readData(h.length-5))}return null}},e.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,e,t){"use strict";function i(f,p,g){this.name=f,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var r=n("./stream/StreamHelper"),s=n("./stream/DataWorker"),a=n("./utf8"),o=n("./compressedObject"),c=n("./stream/GenericWorker");i.prototype={internalStream:function(f){var p=null,g="string";try{if(!f)throw new Error("No output type specified.");var m=(g=f.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(p=p.pipe(new a.Utf8EncodeWorker)),!y&&m&&(p=p.pipe(new a.Utf8DecodeWorker))}catch(b){(p=new c("error")).error(b)}return new r(p,g,"")},async:function(f,p){return this.internalStream(f).accumulate(p)},nodeStream:function(f,p){return this.internalStream(f||"nodebuffer").toNodejsStream(p)},_compressWorker:function(f,p){if(this._data instanceof o&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(g,f,p)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)i.prototype[u[h]]=d;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,e,t){(function(i){"use strict";var r,s,a=i.MutationObserver||i.WebKitMutationObserver;if(a){var o=0,c=new a(f),u=i.document.createTextNode("");c.observe(u,{characterData:!0}),r=function(){u.data=o=++o%2}}else if(i.setImmediate||i.MessageChannel===void 0)r="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){f(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(f,0)};else{var d=new i.MessageChannel;d.port1.onmessage=f,r=function(){d.port2.postMessage(0)}}var h=[];function f(){var p,g;s=!0;for(var m=h.length;m;){for(g=h,h=[],p=-1;++p<m;)g[p]();m=h.length}s=!1}e.exports=function(p){h.push(p)!==1||s||r()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,e,t){"use strict";var i=n("immediate");function r(){}var s={},a=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function u(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==r&&p(this,m)}function d(m,y,b){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function h(m,y,b){i(function(){var w;try{w=y(b)}catch(_){return s.reject(m,_)}w===m?s.reject(m,new TypeError("Cannot resolve promise with itself")):s.resolve(m,w)})}function f(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function p(m,y){var b=!1;function w(A){b||(b=!0,s.reject(m,A))}function _(A){b||(b=!0,s.resolve(m,A))}var D=g(function(){y(_,w)});D.status==="error"&&w(D.value)}function g(m,y){var b={};try{b.value=m(y),b.status="success"}catch(w){b.status="error",b.value=w}return b}(e.exports=u).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(m()).then(function(){return b})},function(b){return y.resolve(m()).then(function(){throw b})})},u.prototype.catch=function(m){return this.then(null,m)},u.prototype.then=function(m,y){if(typeof m!="function"&&this.state===o||typeof y!="function"&&this.state===a)return this;var b=new this.constructor(r);return this.state!==c?h(b,this.state===o?m:y,this.outcome):this.queue.push(new d(b,m,y)),b},d.prototype.callFulfilled=function(m){s.resolve(this.promise,m)},d.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},d.prototype.callRejected=function(m){s.reject(this.promise,m)},d.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},s.resolve=function(m,y){var b=g(f,y);if(b.status==="error")return s.reject(m,b.value);var w=b.value;if(w)p(m,w);else{m.state=o,m.outcome=y;for(var _=-1,D=m.queue.length;++_<D;)m.queue[_].callFulfilled(y)}return m},s.reject=function(m,y){m.state=a,m.outcome=y;for(var b=-1,w=m.queue.length;++b<w;)m.queue[b].callRejected(y);return m},u.resolve=function(m){return m instanceof this?m:s.resolve(new this(r),m)},u.reject=function(m){var y=new this(r);return s.reject(y,m)},u.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var _=new Array(b),D=0,A=-1,T=new this(r);++A<b;)E(m[A],A);return T;function E(k,S){y.resolve(k).then(function(C){_[S]=C,++D!==b||w||(w=!0,s.resolve(T,_))},function(C){w||(w=!0,s.reject(T,C))})}},u.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=m.length,w=!1;if(!b)return this.resolve([]);for(var _=-1,D=new this(r);++_<b;)A=m[_],y.resolve(A).then(function(T){w||(w=!0,s.resolve(D,T))},function(T){w||(w=!0,s.reject(D,T))});var A;return D}},{immediate:36}],38:[function(n,e,t){"use strict";var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,e,t){"use strict";var i=n("./zlib/deflate"),r=n("./utils/common"),s=n("./utils/strings"),a=n("./zlib/messages"),o=n("./zlib/zstream"),c=Object.prototype.toString,u=0,d=-1,h=0,f=8;function p(m){if(!(this instanceof p))return new p(m);this.options=r.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var b=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==u)throw new Error(a[b]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var w;if(w=typeof y.dictionary=="string"?s.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=i.deflateSetDictionary(this.strm,w))!==u)throw new Error(a[b]);this._dict_set=!0}}function g(m,y){var b=new p(y);if(b.push(m,!0),b.err)throw b.msg||a[b.err];return b.result}p.prototype.push=function(m,y){var b,w,_=this.strm,D=this.options.chunkSize;if(this.ended)return!1;w=y===~~y?y:y===!0?4:0,typeof m=="string"?_.input=s.string2buf(m):c.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new r.Buf8(D),_.next_out=0,_.avail_out=D),(b=i.deflate(_,w))!==1&&b!==u)return this.onEnd(b),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(r.shrinkBuf(_.output,_.next_out))):this.onData(r.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&b!==1);return w===4?(b=i.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u):w!==2||(this.onEnd(u),!(_.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},t.Deflate=p,t.deflate=g,t.deflateRaw=function(m,y){return(y=y||{}).raw=!0,g(m,y)},t.gzip=function(m,y){return(y=y||{}).gzip=!0,g(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,e,t){"use strict";var i=n("./zlib/inflate"),r=n("./utils/common"),s=n("./utils/strings"),a=n("./zlib/constants"),o=n("./zlib/messages"),c=n("./zlib/zstream"),u=n("./zlib/gzheader"),d=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=i.inflateInit2(this.strm,g.windowBits);if(m!==a.Z_OK)throw new Error(o[m]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function f(p,g){var m=new h(g);if(m.push(p,!0),m.err)throw m.msg||o[m.err];return m.result}h.prototype.push=function(p,g){var m,y,b,w,_,D,A=this.strm,T=this.options.chunkSize,E=this.options.dictionary,k=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof p=="string"?A.input=s.binstring2buf(p):d.call(p)==="[object ArrayBuffer]"?A.input=new Uint8Array(p):A.input=p,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new r.Buf8(T),A.next_out=0,A.avail_out=T),(m=i.inflate(A,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&E&&(D=typeof E=="string"?s.string2buf(E):d.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,m=i.inflateSetDictionary(this.strm,D)),m===a.Z_BUF_ERROR&&k===!0&&(m=a.Z_OK,k=!1),m!==a.Z_STREAM_END&&m!==a.Z_OK)return this.onEnd(m),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&m!==a.Z_STREAM_END&&(A.avail_in!==0||y!==a.Z_FINISH&&y!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=s.utf8border(A.output,A.next_out),w=A.next_out-b,_=s.buf2string(A.output,b),A.next_out=w,A.avail_out=T-w,w&&r.arraySet(A.output,A.output,b,w,0),this.onData(_)):this.onData(r.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(k=!0)}while((0<A.avail_in||A.avail_out===0)&&m!==a.Z_STREAM_END);return m===a.Z_STREAM_END&&(y=a.Z_FINISH),y===a.Z_FINISH?(m=i.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===a.Z_OK):y!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(A.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},t.Inflate=h,t.inflate=f,t.inflateRaw=function(p,g){return(g=g||{}).raw=!0,f(p,g)},t.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,e,t){"use strict";var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";t.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var c=o.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(a[u]=c[u])}}return a},t.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var r={arraySet:function(a,o,c,u,d){if(o.subarray&&a.subarray)a.set(o.subarray(c,c+u),d);else for(var h=0;h<u;h++)a[d+h]=o[c+h]},flattenChunks:function(a){var o,c,u,d,h,f;for(o=u=0,c=a.length;o<c;o++)u+=a[o].length;for(f=new Uint8Array(u),o=d=0,c=a.length;o<c;o++)h=a[o],f.set(h,d),d+=h.length;return f}},s={arraySet:function(a,o,c,u,d){for(var h=0;h<u;h++)a[d+h]=o[c+h]},flattenChunks:function(a){return[].concat.apply([],a)}};t.setTyped=function(a){a?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},{}],42:[function(n,e,t){"use strict";var i=n("./common"),r=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function c(u,d){if(d<65537&&(u.subarray&&s||!u.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(u,d));for(var h="",f=0;f<d;f++)h+=String.fromCharCode(u[f]);return h}a[254]=a[254]=1,t.string2buf=function(u){var d,h,f,p,g,m=u.length,y=0;for(p=0;p<m;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<m&&(64512&(f=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(f-56320),p++),y+=h<128?1:h<2048?2:h<65536?3:4;for(d=new i.Buf8(y),p=g=0;g<y;p++)(64512&(h=u.charCodeAt(p)))==55296&&p+1<m&&(64512&(f=u.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(f-56320),p++),h<128?d[g++]=h:(h<2048?d[g++]=192|h>>>6:(h<65536?d[g++]=224|h>>>12:(d[g++]=240|h>>>18,d[g++]=128|h>>>12&63),d[g++]=128|h>>>6&63),d[g++]=128|63&h);return d},t.buf2binstring=function(u){return c(u,u.length)},t.binstring2buf=function(u){for(var d=new i.Buf8(u.length),h=0,f=d.length;h<f;h++)d[h]=u.charCodeAt(h);return d},t.buf2string=function(u,d){var h,f,p,g,m=d||u.length,y=new Array(2*m);for(h=f=0;h<m;)if((p=u[h++])<128)y[f++]=p;else if(4<(g=a[p]))y[f++]=65533,h+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&h<m;)p=p<<6|63&u[h++],g--;1<g?y[f++]=65533:p<65536?y[f++]=p:(p-=65536,y[f++]=55296|p>>10&1023,y[f++]=56320|1023&p)}return c(y,f)},t.utf8border=function(u,d){var h;for((d=d||u.length)>u.length&&(d=u.length),h=d-1;0<=h&&(192&u[h])==128;)h--;return h<0||h===0?d:h+a[u[h]]>d?h:d}},{"./common":41}],43:[function(n,e,t){"use strict";e.exports=function(i,r,s,a){for(var o=65535&i|0,c=i>>>16&65535|0,u=0;s!==0;){for(s-=u=2e3<s?2e3:s;c=c+(o=o+r[a++]|0)|0,--u;);o%=65521,c%=65521}return o|c<<16|0}},{}],44:[function(n,e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,e,t){"use strict";var i=(function(){for(var r,s=[],a=0;a<256;a++){r=a;for(var o=0;o<8;o++)r=1&r?3988292384^r>>>1:r>>>1;s[a]=r}return s})();e.exports=function(r,s,a,o){var c=i,u=o+a;r^=-1;for(var d=o;d<u;d++)r=r>>>8^c[255&(r^s[d])];return-1^r}},{}],46:[function(n,e,t){"use strict";var i,r=n("../utils/common"),s=n("./trees"),a=n("./adler32"),o=n("./crc32"),c=n("./messages"),u=0,d=4,h=0,f=-2,p=-1,g=4,m=2,y=8,b=9,w=286,_=30,D=19,A=2*w+1,T=15,E=3,k=258,S=k+E+1,C=42,L=113,x=1,B=2,q=3,H=4;function I(v,W){return v.msg=c[W],W}function M(v){return(v<<1)-(4<v?9:0)}function U(v){for(var W=v.length;0<=--W;)v[W]=0}function P(v){var W=v.state,z=W.pending;z>v.avail_out&&(z=v.avail_out),z!==0&&(r.arraySet(v.output,W.pending_buf,W.pending_out,z,v.next_out),v.next_out+=z,W.pending_out+=z,v.total_out+=z,v.avail_out-=z,W.pending-=z,W.pending===0&&(W.pending_out=0))}function N(v,W){s._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,W),v.block_start=v.strstart,P(v.strm)}function G(v,W){v.pending_buf[v.pending++]=W}function Y(v,W){v.pending_buf[v.pending++]=W>>>8&255,v.pending_buf[v.pending++]=255&W}function K(v,W){var z,R,F=v.max_chain_length,j=v.strstart,Q=v.prev_length,ie=v.nice_match,$=v.strstart>v.w_size-S?v.strstart-(v.w_size-S):0,se=v.window,oe=v.w_mask,O=v.prev,V=v.strstart+k,ee=se[j+Q-1],te=se[j+Q];v.prev_length>=v.good_match&&(F>>=2),ie>v.lookahead&&(ie=v.lookahead);do if(se[(z=W)+Q]===te&&se[z+Q-1]===ee&&se[z]===se[j]&&se[++z]===se[j+1]){j+=2,z++;do;while(se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&se[++j]===se[++z]&&j<V);if(R=k-(V-j),j=V-k,Q<R){if(v.match_start=W,ie<=(Q=R))break;ee=se[j+Q-1],te=se[j+Q]}}while((W=O[W&oe])>$&&--F!=0);return Q<=v.lookahead?Q:v.lookahead}function de(v){var W,z,R,F,j,Q,ie,$,se,oe,O=v.w_size;do{if(F=v.window_size-v.lookahead-v.strstart,v.strstart>=O+(O-S)){for(r.arraySet(v.window,v.window,O,O,0),v.match_start-=O,v.strstart-=O,v.block_start-=O,W=z=v.hash_size;R=v.head[--W],v.head[W]=O<=R?R-O:0,--z;);for(W=z=O;R=v.prev[--W],v.prev[W]=O<=R?R-O:0,--z;);F+=O}if(v.strm.avail_in===0)break;if(Q=v.strm,ie=v.window,$=v.strstart+v.lookahead,se=F,oe=void 0,oe=Q.avail_in,se<oe&&(oe=se),z=oe===0?0:(Q.avail_in-=oe,r.arraySet(ie,Q.input,Q.next_in,oe,$),Q.state.wrap===1?Q.adler=a(Q.adler,ie,oe,$):Q.state.wrap===2&&(Q.adler=o(Q.adler,ie,oe,$)),Q.next_in+=oe,Q.total_in+=oe,oe),v.lookahead+=z,v.lookahead+v.insert>=E)for(j=v.strstart-v.insert,v.ins_h=v.window[j],v.ins_h=(v.ins_h<<v.hash_shift^v.window[j+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[j+E-1])&v.hash_mask,v.prev[j&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=j,j++,v.insert--,!(v.lookahead+v.insert<E)););}while(v.lookahead<S&&v.strm.avail_in!==0)}function ge(v,W){for(var z,R;;){if(v.lookahead<S){if(de(v),v.lookahead<S&&W===u)return x;if(v.lookahead===0)break}if(z=0,v.lookahead>=E&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+E-1])&v.hash_mask,z=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),z!==0&&v.strstart-z<=v.w_size-S&&(v.match_length=K(v,z)),v.match_length>=E)if(R=s._tr_tally(v,v.strstart-v.match_start,v.match_length-E),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=E){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+E-1])&v.hash_mask,z=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else R=s._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(R&&(N(v,!1),v.strm.avail_out===0))return x}return v.insert=v.strstart<E-1?v.strstart:E-1,W===d?(N(v,!0),v.strm.avail_out===0?q:H):v.last_lit&&(N(v,!1),v.strm.avail_out===0)?x:B}function ce(v,W){for(var z,R,F;;){if(v.lookahead<S){if(de(v),v.lookahead<S&&W===u)return x;if(v.lookahead===0)break}if(z=0,v.lookahead>=E&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+E-1])&v.hash_mask,z=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=E-1,z!==0&&v.prev_length<v.max_lazy_match&&v.strstart-z<=v.w_size-S&&(v.match_length=K(v,z),v.match_length<=5&&(v.strategy===1||v.match_length===E&&4096<v.strstart-v.match_start)&&(v.match_length=E-1)),v.prev_length>=E&&v.match_length<=v.prev_length){for(F=v.strstart+v.lookahead-E,R=s._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-E),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=F&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+E-1])&v.hash_mask,z=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=E-1,v.strstart++,R&&(N(v,!1),v.strm.avail_out===0))return x}else if(v.match_available){if((R=s._tr_tally(v,0,v.window[v.strstart-1]))&&N(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return x}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(R=s._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<E-1?v.strstart:E-1,W===d?(N(v,!0),v.strm.avail_out===0?q:H):v.last_lit&&(N(v,!1),v.strm.avail_out===0)?x:B}function le(v,W,z,R,F){this.good_length=v,this.max_lazy=W,this.nice_length=z,this.max_chain=R,this.func=F}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*A),this.dyn_dtree=new r.Buf16(2*(2*_+1)),this.bl_tree=new r.Buf16(2*(2*D+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(T+1),this.heap=new r.Buf16(2*w+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*w+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Re(v){var W;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=m,(W=v.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?C:L,v.adler=W.wrap===2?0:1,W.last_flush=u,s._tr_init(W),h):I(v,f)}function wt(v){var W=Re(v);return W===h&&(function(z){z.window_size=2*z.w_size,U(z.head),z.max_lazy_match=i[z.level].max_lazy,z.good_match=i[z.level].good_length,z.nice_match=i[z.level].nice_length,z.max_chain_length=i[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=E-1,z.match_available=0,z.ins_h=0})(v.state),W}function Vt(v,W,z,R,F,j){if(!v)return f;var Q=1;if(W===p&&(W=6),R<0?(Q=0,R=-R):15<R&&(Q=2,R-=16),F<1||b<F||z!==y||R<8||15<R||W<0||9<W||j<0||g<j)return I(v,f);R===8&&(R=9);var ie=new De;return(v.state=ie).strm=v,ie.wrap=Q,ie.gzhead=null,ie.w_bits=R,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=F+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+E-1)/E),ie.window=new r.Buf8(2*ie.w_size),ie.head=new r.Buf16(ie.hash_size),ie.prev=new r.Buf16(ie.w_size),ie.lit_bufsize=1<<F+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new r.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=W,ie.strategy=j,ie.method=z,wt(v)}i=[new le(0,0,0,0,function(v,W){var z=65535;for(z>v.pending_buf_size-5&&(z=v.pending_buf_size-5);;){if(v.lookahead<=1){if(de(v),v.lookahead===0&&W===u)return x;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var R=v.block_start+z;if((v.strstart===0||v.strstart>=R)&&(v.lookahead=v.strstart-R,v.strstart=R,N(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-S&&(N(v,!1),v.strm.avail_out===0))return x}return v.insert=0,W===d?(N(v,!0),v.strm.avail_out===0?q:H):(v.strstart>v.block_start&&(N(v,!1),v.strm.avail_out),x)}),new le(4,4,8,4,ge),new le(4,5,16,8,ge),new le(4,6,32,32,ge),new le(4,4,16,16,ce),new le(8,16,32,32,ce),new le(8,16,128,128,ce),new le(8,32,128,256,ce),new le(32,128,258,1024,ce),new le(32,258,258,4096,ce)],t.deflateInit=function(v,W){return Vt(v,W,y,15,8,0)},t.deflateInit2=Vt,t.deflateReset=wt,t.deflateResetKeep=Re,t.deflateSetHeader=function(v,W){return v&&v.state?v.state.wrap!==2?f:(v.state.gzhead=W,h):f},t.deflate=function(v,W){var z,R,F,j;if(!v||!v.state||5<W||W<0)return v?I(v,f):f;if(R=v.state,!v.output||!v.input&&v.avail_in!==0||R.status===666&&W!==d)return I(v,v.avail_out===0?-5:f);if(R.strm=v,z=R.last_flush,R.last_flush=W,R.status===C)if(R.wrap===2)v.adler=0,G(R,31),G(R,139),G(R,8),R.gzhead?(G(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),G(R,255&R.gzhead.time),G(R,R.gzhead.time>>8&255),G(R,R.gzhead.time>>16&255),G(R,R.gzhead.time>>24&255),G(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),G(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(G(R,255&R.gzhead.extra.length),G(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(v.adler=o(v.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(G(R,0),G(R,0),G(R,0),G(R,0),G(R,0),G(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),G(R,3),R.status=L);else{var Q=y+(R.w_bits-8<<4)<<8;Q|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Q|=32),Q+=31-Q%31,R.status=L,Y(R,Q),R.strstart!==0&&(Y(R,v.adler>>>16),Y(R,65535&v.adler)),v.adler=1}if(R.status===69)if(R.gzhead.extra){for(F=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),P(v),F=R.pending,R.pending!==R.pending_buf_size));)G(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){F=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),P(v),F=R.pending,R.pending===R.pending_buf_size)){j=1;break}j=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,G(R,j)}while(j!==0);R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),j===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){F=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),P(v),F=R.pending,R.pending===R.pending_buf_size)){j=1;break}j=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,G(R,j)}while(j!==0);R.gzhead.hcrc&&R.pending>F&&(v.adler=o(v.adler,R.pending_buf,R.pending-F,F)),j===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&P(v),R.pending+2<=R.pending_buf_size&&(G(R,255&v.adler),G(R,v.adler>>8&255),v.adler=0,R.status=L)):R.status=L),R.pending!==0){if(P(v),v.avail_out===0)return R.last_flush=-1,h}else if(v.avail_in===0&&M(W)<=M(z)&&W!==d)return I(v,-5);if(R.status===666&&v.avail_in!==0)return I(v,-5);if(v.avail_in!==0||R.lookahead!==0||W!==u&&R.status!==666){var ie=R.strategy===2?(function($,se){for(var oe;;){if($.lookahead===0&&(de($),$.lookahead===0)){if(se===u)return x;break}if($.match_length=0,oe=s._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,oe&&(N($,!1),$.strm.avail_out===0))return x}return $.insert=0,se===d?(N($,!0),$.strm.avail_out===0?q:H):$.last_lit&&(N($,!1),$.strm.avail_out===0)?x:B})(R,W):R.strategy===3?(function($,se){for(var oe,O,V,ee,te=$.window;;){if($.lookahead<=k){if(de($),$.lookahead<=k&&se===u)return x;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=E&&0<$.strstart&&(O=te[V=$.strstart-1])===te[++V]&&O===te[++V]&&O===te[++V]){ee=$.strstart+k;do;while(O===te[++V]&&O===te[++V]&&O===te[++V]&&O===te[++V]&&O===te[++V]&&O===te[++V]&&O===te[++V]&&O===te[++V]&&V<ee);$.match_length=k-(ee-V),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=E?(oe=s._tr_tally($,1,$.match_length-E),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(oe=s._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),oe&&(N($,!1),$.strm.avail_out===0))return x}return $.insert=0,se===d?(N($,!0),$.strm.avail_out===0?q:H):$.last_lit&&(N($,!1),$.strm.avail_out===0)?x:B})(R,W):i[R.level].func(R,W);if(ie!==q&&ie!==H||(R.status=666),ie===x||ie===q)return v.avail_out===0&&(R.last_flush=-1),h;if(ie===B&&(W===1?s._tr_align(R):W!==5&&(s._tr_stored_block(R,0,0,!1),W===3&&(U(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),P(v),v.avail_out===0))return R.last_flush=-1,h}return W!==d?h:R.wrap<=0?1:(R.wrap===2?(G(R,255&v.adler),G(R,v.adler>>8&255),G(R,v.adler>>16&255),G(R,v.adler>>24&255),G(R,255&v.total_in),G(R,v.total_in>>8&255),G(R,v.total_in>>16&255),G(R,v.total_in>>24&255)):(Y(R,v.adler>>>16),Y(R,65535&v.adler)),P(v),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?h:1)},t.deflateEnd=function(v){var W;return v&&v.state?(W=v.state.status)!==C&&W!==69&&W!==73&&W!==91&&W!==103&&W!==L&&W!==666?I(v,f):(v.state=null,W===L?I(v,-3):h):f},t.deflateSetDictionary=function(v,W){var z,R,F,j,Q,ie,$,se,oe=W.length;if(!v||!v.state||(j=(z=v.state).wrap)===2||j===1&&z.status!==C||z.lookahead)return f;for(j===1&&(v.adler=a(v.adler,W,oe,0)),z.wrap=0,oe>=z.w_size&&(j===0&&(U(z.head),z.strstart=0,z.block_start=0,z.insert=0),se=new r.Buf8(z.w_size),r.arraySet(se,W,oe-z.w_size,z.w_size,0),W=se,oe=z.w_size),Q=v.avail_in,ie=v.next_in,$=v.input,v.avail_in=oe,v.next_in=0,v.input=W,de(z);z.lookahead>=E;){for(R=z.strstart,F=z.lookahead-(E-1);z.ins_h=(z.ins_h<<z.hash_shift^z.window[R+E-1])&z.hash_mask,z.prev[R&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=R,R++,--F;);z.strstart=R,z.lookahead=E-1,de(z)}return z.strstart+=z.lookahead,z.block_start=z.strstart,z.insert=z.lookahead,z.lookahead=0,z.match_length=z.prev_length=E-1,z.match_available=0,v.next_in=ie,v.input=$,v.avail_in=Q,z.wrap=j,h},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,e,t){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,e,t){"use strict";e.exports=function(i,r){var s,a,o,c,u,d,h,f,p,g,m,y,b,w,_,D,A,T,E,k,S,C,L,x,B;s=i.state,a=i.next_in,x=i.input,o=a+(i.avail_in-5),c=i.next_out,B=i.output,u=c-(r-i.avail_out),d=c+(i.avail_out-257),h=s.dmax,f=s.wsize,p=s.whave,g=s.wnext,m=s.window,y=s.hold,b=s.bits,w=s.lencode,_=s.distcode,D=(1<<s.lenbits)-1,A=(1<<s.distbits)-1;e:do{b<15&&(y+=x[a++]<<b,b+=8,y+=x[a++]<<b,b+=8),T=w[y&D];t:for(;;){if(y>>>=E=T>>>24,b-=E,(E=T>>>16&255)===0)B[c++]=65535&T;else{if(!(16&E)){if((64&E)==0){T=w[(65535&T)+(y&(1<<E)-1)];continue t}if(32&E){s.mode=12;break e}i.msg="invalid literal/length code",s.mode=30;break e}k=65535&T,(E&=15)&&(b<E&&(y+=x[a++]<<b,b+=8),k+=y&(1<<E)-1,y>>>=E,b-=E),b<15&&(y+=x[a++]<<b,b+=8,y+=x[a++]<<b,b+=8),T=_[y&A];n:for(;;){if(y>>>=E=T>>>24,b-=E,!(16&(E=T>>>16&255))){if((64&E)==0){T=_[(65535&T)+(y&(1<<E)-1)];continue n}i.msg="invalid distance code",s.mode=30;break e}if(S=65535&T,b<(E&=15)&&(y+=x[a++]<<b,(b+=8)<E&&(y+=x[a++]<<b,b+=8)),h<(S+=y&(1<<E)-1)){i.msg="invalid distance too far back",s.mode=30;break e}if(y>>>=E,b-=E,(E=c-u)<S){if(p<(E=S-E)&&s.sane){i.msg="invalid distance too far back",s.mode=30;break e}if(L=m,(C=0)===g){if(C+=f-E,E<k){for(k-=E;B[c++]=m[C++],--E;);C=c-S,L=B}}else if(g<E){if(C+=f+g-E,(E-=g)<k){for(k-=E;B[c++]=m[C++],--E;);if(C=0,g<k){for(k-=E=g;B[c++]=m[C++],--E;);C=c-S,L=B}}}else if(C+=g-E,E<k){for(k-=E;B[c++]=m[C++],--E;);C=c-S,L=B}for(;2<k;)B[c++]=L[C++],B[c++]=L[C++],B[c++]=L[C++],k-=3;k&&(B[c++]=L[C++],1<k&&(B[c++]=L[C++]))}else{for(C=c-S;B[c++]=B[C++],B[c++]=B[C++],B[c++]=B[C++],2<(k-=3););k&&(B[c++]=B[C++],1<k&&(B[c++]=B[C++]))}break}}break}}while(a<o&&c<d);a-=k=b>>3,y&=(1<<(b-=k<<3))-1,i.next_in=a,i.next_out=c,i.avail_in=a<o?o-a+5:5-(a-o),i.avail_out=c<d?d-c+257:257-(c-d),s.hold=y,s.bits=b}},{}],49:[function(n,e,t){"use strict";var i=n("../utils/common"),r=n("./adler32"),s=n("./crc32"),a=n("./inffast"),o=n("./inftrees"),c=1,u=2,d=0,h=-2,f=1,p=852,g=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(C){var L;return C&&C.state?(L=C.state,C.total_in=C.total_out=L.total=0,C.msg="",L.wrap&&(C.adler=1&L.wrap),L.mode=f,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new i.Buf32(p),L.distcode=L.distdyn=new i.Buf32(g),L.sane=1,L.back=-1,d):h}function w(C){var L;return C&&C.state?((L=C.state).wsize=0,L.whave=0,L.wnext=0,b(C)):h}function _(C,L){var x,B;return C&&C.state?(B=C.state,L<0?(x=0,L=-L):(x=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(B.window!==null&&B.wbits!==L&&(B.window=null),B.wrap=x,B.wbits=L,w(C))):h}function D(C,L){var x,B;return C?(B=new y,(C.state=B).window=null,(x=_(C,L))!==d&&(C.state=null),x):h}var A,T,E=!0;function k(C){if(E){var L;for(A=new i.Buf32(512),T=new i.Buf32(32),L=0;L<144;)C.lens[L++]=8;for(;L<256;)C.lens[L++]=9;for(;L<280;)C.lens[L++]=7;for(;L<288;)C.lens[L++]=8;for(o(c,C.lens,0,288,A,0,C.work,{bits:9}),L=0;L<32;)C.lens[L++]=5;o(u,C.lens,0,32,T,0,C.work,{bits:5}),E=!1}C.lencode=A,C.lenbits=9,C.distcode=T,C.distbits=5}function S(C,L,x,B){var q,H=C.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new i.Buf8(H.wsize)),B>=H.wsize?(i.arraySet(H.window,L,x-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(B<(q=H.wsize-H.wnext)&&(q=B),i.arraySet(H.window,L,x-B,q,H.wnext),(B-=q)?(i.arraySet(H.window,L,x-B,B,0),H.wnext=B,H.whave=H.wsize):(H.wnext+=q,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=q))),0}t.inflateReset=w,t.inflateReset2=_,t.inflateResetKeep=b,t.inflateInit=function(C){return D(C,15)},t.inflateInit2=D,t.inflate=function(C,L){var x,B,q,H,I,M,U,P,N,G,Y,K,de,ge,ce,le,De,Re,wt,Vt,v,W,z,R,F=0,j=new i.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return h;(x=C.state).mode===12&&(x.mode=13),I=C.next_out,q=C.output,U=C.avail_out,H=C.next_in,B=C.input,M=C.avail_in,P=x.hold,N=x.bits,G=M,Y=U,W=d;e:for(;;)switch(x.mode){case f:if(x.wrap===0){x.mode=13;break}for(;N<16;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(2&x.wrap&&P===35615){j[x.check=0]=255&P,j[1]=P>>>8&255,x.check=s(x.check,j,2,0),N=P=0,x.mode=2;break}if(x.flags=0,x.head&&(x.head.done=!1),!(1&x.wrap)||(((255&P)<<8)+(P>>8))%31){C.msg="incorrect header check",x.mode=30;break}if((15&P)!=8){C.msg="unknown compression method",x.mode=30;break}if(N-=4,v=8+(15&(P>>>=4)),x.wbits===0)x.wbits=v;else if(v>x.wbits){C.msg="invalid window size",x.mode=30;break}x.dmax=1<<v,C.adler=x.check=1,x.mode=512&P?10:12,N=P=0;break;case 2:for(;N<16;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(x.flags=P,(255&x.flags)!=8){C.msg="unknown compression method",x.mode=30;break}if(57344&x.flags){C.msg="unknown header flags set",x.mode=30;break}x.head&&(x.head.text=P>>8&1),512&x.flags&&(j[0]=255&P,j[1]=P>>>8&255,x.check=s(x.check,j,2,0)),N=P=0,x.mode=3;case 3:for(;N<32;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.head&&(x.head.time=P),512&x.flags&&(j[0]=255&P,j[1]=P>>>8&255,j[2]=P>>>16&255,j[3]=P>>>24&255,x.check=s(x.check,j,4,0)),N=P=0,x.mode=4;case 4:for(;N<16;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.head&&(x.head.xflags=255&P,x.head.os=P>>8),512&x.flags&&(j[0]=255&P,j[1]=P>>>8&255,x.check=s(x.check,j,2,0)),N=P=0,x.mode=5;case 5:if(1024&x.flags){for(;N<16;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.length=P,x.head&&(x.head.extra_len=P),512&x.flags&&(j[0]=255&P,j[1]=P>>>8&255,x.check=s(x.check,j,2,0)),N=P=0}else x.head&&(x.head.extra=null);x.mode=6;case 6:if(1024&x.flags&&(M<(K=x.length)&&(K=M),K&&(x.head&&(v=x.head.extra_len-x.length,x.head.extra||(x.head.extra=new Array(x.head.extra_len)),i.arraySet(x.head.extra,B,H,K,v)),512&x.flags&&(x.check=s(x.check,B,K,H)),M-=K,H+=K,x.length-=K),x.length))break e;x.length=0,x.mode=7;case 7:if(2048&x.flags){if(M===0)break e;for(K=0;v=B[H+K++],x.head&&v&&x.length<65536&&(x.head.name+=String.fromCharCode(v)),v&&K<M;);if(512&x.flags&&(x.check=s(x.check,B,K,H)),M-=K,H+=K,v)break e}else x.head&&(x.head.name=null);x.length=0,x.mode=8;case 8:if(4096&x.flags){if(M===0)break e;for(K=0;v=B[H+K++],x.head&&v&&x.length<65536&&(x.head.comment+=String.fromCharCode(v)),v&&K<M;);if(512&x.flags&&(x.check=s(x.check,B,K,H)),M-=K,H+=K,v)break e}else x.head&&(x.head.comment=null);x.mode=9;case 9:if(512&x.flags){for(;N<16;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(P!==(65535&x.check)){C.msg="header crc mismatch",x.mode=30;break}N=P=0}x.head&&(x.head.hcrc=x.flags>>9&1,x.head.done=!0),C.adler=x.check=0,x.mode=12;break;case 10:for(;N<32;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}C.adler=x.check=m(P),N=P=0,x.mode=11;case 11:if(x.havedict===0)return C.next_out=I,C.avail_out=U,C.next_in=H,C.avail_in=M,x.hold=P,x.bits=N,2;C.adler=x.check=1,x.mode=12;case 12:if(L===5||L===6)break e;case 13:if(x.last){P>>>=7&N,N-=7&N,x.mode=27;break}for(;N<3;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}switch(x.last=1&P,N-=1,3&(P>>>=1)){case 0:x.mode=14;break;case 1:if(k(x),x.mode=20,L!==6)break;P>>>=2,N-=2;break e;case 2:x.mode=17;break;case 3:C.msg="invalid block type",x.mode=30}P>>>=2,N-=2;break;case 14:for(P>>>=7&N,N-=7&N;N<32;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if((65535&P)!=(P>>>16^65535)){C.msg="invalid stored block lengths",x.mode=30;break}if(x.length=65535&P,N=P=0,x.mode=15,L===6)break e;case 15:x.mode=16;case 16:if(K=x.length){if(M<K&&(K=M),U<K&&(K=U),K===0)break e;i.arraySet(q,B,H,K,I),M-=K,H+=K,U-=K,I+=K,x.length-=K;break}x.mode=12;break;case 17:for(;N<14;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(x.nlen=257+(31&P),P>>>=5,N-=5,x.ndist=1+(31&P),P>>>=5,N-=5,x.ncode=4+(15&P),P>>>=4,N-=4,286<x.nlen||30<x.ndist){C.msg="too many length or distance symbols",x.mode=30;break}x.have=0,x.mode=18;case 18:for(;x.have<x.ncode;){for(;N<3;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.lens[Q[x.have++]]=7&P,P>>>=3,N-=3}for(;x.have<19;)x.lens[Q[x.have++]]=0;if(x.lencode=x.lendyn,x.lenbits=7,z={bits:x.lenbits},W=o(0,x.lens,0,19,x.lencode,0,x.work,z),x.lenbits=z.bits,W){C.msg="invalid code lengths set",x.mode=30;break}x.have=0,x.mode=19;case 19:for(;x.have<x.nlen+x.ndist;){for(;le=(F=x.lencode[P&(1<<x.lenbits)-1])>>>16&255,De=65535&F,!((ce=F>>>24)<=N);){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(De<16)P>>>=ce,N-=ce,x.lens[x.have++]=De;else{if(De===16){for(R=ce+2;N<R;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(P>>>=ce,N-=ce,x.have===0){C.msg="invalid bit length repeat",x.mode=30;break}v=x.lens[x.have-1],K=3+(3&P),P>>>=2,N-=2}else if(De===17){for(R=ce+3;N<R;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}N-=ce,v=0,K=3+(7&(P>>>=ce)),P>>>=3,N-=3}else{for(R=ce+7;N<R;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}N-=ce,v=0,K=11+(127&(P>>>=ce)),P>>>=7,N-=7}if(x.have+K>x.nlen+x.ndist){C.msg="invalid bit length repeat",x.mode=30;break}for(;K--;)x.lens[x.have++]=v}}if(x.mode===30)break;if(x.lens[256]===0){C.msg="invalid code -- missing end-of-block",x.mode=30;break}if(x.lenbits=9,z={bits:x.lenbits},W=o(c,x.lens,0,x.nlen,x.lencode,0,x.work,z),x.lenbits=z.bits,W){C.msg="invalid literal/lengths set",x.mode=30;break}if(x.distbits=6,x.distcode=x.distdyn,z={bits:x.distbits},W=o(u,x.lens,x.nlen,x.ndist,x.distcode,0,x.work,z),x.distbits=z.bits,W){C.msg="invalid distances set",x.mode=30;break}if(x.mode=20,L===6)break e;case 20:x.mode=21;case 21:if(6<=M&&258<=U){C.next_out=I,C.avail_out=U,C.next_in=H,C.avail_in=M,x.hold=P,x.bits=N,a(C,Y),I=C.next_out,q=C.output,U=C.avail_out,H=C.next_in,B=C.input,M=C.avail_in,P=x.hold,N=x.bits,x.mode===12&&(x.back=-1);break}for(x.back=0;le=(F=x.lencode[P&(1<<x.lenbits)-1])>>>16&255,De=65535&F,!((ce=F>>>24)<=N);){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(le&&(240&le)==0){for(Re=ce,wt=le,Vt=De;le=(F=x.lencode[Vt+((P&(1<<Re+wt)-1)>>Re)])>>>16&255,De=65535&F,!(Re+(ce=F>>>24)<=N);){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}P>>>=Re,N-=Re,x.back+=Re}if(P>>>=ce,N-=ce,x.back+=ce,x.length=De,le===0){x.mode=26;break}if(32&le){x.back=-1,x.mode=12;break}if(64&le){C.msg="invalid literal/length code",x.mode=30;break}x.extra=15&le,x.mode=22;case 22:if(x.extra){for(R=x.extra;N<R;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.length+=P&(1<<x.extra)-1,P>>>=x.extra,N-=x.extra,x.back+=x.extra}x.was=x.length,x.mode=23;case 23:for(;le=(F=x.distcode[P&(1<<x.distbits)-1])>>>16&255,De=65535&F,!((ce=F>>>24)<=N);){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if((240&le)==0){for(Re=ce,wt=le,Vt=De;le=(F=x.distcode[Vt+((P&(1<<Re+wt)-1)>>Re)])>>>16&255,De=65535&F,!(Re+(ce=F>>>24)<=N);){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}P>>>=Re,N-=Re,x.back+=Re}if(P>>>=ce,N-=ce,x.back+=ce,64&le){C.msg="invalid distance code",x.mode=30;break}x.offset=De,x.extra=15&le,x.mode=24;case 24:if(x.extra){for(R=x.extra;N<R;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}x.offset+=P&(1<<x.extra)-1,P>>>=x.extra,N-=x.extra,x.back+=x.extra}if(x.offset>x.dmax){C.msg="invalid distance too far back",x.mode=30;break}x.mode=25;case 25:if(U===0)break e;if(K=Y-U,x.offset>K){if((K=x.offset-K)>x.whave&&x.sane){C.msg="invalid distance too far back",x.mode=30;break}de=K>x.wnext?(K-=x.wnext,x.wsize-K):x.wnext-K,K>x.length&&(K=x.length),ge=x.window}else ge=q,de=I-x.offset,K=x.length;for(U<K&&(K=U),U-=K,x.length-=K;q[I++]=ge[de++],--K;);x.length===0&&(x.mode=21);break;case 26:if(U===0)break e;q[I++]=x.length,U--,x.mode=21;break;case 27:if(x.wrap){for(;N<32;){if(M===0)break e;M--,P|=B[H++]<<N,N+=8}if(Y-=U,C.total_out+=Y,x.total+=Y,Y&&(C.adler=x.check=x.flags?s(x.check,q,Y,I-Y):r(x.check,q,Y,I-Y)),Y=U,(x.flags?P:m(P))!==x.check){C.msg="incorrect data check",x.mode=30;break}N=P=0}x.mode=28;case 28:if(x.wrap&&x.flags){for(;N<32;){if(M===0)break e;M--,P+=B[H++]<<N,N+=8}if(P!==(4294967295&x.total)){C.msg="incorrect length check",x.mode=30;break}N=P=0}x.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return h}return C.next_out=I,C.avail_out=U,C.next_in=H,C.avail_in=M,x.hold=P,x.bits=N,(x.wsize||Y!==C.avail_out&&x.mode<30&&(x.mode<27||L!==4))&&S(C,C.output,C.next_out,Y-C.avail_out)?(x.mode=31,-4):(G-=C.avail_in,Y-=C.avail_out,C.total_in+=G,C.total_out+=Y,x.total+=Y,x.wrap&&Y&&(C.adler=x.check=x.flags?s(x.check,q,Y,C.next_out-Y):r(x.check,q,Y,C.next_out-Y)),C.data_type=x.bits+(x.last?64:0)+(x.mode===12?128:0)+(x.mode===20||x.mode===15?256:0),(G==0&&Y===0||L===4)&&W===d&&(W=-5),W)},t.inflateEnd=function(C){if(!C||!C.state)return h;var L=C.state;return L.window&&(L.window=null),C.state=null,d},t.inflateGetHeader=function(C,L){var x;return C&&C.state?(2&(x=C.state).wrap)==0?h:((x.head=L).done=!1,d):h},t.inflateSetDictionary=function(C,L){var x,B=L.length;return C&&C.state?(x=C.state).wrap!==0&&x.mode!==11?h:x.mode===11&&r(1,L,B,0)!==x.check?-3:S(C,L,B,B)?(x.mode=31,-4):(x.havedict=1,d):h},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,e,t){"use strict";var i=n("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(c,u,d,h,f,p,g,m){var y,b,w,_,D,A,T,E,k,S=m.bits,C=0,L=0,x=0,B=0,q=0,H=0,I=0,M=0,U=0,P=0,N=null,G=0,Y=new i.Buf16(16),K=new i.Buf16(16),de=null,ge=0;for(C=0;C<=15;C++)Y[C]=0;for(L=0;L<h;L++)Y[u[d+L]]++;for(q=S,B=15;1<=B&&Y[B]===0;B--);if(B<q&&(q=B),B===0)return f[p++]=20971520,f[p++]=20971520,m.bits=1,0;for(x=1;x<B&&Y[x]===0;x++);for(q<x&&(q=x),C=M=1;C<=15;C++)if(M<<=1,(M-=Y[C])<0)return-1;if(0<M&&(c===0||B!==1))return-1;for(K[1]=0,C=1;C<15;C++)K[C+1]=K[C]+Y[C];for(L=0;L<h;L++)u[d+L]!==0&&(g[K[u[d+L]]++]=L);if(A=c===0?(N=de=g,19):c===1?(N=r,G-=257,de=s,ge-=257,256):(N=a,de=o,-1),C=x,D=p,I=L=P=0,w=-1,_=(U=1<<(H=q))-1,c===1&&852<U||c===2&&592<U)return 1;for(;;){for(T=C-I,k=g[L]<A?(E=0,g[L]):g[L]>A?(E=de[ge+g[L]],N[G+g[L]]):(E=96,0),y=1<<C-I,x=b=1<<H;f[D+(P>>I)+(b-=y)]=T<<24|E<<16|k|0,b!==0;);for(y=1<<C-1;P&y;)y>>=1;if(y!==0?(P&=y-1,P+=y):P=0,L++,--Y[C]==0){if(C===B)break;C=u[d+g[L]]}if(q<C&&(P&_)!==w){for(I===0&&(I=q),D+=x,M=1<<(H=C-I);H+I<B&&!((M-=Y[H+I])<=0);)H++,M<<=1;if(U+=1<<H,c===1&&852<U||c===2&&592<U)return 1;f[w=P&_]=q<<24|H<<16|D-p|0}}return P!==0&&(f[D+P]=C-I<<24|64<<16|0),m.bits=q,0}},{"../utils/common":41}],51:[function(n,e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,e,t){"use strict";var i=n("../utils/common"),r=0,s=1;function a(F){for(var j=F.length;0<=--j;)F[j]=0}var o=0,c=29,u=256,d=u+1+c,h=30,f=19,p=2*d+1,g=15,m=16,y=7,b=256,w=16,_=17,D=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(d+2));a(S);var C=new Array(2*h);a(C);var L=new Array(512);a(L);var x=new Array(256);a(x);var B=new Array(c);a(B);var q,H,I,M=new Array(h);function U(F,j,Q,ie,$){this.static_tree=F,this.extra_bits=j,this.extra_base=Q,this.elems=ie,this.max_length=$,this.has_stree=F&&F.length}function P(F,j){this.dyn_tree=F,this.max_code=0,this.stat_desc=j}function N(F){return F<256?L[F]:L[256+(F>>>7)]}function G(F,j){F.pending_buf[F.pending++]=255&j,F.pending_buf[F.pending++]=j>>>8&255}function Y(F,j,Q){F.bi_valid>m-Q?(F.bi_buf|=j<<F.bi_valid&65535,G(F,F.bi_buf),F.bi_buf=j>>m-F.bi_valid,F.bi_valid+=Q-m):(F.bi_buf|=j<<F.bi_valid&65535,F.bi_valid+=Q)}function K(F,j,Q){Y(F,Q[2*j],Q[2*j+1])}function de(F,j){for(var Q=0;Q|=1&F,F>>>=1,Q<<=1,0<--j;);return Q>>>1}function ge(F,j,Q){var ie,$,se=new Array(g+1),oe=0;for(ie=1;ie<=g;ie++)se[ie]=oe=oe+Q[ie-1]<<1;for($=0;$<=j;$++){var O=F[2*$+1];O!==0&&(F[2*$]=de(se[O]++,O))}}function ce(F){var j;for(j=0;j<d;j++)F.dyn_ltree[2*j]=0;for(j=0;j<h;j++)F.dyn_dtree[2*j]=0;for(j=0;j<f;j++)F.bl_tree[2*j]=0;F.dyn_ltree[2*b]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function le(F){8<F.bi_valid?G(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function De(F,j,Q,ie){var $=2*j,se=2*Q;return F[$]<F[se]||F[$]===F[se]&&ie[j]<=ie[Q]}function Re(F,j,Q){for(var ie=F.heap[Q],$=Q<<1;$<=F.heap_len&&($<F.heap_len&&De(j,F.heap[$+1],F.heap[$],F.depth)&&$++,!De(j,ie,F.heap[$],F.depth));)F.heap[Q]=F.heap[$],Q=$,$<<=1;F.heap[Q]=ie}function wt(F,j,Q){var ie,$,se,oe,O=0;if(F.last_lit!==0)for(;ie=F.pending_buf[F.d_buf+2*O]<<8|F.pending_buf[F.d_buf+2*O+1],$=F.pending_buf[F.l_buf+O],O++,ie===0?K(F,$,j):(K(F,(se=x[$])+u+1,j),(oe=A[se])!==0&&Y(F,$-=B[se],oe),K(F,se=N(--ie),Q),(oe=T[se])!==0&&Y(F,ie-=M[se],oe)),O<F.last_lit;);K(F,b,j)}function Vt(F,j){var Q,ie,$,se=j.dyn_tree,oe=j.stat_desc.static_tree,O=j.stat_desc.has_stree,V=j.stat_desc.elems,ee=-1;for(F.heap_len=0,F.heap_max=p,Q=0;Q<V;Q++)se[2*Q]!==0?(F.heap[++F.heap_len]=ee=Q,F.depth[Q]=0):se[2*Q+1]=0;for(;F.heap_len<2;)se[2*($=F.heap[++F.heap_len]=ee<2?++ee:0)]=1,F.depth[$]=0,F.opt_len--,O&&(F.static_len-=oe[2*$+1]);for(j.max_code=ee,Q=F.heap_len>>1;1<=Q;Q--)Re(F,se,Q);for($=V;Q=F.heap[1],F.heap[1]=F.heap[F.heap_len--],Re(F,se,1),ie=F.heap[1],F.heap[--F.heap_max]=Q,F.heap[--F.heap_max]=ie,se[2*$]=se[2*Q]+se[2*ie],F.depth[$]=(F.depth[Q]>=F.depth[ie]?F.depth[Q]:F.depth[ie])+1,se[2*Q+1]=se[2*ie+1]=$,F.heap[1]=$++,Re(F,se,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],(function(te,ue){var $e,Te,pe,me,et,En,Dt=ue.dyn_tree,nu=ue.max_code,Gp=ue.stat_desc.static_tree,qI=ue.stat_desc.has_stree,GI=ue.stat_desc.extra_bits,k1=ue.stat_desc.extra_base,Eo=ue.stat_desc.max_length,iu=0;for(me=0;me<=g;me++)te.bl_count[me]=0;for(Dt[2*te.heap[te.heap_max]+1]=0,$e=te.heap_max+1;$e<p;$e++)Eo<(me=Dt[2*Dt[2*(Te=te.heap[$e])+1]+1]+1)&&(me=Eo,iu++),Dt[2*Te+1]=me,nu<Te||(te.bl_count[me]++,et=0,k1<=Te&&(et=GI[Te-k1]),En=Dt[2*Te],te.opt_len+=En*(me+et),qI&&(te.static_len+=En*(Gp[2*Te+1]+et)));if(iu!==0){do{for(me=Eo-1;te.bl_count[me]===0;)me--;te.bl_count[me]--,te.bl_count[me+1]+=2,te.bl_count[Eo]--,iu-=2}while(0<iu);for(me=Eo;me!==0;me--)for(Te=te.bl_count[me];Te!==0;)nu<(pe=te.heap[--$e])||(Dt[2*pe+1]!==me&&(te.opt_len+=(me-Dt[2*pe+1])*Dt[2*pe],Dt[2*pe+1]=me),Te--)}})(F,j),ge(se,ee,F.bl_count)}function v(F,j,Q){var ie,$,se=-1,oe=j[1],O=0,V=7,ee=4;for(oe===0&&(V=138,ee=3),j[2*(Q+1)+1]=65535,ie=0;ie<=Q;ie++)$=oe,oe=j[2*(ie+1)+1],++O<V&&$===oe||(O<ee?F.bl_tree[2*$]+=O:$!==0?($!==se&&F.bl_tree[2*$]++,F.bl_tree[2*w]++):O<=10?F.bl_tree[2*_]++:F.bl_tree[2*D]++,se=$,ee=(O=0)===oe?(V=138,3):$===oe?(V=6,3):(V=7,4))}function W(F,j,Q){var ie,$,se=-1,oe=j[1],O=0,V=7,ee=4;for(oe===0&&(V=138,ee=3),ie=0;ie<=Q;ie++)if($=oe,oe=j[2*(ie+1)+1],!(++O<V&&$===oe)){if(O<ee)for(;K(F,$,F.bl_tree),--O!=0;);else $!==0?($!==se&&(K(F,$,F.bl_tree),O--),K(F,w,F.bl_tree),Y(F,O-3,2)):O<=10?(K(F,_,F.bl_tree),Y(F,O-3,3)):(K(F,D,F.bl_tree),Y(F,O-11,7));se=$,ee=(O=0)===oe?(V=138,3):$===oe?(V=6,3):(V=7,4)}}a(M);var z=!1;function R(F,j,Q,ie){Y(F,(o<<1)+(ie?1:0),3),(function($,se,oe,O){le($),O&&(G($,oe),G($,~oe)),i.arraySet($.pending_buf,$.window,se,oe,$.pending),$.pending+=oe})(F,j,Q,!0)}t._tr_init=function(F){z||((function(){var j,Q,ie,$,se,oe=new Array(g+1);for($=ie=0;$<c-1;$++)for(B[$]=ie,j=0;j<1<<A[$];j++)x[ie++]=$;for(x[ie-1]=$,$=se=0;$<16;$++)for(M[$]=se,j=0;j<1<<T[$];j++)L[se++]=$;for(se>>=7;$<h;$++)for(M[$]=se<<7,j=0;j<1<<T[$]-7;j++)L[256+se++]=$;for(Q=0;Q<=g;Q++)oe[Q]=0;for(j=0;j<=143;)S[2*j+1]=8,j++,oe[8]++;for(;j<=255;)S[2*j+1]=9,j++,oe[9]++;for(;j<=279;)S[2*j+1]=7,j++,oe[7]++;for(;j<=287;)S[2*j+1]=8,j++,oe[8]++;for(ge(S,d+1,oe),j=0;j<h;j++)C[2*j+1]=5,C[2*j]=de(j,5);q=new U(S,A,u+1,d,g),H=new U(C,T,0,h,g),I=new U(new Array(0),E,0,f,y)})(),z=!0),F.l_desc=new P(F.dyn_ltree,q),F.d_desc=new P(F.dyn_dtree,H),F.bl_desc=new P(F.bl_tree,I),F.bi_buf=0,F.bi_valid=0,ce(F)},t._tr_stored_block=R,t._tr_flush_block=function(F,j,Q,ie){var $,se,oe=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=(function(O){var V,ee=4093624447;for(V=0;V<=31;V++,ee>>>=1)if(1&ee&&O.dyn_ltree[2*V]!==0)return r;if(O.dyn_ltree[18]!==0||O.dyn_ltree[20]!==0||O.dyn_ltree[26]!==0)return s;for(V=32;V<u;V++)if(O.dyn_ltree[2*V]!==0)return s;return r})(F)),Vt(F,F.l_desc),Vt(F,F.d_desc),oe=(function(O){var V;for(v(O,O.dyn_ltree,O.l_desc.max_code),v(O,O.dyn_dtree,O.d_desc.max_code),Vt(O,O.bl_desc),V=f-1;3<=V&&O.bl_tree[2*k[V]+1]===0;V--);return O.opt_len+=3*(V+1)+5+5+4,V})(F),$=F.opt_len+3+7>>>3,(se=F.static_len+3+7>>>3)<=$&&($=se)):$=se=Q+5,Q+4<=$&&j!==-1?R(F,j,Q,ie):F.strategy===4||se===$?(Y(F,2+(ie?1:0),3),wt(F,S,C)):(Y(F,4+(ie?1:0),3),(function(O,V,ee,te){var ue;for(Y(O,V-257,5),Y(O,ee-1,5),Y(O,te-4,4),ue=0;ue<te;ue++)Y(O,O.bl_tree[2*k[ue]+1],3);W(O,O.dyn_ltree,V-1),W(O,O.dyn_dtree,ee-1)})(F,F.l_desc.max_code+1,F.d_desc.max_code+1,oe+1),wt(F,F.dyn_ltree,F.dyn_dtree)),ce(F),ie&&le(F)},t._tr_tally=function(F,j,Q){return F.pending_buf[F.d_buf+2*F.last_lit]=j>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&j,F.pending_buf[F.l_buf+F.last_lit]=255&Q,F.last_lit++,j===0?F.dyn_ltree[2*Q]++:(F.matches++,j--,F.dyn_ltree[2*(x[Q]+u+1)]++,F.dyn_dtree[2*N(j)]++),F.last_lit===F.lit_bufsize-1},t._tr_align=function(F){Y(F,2,3),K(F,b,S),(function(j){j.bi_valid===16?(G(j,j.bi_buf),j.bi_buf=0,j.bi_valid=0):8<=j.bi_valid&&(j.pending_buf[j.pending++]=255&j.bi_buf,j.bi_buf>>=8,j.bi_valid-=8)})(F)}},{"../utils/common":41}],53:[function(n,e,t){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,e,t){(function(i){(function(r,s){"use strict";if(!r.setImmediate){var a,o,c,u,d=1,h={},f=!1,p=r.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(r);g=g&&g.setTimeout?g:r,a={}.toString.call(r.process)==="[object process]"?function(w){process.nextTick(function(){y(w)})}:(function(){if(r.postMessage&&!r.importScripts){var w=!0,_=r.onmessage;return r.onmessage=function(){w=!1},r.postMessage("","*"),r.onmessage=_,w}})()?(u="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",b,!1):r.attachEvent("onmessage",b),function(w){r.postMessage(u+w,"*")}):r.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){y(w.data)},function(w){c.port2.postMessage(w)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,function(w){var _=p.createElement("script");_.onreadystatechange=function(){y(w),_.onreadystatechange=null,o.removeChild(_),_=null},o.appendChild(_)}):function(w){setTimeout(y,0,w)},g.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var _=new Array(arguments.length-1),D=0;D<_.length;D++)_[D]=arguments[D+1];var A={callback:w,args:_};return h[d]=A,a(d),d++},g.clearImmediate=m}function m(w){delete h[w]}function y(w){if(f)setTimeout(y,0,w);else{var _=h[w];if(_){f=!0;try{(function(D){var A=D.callback,T=D.args;switch(T.length){case 0:A();break;case 1:A(T[0]);break;case 2:A(T[0],T[1]);break;case 3:A(T[0],T[1],T[2]);break;default:A.apply(s,T)}})(_)}finally{m(w),f=!1}}}}function b(w){w.source===r&&typeof w.data=="string"&&w.data.indexOf(u)===0&&y(+w.data.slice(u.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var ty=J(Nh=>{"use strict";var f3=wC(),p3=EC();Nh.openArrayBuffer=g3;Nh.splitPath=m3;Nh.joinPath=b3;function g3(n){return p3.loadAsync(n).then(function(e){function t(a){return e.file(a)!==null}function i(a,o){return e.file(a).async("uint8array").then(function(c){if(o==="base64")return f3.fromByteArray(c);if(o){var u=new TextDecoder(o);return u.decode(c)}else return c})}function r(a,o){e.file(a,o)}function s(){return e.generateAsync({type:"arraybuffer"})}return{exists:t,read:i,write:r,toArrayBuffer:s}})}function m3(n){var e=n.lastIndexOf("/");return e===-1?{dirname:"",basename:n}:{dirname:n.substring(0,e),basename:n.substring(e+1)}}function b3(){var n=Array.prototype.filter.call(arguments,function(t){return t}),e=[];return n.forEach(function(t){/^\//.test(t)?e=[t]:e.push(t)}),e.join("/")}});var ny=J(Gc=>{"use strict";var Lh=(dt(),pt(ut));Gc.Element=Ka;Gc.element=function(n,e,t){return new Ka(n,e,t)};Gc.text=function(n){return{type:"text",value:n}};var AC=Gc.emptyElement={first:function(){return null},firstOrEmpty:function(){return AC},attributes:{},children:[]};function Ka(n,e,t){this.type="element",this.name=n,this.attributes=e||{},this.children=t||[]}Ka.prototype.first=function(n){return Lh.find(this.children,function(e){return e.name===n})};Ka.prototype.firstOrEmpty=function(n){return this.first(n)||AC};Ka.prototype.getElementsByTagName=function(n){var e=Lh.filter(this.children,function(t){return t.name===n});return CC(e)};Ka.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var _3={getElementsByTagName:function(n){return CC(Lh.flatten(this.map(function(e){return e.getElementsByTagName(n)},!0)))}};function CC(n){return Lh.extend(n,_3)}});var $c=J(Ya=>{"use strict";function y3(n,e,t){if(t===void 0&&(t=Array.prototype),n&&typeof t.find=="function")return t.find.call(n,e);for(var i=0;i<n.length;i++)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];if(e.call(void 0,r,i,n))return r}}function iy(n,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(n):n}function v3(n,e){if(n===null||typeof n!="object")throw new TypeError("target is not an object");for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}var TC=iy({HTML:"text/html",isHTML:function(n){return n===TC.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),SC=iy({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===SC.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ya.assign=v3;Ya.find=y3;Ya.freeze=iy;Ya.MIME_TYPE=TC;Ya.NAMESPACE=SC});var Hh=J(Br=>{"use strict";var NC=$c(),Ci=NC.find,Xc=NC.NAMESPACE;function x3(n){return n!==""}function w3(n){return n?n.split(/[\t\n\f\r ]+/).filter(x3):[]}function D3(n,e){return n.hasOwnProperty(e)||(n[e]=!0),n}function kC(n){if(!n)return[];var e=w3(n);return Object.keys(e.reduce(D3,{}))}function E3(n){return function(e){return n&&n.indexOf(e)!==-1}}function Qc(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function vn(n,e){var t=n.prototype;if(!(t instanceof e)){let r=function(){};var i=r;r.prototype=e.prototype,r=new r,Qc(t,r),n.prototype=t=r}t.constructor!=n&&(typeof n!="function"&&console.error("unknown Class:"+n),t.constructor=n)}var xn={},Gn=xn.ELEMENT_NODE=1,Za=xn.ATTRIBUTE_NODE=2,Oh=xn.TEXT_NODE=3,LC=xn.CDATA_SECTION_NODE=4,OC=xn.ENTITY_REFERENCE_NODE=5,A3=xn.ENTITY_NODE=6,BC=xn.PROCESSING_INSTRUCTION_NODE=7,WC=xn.COMMENT_NODE=8,jC=xn.DOCUMENT_NODE=9,VC=xn.DOCUMENT_TYPE_NODE=10,Zi=xn.DOCUMENT_FRAGMENT_NODE=11,C3=xn.NOTATION_NODE=12,Gt={},Ft={},uQ=Gt.INDEX_SIZE_ERR=(Ft[1]="Index size error",1),dQ=Gt.DOMSTRING_SIZE_ERR=(Ft[2]="DOMString size error",2),yn=Gt.HIERARCHY_REQUEST_ERR=(Ft[3]="Hierarchy request error",3),hQ=Gt.WRONG_DOCUMENT_ERR=(Ft[4]="Wrong document",4),fQ=Gt.INVALID_CHARACTER_ERR=(Ft[5]="Invalid character",5),pQ=Gt.NO_DATA_ALLOWED_ERR=(Ft[6]="No data allowed",6),gQ=Gt.NO_MODIFICATION_ALLOWED_ERR=(Ft[7]="No modification allowed",7),zC=Gt.NOT_FOUND_ERR=(Ft[8]="Not found",8),mQ=Gt.NOT_SUPPORTED_ERR=(Ft[9]="Not supported",9),FC=Gt.INUSE_ATTRIBUTE_ERR=(Ft[10]="Attribute in use",10),bQ=Gt.INVALID_STATE_ERR=(Ft[11]="Invalid state",11),_Q=Gt.SYNTAX_ERR=(Ft[12]="Syntax error",12),yQ=Gt.INVALID_MODIFICATION_ERR=(Ft[13]="Invalid modification",13),vQ=Gt.NAMESPACE_ERR=(Ft[14]="Invalid namespace",14),xQ=Gt.INVALID_ACCESS_ERR=(Ft[15]="Invalid access",15);function bt(n,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,Ft[n]),this.message=Ft[n],Error.captureStackTrace&&Error.captureStackTrace(this,bt);return t.code=n,e&&(this.message=this.message+": "+e),t}bt.prototype=Error.prototype;Qc(Gt,bt);function Qi(){}Qi.prototype={length:0,item:function(n){return n>=0&&n<this.length?this[n]:null},toString:function(n,e){for(var t=[],i=0;i<this.length;i++)Qa(this[i],t,n,e);return t.join("")},filter:function(n){return Array.prototype.filter.call(this,n)},indexOf:function(n){return Array.prototype.indexOf.call(this,n)}};function Ja(n,e){this._node=n,this._refresh=e,ay(this)}function ay(n){var e=n._node._inc||n._node.ownerDocument._inc;if(n._inc!==e){var t=n._refresh(n._node);if(tT(n,"length",t.length),!n.$$length||t.length<n.$$length)for(var i=t.length;i in n;i++)Object.prototype.hasOwnProperty.call(n,i)&&delete n[i];Qc(t,n),n._inc=e}}Ja.prototype.item=function(n){return ay(this),this[n]||null};vn(Ja,Qi);function Bh(){}function HC(n,e){for(var t=n.length;t--;)if(n[t]===e)return t}function IC(n,e,t,i){if(i?e[HC(e,i)]=t:e[e.length++]=t,n){t.ownerElement=n;var r=n.ownerDocument;r&&(i&&$C(r,n,i),T3(r,n,t))}}function UC(n,e,t){var i=HC(e,t);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,n){var s=n.ownerDocument;s&&($C(s,n,t),t.ownerElement=null)}}else throw new bt(zC,new Error(n.tagName+"@"+t))}Bh.prototype={length:0,item:Qi.prototype.item,getNamedItem:function(n){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==n)return t}},setNamedItem:function(n){var e=n.ownerElement;if(e&&e!=this._ownerElement)throw new bt(FC);var t=this.getNamedItem(n.nodeName);return IC(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var e=n.ownerElement,t;if(e&&e!=this._ownerElement)throw new bt(FC);return t=this.getNamedItemNS(n.namespaceURI,n.localName),IC(this._ownerElement,this,n,t),t},removeNamedItem:function(n){var e=this.getNamedItem(n);return UC(this._ownerElement,this,e),e},removeNamedItemNS:function(n,e){var t=this.getNamedItemNS(n,e);return UC(this._ownerElement,this,t),t},getNamedItemNS:function(n,e){for(var t=this.length;t--;){var i=this[t];if(i.localName==e&&i.namespaceURI==n)return i}return null}};function qC(){}qC.prototype={hasFeature:function(n,e){return!0},createDocument:function(n,e,t){var i=new Zc;if(i.implementation=this,i.childNodes=new Qi,i.doctype=t||null,t&&i.appendChild(t),e){var r=i.createElementNS(n,e);i.appendChild(r)}return i},createDocumentType:function(n,e,t){var i=new Vh;return i.name=n,i.nodeName=n,i.publicId=e||"",i.systemId=t||"",i}};function qe(){}qe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,e){return Wh(this,n,e)},replaceChild:function(n,e){Wh(this,n,e,KC),e&&this.removeChild(e)},removeChild:function(n){return XC(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(n){return sy(this.ownerDocument||this,this,n)},normalize:function(){for(var n=this.firstChild;n;){var e=n.nextSibling;e&&e.nodeType==Oh&&n.nodeType==Oh?(this.removeChild(e),n.appendData(e.data)):(n.normalize(),n=e)}},isSupported:function(n,e){return this.ownerDocument.implementation.hasFeature(n,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(n){for(var e=this;e;){var t=e._nsMap;if(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&t[i]===n)return i}e=e.nodeType==Za?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(n){for(var e=this;e;){var t=e._nsMap;if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n];e=e.nodeType==Za?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(n){var e=this.lookupPrefix(n);return e==null}};function GC(n){return n=="<"&&"&lt;"||n==">"&&"&gt;"||n=="&"&&"&amp;"||n=='"'&&"&quot;"||"&#"+n.charCodeAt()+";"}Qc(xn,qe);Qc(xn,qe.prototype);function Kc(n,e){if(e(n))return!0;if(n=n.firstChild)do if(Kc(n,e))return!0;while(n=n.nextSibling)}function Zc(){this.ownerDocument=this}function T3(n,e,t){n&&n._inc++;var i=t.namespaceURI;i===Xc.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function $C(n,e,t,i){n&&n._inc++;var r=t.namespaceURI;r===Xc.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function oy(n,e,t){if(n&&n._inc){n._inc++;var i=e.childNodes;if(t)i[i.length++]=t;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function XC(n,e){var t=e.previousSibling,i=e.nextSibling;return t?t.nextSibling=i:n.firstChild=i,i?i.previousSibling=t:n.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,oy(n.ownerDocument,n),e}function S3(n){return n&&(n.nodeType===qe.DOCUMENT_NODE||n.nodeType===qe.DOCUMENT_FRAGMENT_NODE||n.nodeType===qe.ELEMENT_NODE)}function k3(n){return n&&(Ti(n)||cy(n)||Ji(n)||n.nodeType===qe.DOCUMENT_FRAGMENT_NODE||n.nodeType===qe.COMMENT_NODE||n.nodeType===qe.PROCESSING_INSTRUCTION_NODE)}function Ji(n){return n&&n.nodeType===qe.DOCUMENT_TYPE_NODE}function Ti(n){return n&&n.nodeType===qe.ELEMENT_NODE}function cy(n){return n&&n.nodeType===qe.TEXT_NODE}function PC(n,e){var t=n.childNodes||[];if(Ci(t,Ti)||Ji(e))return!1;var i=Ci(t,Ji);return!(e&&i&&t.indexOf(i)>t.indexOf(e))}function RC(n,e){var t=n.childNodes||[];function i(s){return Ti(s)&&s!==e}if(Ci(t,i))return!1;var r=Ci(t,Ji);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function F3(n,e,t){if(!S3(n))throw new bt(yn,"Unexpected parent node type "+n.nodeType);if(t&&t.parentNode!==n)throw new bt(zC,"child not in parent");if(!k3(e)||Ji(e)&&n.nodeType!==qe.DOCUMENT_NODE)throw new bt(yn,"Unexpected node type "+e.nodeType+" for parent node type "+n.nodeType)}function I3(n,e,t){var i=n.childNodes||[],r=e.childNodes||[];if(e.nodeType===qe.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Ti);if(s.length>1||Ci(r,cy))throw new bt(yn,"More than one element or text in fragment");if(s.length===1&&!PC(n,t))throw new bt(yn,"Element in fragment can not be inserted before doctype")}if(Ti(e)&&!PC(n,t))throw new bt(yn,"Only one element can be added and only after doctype");if(Ji(e)){if(Ci(i,Ji))throw new bt(yn,"Only one doctype is allowed");var a=Ci(i,Ti);if(t&&i.indexOf(a)<i.indexOf(t))throw new bt(yn,"Doctype can only be inserted before an element");if(!t&&a)throw new bt(yn,"Doctype can not be appended since element is present")}}function KC(n,e,t){var i=n.childNodes||[],r=e.childNodes||[];if(e.nodeType===qe.DOCUMENT_FRAGMENT_NODE){var s=r.filter(Ti);if(s.length>1||Ci(r,cy))throw new bt(yn,"More than one element or text in fragment");if(s.length===1&&!RC(n,t))throw new bt(yn,"Element in fragment can not be inserted before doctype")}if(Ti(e)&&!RC(n,t))throw new bt(yn,"Only one element can be added and only after doctype");if(Ji(e)){let c=function(u){return Ji(u)&&u!==t};var o=c;if(Ci(i,c))throw new bt(yn,"Only one doctype is allowed");var a=Ci(i,Ti);if(t&&i.indexOf(a)<i.indexOf(t))throw new bt(yn,"Doctype can only be inserted before an element")}}function Wh(n,e,t,i){F3(n,e,t),n.nodeType===qe.DOCUMENT_NODE&&(i||I3)(n,e,t);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Zi){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=t?t.previousSibling:n.lastChild;s.previousSibling=o,a.nextSibling=t,o?o.nextSibling=s:n.firstChild=s,t==null?n.lastChild=a:t.previousSibling=a;do{s.parentNode=n;var c=n.ownerDocument||n;Yc(s,c)}while(s!==a&&(s=s.nextSibling));return oy(n.ownerDocument||n,n),e.nodeType==Zi&&(e.firstChild=e.lastChild=null),e}function Yc(n,e){if(n.ownerDocument!==e){if(n.ownerDocument=e,n.nodeType===Gn&&n.attributes)for(var t=0;t<n.attributes.length;t++){var i=n.attributes.item(t);i&&(i.ownerDocument=e)}for(var r=n.firstChild;r;)Yc(r,e),r=r.nextSibling}}function U3(n,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=n,e.previousSibling=n.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:n.firstChild=e,n.lastChild=e,oy(n.ownerDocument,n,e);var t=n.ownerDocument||n;return Yc(e,t),e}Zc.prototype={nodeName:"#document",nodeType:jC,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,e){if(n.nodeType==Zi){for(var t=n.firstChild;t;){var i=t.nextSibling;this.insertBefore(t,e),t=i}return n}return Wh(this,n,e),Yc(n,this),this.documentElement===null&&n.nodeType===Gn&&(this.documentElement=n),n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),XC(this,n)},replaceChild:function(n,e){Wh(this,n,e,KC),Yc(n,this),e&&this.removeChild(e),Ti(n)&&(this.documentElement=n)},importNode:function(n,e){return eT(this,n,e)},getElementById:function(n){var e=null;return Kc(this.documentElement,function(t){if(t.nodeType==Gn&&t.getAttribute("id")==n)return e=t,!0}),e},getElementsByClassName:function(n){var e=kC(n);return new Ja(this,function(t){var i=[];return e.length>0&&Kc(t.documentElement,function(r){if(r!==t&&r.nodeType===Gn){var s=r.getAttribute("class");if(s){var a=n===s;if(!a){var o=kC(s);a=e.every(E3(o))}a&&i.push(r)}}}),i})},createElement:function(n){var e=new Ps;e.ownerDocument=this,e.nodeName=n,e.tagName=n,e.localName=n,e.childNodes=new Qi;var t=e.attributes=new Bh;return t._ownerElement=e,e},createDocumentFragment:function(){var n=new zh;return n.ownerDocument=this,n.childNodes=new Qi,n},createTextNode:function(n){var e=new ly;return e.ownerDocument=this,e.appendData(n),e},createComment:function(n){var e=new uy;return e.ownerDocument=this,e.appendData(n),e},createCDATASection:function(n){var e=new dy;return e.ownerDocument=this,e.appendData(n),e},createProcessingInstruction:function(n,e){var t=new fy;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=n,t.nodeValue=t.data=e,t},createAttribute:function(n){var e=new jh;return e.ownerDocument=this,e.name=n,e.nodeName=n,e.localName=n,e.specified=!0,e},createEntityReference:function(n){var e=new hy;return e.ownerDocument=this,e.nodeName=n,e},createElementNS:function(n,e){var t=new Ps,i=e.split(":"),r=t.attributes=new Bh;return t.childNodes=new Qi,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=n,i.length==2?(t.prefix=i[0],t.localName=i[1]):t.localName=e,r._ownerElement=t,t},createAttributeNS:function(n,e){var t=new jh,i=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=n,t.specified=!0,i.length==2?(t.prefix=i[0],t.localName=i[1]):t.localName=e,t}};vn(Zc,qe);function Ps(){this._nsMap={}}Ps.prototype={nodeType:Gn,hasAttribute:function(n){return this.getAttributeNode(n)!=null},getAttribute:function(n){var e=this.getAttributeNode(n);return e&&e.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,e){var t=this.ownerDocument.createAttribute(n);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(n){var e=this.getAttributeNode(n);e&&this.removeAttributeNode(e)},appendChild:function(n){return n.nodeType===Zi?this.insertBefore(n,null):U3(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,e){return this.getAttributeNodeNS(n,e)!=null},getAttributeNS:function(n,e){var t=this.getAttributeNodeNS(n,e);return t&&t.value||""},setAttributeNS:function(n,e,t){var i=this.ownerDocument.createAttributeNS(n,e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},getAttributeNodeNS:function(n,e){return this.attributes.getNamedItemNS(n,e)},getElementsByTagName:function(n){return new Ja(this,function(e){var t=[];return Kc(e,function(i){i!==e&&i.nodeType==Gn&&(n==="*"||i.tagName==n)&&t.push(i)}),t})},getElementsByTagNameNS:function(n,e){return new Ja(this,function(t){var i=[];return Kc(t,function(r){r!==t&&r.nodeType===Gn&&(n==="*"||r.namespaceURI===n)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Zc.prototype.getElementsByTagName=Ps.prototype.getElementsByTagName;Zc.prototype.getElementsByTagNameNS=Ps.prototype.getElementsByTagNameNS;vn(Ps,qe);function jh(){}jh.prototype.nodeType=Za;vn(jh,qe);function Jc(){}Jc.prototype={data:"",substringData:function(n,e){return this.data.substring(n,n+e)},appendData:function(n){n=this.data+n,this.nodeValue=this.data=n,this.length=n.length},insertData:function(n,e){this.replaceData(n,0,e)},appendChild:function(n){throw new Error(Ft[yn])},deleteData:function(n,e){this.replaceData(n,e,"")},replaceData:function(n,e,t){var i=this.data.substring(0,n),r=this.data.substring(n+e);t=i+t+r,this.nodeValue=this.data=t,this.length=t.length}};vn(Jc,qe);function ly(){}ly.prototype={nodeName:"#text",nodeType:Oh,splitText:function(n){var e=this.data,t=e.substring(n);e=e.substring(0,n),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};vn(ly,Jc);function uy(){}uy.prototype={nodeName:"#comment",nodeType:WC};vn(uy,Jc);function dy(){}dy.prototype={nodeName:"#cdata-section",nodeType:LC};vn(dy,Jc);function Vh(){}Vh.prototype.nodeType=VC;vn(Vh,qe);function YC(){}YC.prototype.nodeType=C3;vn(YC,qe);function QC(){}QC.prototype.nodeType=A3;vn(QC,qe);function hy(){}hy.prototype.nodeType=OC;vn(hy,qe);function zh(){}zh.prototype.nodeName="#document-fragment";zh.prototype.nodeType=Zi;vn(zh,qe);function fy(){}fy.prototype.nodeType=BC;vn(fy,qe);function ZC(){}ZC.prototype.serializeToString=function(n,e,t){return JC.call(n,e,t)};qe.prototype.toString=JC;function JC(n,e){var t=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return Qa(this,t,n,e,a),t.join("")}function MC(n,e,t){var i=n.prefix||"",r=n.namespaceURI;if(!r||i==="xml"&&r===Xc.XML||r===Xc.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===i)return a.namespace!==r}return!0}function ry(n,e,t){n.push(" ",e,'="',t.replace(/[<>&"\t\n\r]/g,GC),'"')}function Qa(n,e,t,i,r){if(r||(r=[]),i)if(n=i(n),n){if(typeof n=="string"){e.push(n);return}}else return;switch(n.nodeType){case Gn:var s=n.attributes,a=s.length,b=n.firstChild,o=n.tagName;t=Xc.isHTML(n.namespaceURI)||t;var c=o;if(!t&&!n.prefix&&n.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.prefix===""&&f.namespace===n.namespaceURI){u=f.namespace;break}}if(u!==n.namespaceURI)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.namespace===n.namespaceURI){f.prefix&&(c=f.prefix+":"+o);break}}}e.push("<",c);for(var p=0;p<a;p++){var g=s.item(p);g.prefix=="xmlns"?r.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&r.push({prefix:"",namespace:g.value})}for(var p=0;p<a;p++){var g=s.item(p);if(MC(g,t,r)){var m=g.prefix||"",y=g.namespaceURI;ry(e,m?"xmlns:"+m:"xmlns",y),r.push({prefix:m,namespace:y})}Qa(g,e,t,i,r)}if(o===c&&MC(n,t,r)){var m=n.prefix||"",y=n.namespaceURI;ry(e,m?"xmlns:"+m:"xmlns",y),r.push({prefix:m,namespace:y})}if(b||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),t&&/^script$/i.test(o))for(;b;)b.data?e.push(b.data):Qa(b,e,t,i,r.slice()),b=b.nextSibling;else for(;b;)Qa(b,e,t,i,r.slice()),b=b.nextSibling;e.push("</",c,">")}else e.push("/>");return;case jC:case Zi:for(var b=n.firstChild;b;)Qa(b,e,t,i,r.slice()),b=b.nextSibling;return;case Za:return ry(e,n.name,n.value);case Oh:return e.push(n.data.replace(/[<&>]/g,GC));case LC:return e.push("<![CDATA[",n.data,"]]>");case WC:return e.push("<!--",n.data,"-->");case VC:var w=n.publicId,_=n.systemId;if(e.push("<!DOCTYPE ",n.name),w)e.push(" PUBLIC ",w),_&&_!="."&&e.push(" ",_),e.push(">");else if(_&&_!=".")e.push(" SYSTEM ",_,">");else{var D=n.internalSubset;D&&e.push(" [",D,"]"),e.push(">")}return;case BC:return e.push("<?",n.target," ",n.data,"?>");case OC:return e.push("&",n.nodeName,";");default:e.push("??",n.nodeName)}}function eT(n,e,t){var i;switch(e.nodeType){case Gn:i=e.cloneNode(!1),i.ownerDocument=n;case Zi:break;case Za:t=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=n,i.parentNode=null,t)for(var r=e.firstChild;r;)i.appendChild(eT(n,r,t)),r=r.nextSibling;return i}function sy(n,e,t){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new Qi),i.ownerDocument=n,i.nodeType){case Gn:var a=e.attributes,o=i.attributes=new Bh,c=a.length;o._ownerElement=i;for(var u=0;u<c;u++)i.setAttributeNode(sy(n,a.item(u),!0));break;case Za:t=!0}if(t)for(var d=e.firstChild;d;)i.appendChild(sy(n,d,t)),d=d.nextSibling;return i}function tT(n,e,t){n[e]=t}try{if(Object.defineProperty){let n=function(e){switch(e.nodeType){case Gn:case Zi:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(n(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};P3=n,Object.defineProperty(Ja.prototype,"length",{get:function(){return ay(this),this.$$length}}),Object.defineProperty(qe.prototype,"textContent",{get:function(){return n(this)},set:function(e){switch(this.nodeType){case Gn:case Zi:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),tT=function(e,t,i){e["$$"+t]=i}}}catch{}var P3;Br.DocumentType=Vh;Br.DOMException=bt;Br.DOMImplementation=qC;Br.Element=Ps;Br.Node=qe;Br.NodeList=Qi;Br.XMLSerializer=ZC});var iT=J(el=>{"use strict";var nT=$c().freeze;el.XML_ENTITIES=nT({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});el.HTML_ENTITIES=nT({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});el.entityMap=el.HTML_ENTITIES});var dT=J(gy=>{"use strict";var rl=$c().NAMESPACE,py=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,rT=new RegExp("[\\-\\.0-9"+py.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),sT=new RegExp("^"+py.source+rT.source+"*(?::"+py.source+rT.source+"*)?$"),tl=0,Wr=1,eo=2,nl=3,to=4,no=5,il=6,qh=7;function io(n,e){this.message=n,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,io)}io.prototype=new Error;io.prototype.name=io.name;function cT(){}cT.prototype={parse:function(n,e,t){var i=this.domBuilder;i.startDocument(),lT(e,e={}),R3(n,e,t,i,this.errorHandler),i.endDocument()}};function R3(n,e,t,i,r){function s(I){if(I>65535){I-=65536;var M=55296+(I>>10),U=56320+(I&1023);return String.fromCharCode(M,U)}else return String.fromCharCode(I)}function a(I){var M=I.slice(1,-1);return Object.hasOwnProperty.call(t,M)?t[M]:M.charAt(0)==="#"?s(parseInt(M.substr(1).replace("x","0x"))):(r.error("entity not found:"+I),I)}function o(I){if(I>m){var M=n.substring(m,I).replace(/&#?\w+;/g,a);f&&c(m),i.characters(M,0,I-m),m=I}}function c(I,M){for(;I>=d&&(M=h.exec(n));)u=M.index,d=u+M[0].length,f.lineNumber++;f.columnNumber=I-u+1}for(var u=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,p=[{currentNSMap:e}],g={},m=0;;){try{var y=n.indexOf("<",m);if(y<0){if(!n.substr(m).match(/^\s*$/)){var b=i.doc,w=b.createTextNode(n.substr(m));b.appendChild(w),i.currentElement=w}return}switch(y>m&&o(y),n.charAt(y+1)){case"/":var L=n.indexOf(">",y+3),_=n.substring(y+2,L).replace(/[ \t\n\r]+$/g,""),D=p.pop();L<0?(_=n.substring(y+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+D.tagName),L=y+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),L=y+1+_.length);var A=D.localNSMap,T=D.tagName==_,E=T||D.tagName&&D.tagName.toLowerCase()==_.toLowerCase();if(E){if(i.endElement(D.uri,D.localName,_),A)for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&i.endPrefixMapping(k);T||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+D.tagName)}else p.push(D);L++;break;case"?":f&&c(y),L=B3(n,y,i);break;case"!":f&&c(y),L=O3(n,y,i,r);break;default:f&&c(y);var S=new uT,C=p[p.length-1].currentNSMap,L=M3(n,y,S,C,a,r),x=S.length;if(!S.closed&&L3(n,L,S.tagName,g)&&(S.closed=!0,t.nbsp||r.warning("unclosed xml attribute")),f&&x){for(var B=aT(f,{}),q=0;q<x;q++){var H=S[q];c(H.offset),H.locator=aT(f,{})}i.locator=B,oT(S,i,C)&&p.push(S),i.locator=f}else oT(S,i,C)&&p.push(S);rl.isHTML(S.uri)&&!S.closed?L=N3(n,L,S.tagName,a,i):L++}}catch(I){if(I instanceof io)throw I;r.error("element parse error: "+I),L=-1}L>m?m=L:o(Math.max(y,m)+1)}}function aT(n,e){return e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber,e}function M3(n,e,t,i,r,s){function a(p,g,m){t.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),t.addValue(p,g.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),m)}for(var o,c,u=++e,d=tl;;){var h=n.charAt(u);switch(h){case"=":if(d===Wr)o=n.slice(e,u),d=nl;else if(d===eo)d=nl;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===nl||d===Wr)if(d===Wr&&(s.warning('attribute value must after "="'),o=n.slice(e,u)),e=u+1,u=n.indexOf(h,e),u>0)c=n.slice(e,u),a(o,c,e-1),d=no;else throw new Error("attribute value no end '"+h+"' match");else if(d==to)c=n.slice(e,u),a(o,c,e),s.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=u+1,d=no;else throw new Error('attribute value must after "="');break;case"/":switch(d){case tl:t.setTagName(n.slice(e,u));case no:case il:case qh:d=qh,t.closed=!0;case to:case Wr:break;case eo:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),d==tl&&t.setTagName(n.slice(e,u)),u;case">":switch(d){case tl:t.setTagName(n.slice(e,u));case no:case il:case qh:break;case to:case Wr:c=n.slice(e,u),c.slice(-1)==="/"&&(t.closed=!0,c=c.slice(0,-1));case eo:d===eo&&(c=o),d==to?(s.warning('attribute "'+c+'" missed quot(")!'),a(o,c,e)):((!rl.isHTML(i[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),a(c,c,e));break;case nl:throw new Error("attribute value missed!!")}return u;case"\x80":h=" ";default:if(h<=" ")switch(d){case tl:t.setTagName(n.slice(e,u)),d=il;break;case Wr:o=n.slice(e,u),d=eo;break;case to:var c=n.slice(e,u);s.warning('attribute "'+c+'" missed quot(")!!'),a(o,c,e);case no:d=il;break}else switch(d){case eo:var f=t.tagName;(!rl.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,d=Wr;break;case no:s.warning('attribute space is required"'+o+'"!!');case il:d=Wr,e=u;break;case nl:d=to,e=u;break;case qh:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function oT(n,e,t){for(var i=n.tagName,r=null,h=n.length;h--;){var s=n[h],a=s.qName,o=s.value,f=a.indexOf(":");if(f>0)var c=s.prefix=a.slice(0,f),u=a.slice(f+1),d=c==="xmlns"&&u;else u=a,c=null,d=a==="xmlns"&&"";s.localName=u,d!==!1&&(r==null&&(r={},lT(t,t={})),t[d]=r[d]=o,s.uri=rl.XMLNS,e.startPrefixMapping(d,o))}for(var h=n.length;h--;){s=n[h];var c=s.prefix;c&&(c==="xml"&&(s.uri=rl.XML),c!=="xmlns"&&(s.uri=t[c||""]))}var f=i.indexOf(":");f>0?(c=n.prefix=i.slice(0,f),u=n.localName=i.slice(f+1)):(c=null,u=n.localName=i);var p=n.uri=t[c||""];if(e.startElement(p,u,i,n),n.closed){if(e.endElement(p,u,i),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&e.endPrefixMapping(c)}else return n.currentNSMap=t,n.localNSMap=r,!0}function N3(n,e,t,i,r){if(/^(?:script|textarea)$/i.test(t)){var s=n.indexOf("</"+t+">",e),a=n.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),s)}return e+1}function L3(n,e,t,i){var r=i[t];return r==null&&(r=n.lastIndexOf("</"+t+">"),r<e&&(r=n.lastIndexOf("</"+t)),i[t]=r),r<e}function lT(n,e){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}function O3(n,e,t,i){var r=n.charAt(e+2);switch(r){case"-":if(n.charAt(e+3)==="-"){var s=n.indexOf("-->",e+4);return s>e?(t.comment(n,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(n.substr(e+3,6)=="CDATA["){var s=n.indexOf("]]>",e+9);return t.startCDATA(),t.characters(n,e+9,s-e-9),t.endCDATA(),s+3}var a=W3(n,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var c=a[1][0],u=!1,d=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],d=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(d=a[3][0]));var h=a[o-1];return t.startDTD(c,u,d),t.endDTD(),h.index+h[0].length}}return-1}function B3(n,e,t){var i=n.indexOf("?>",e);if(i){var r=n.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){var s=r[0].length;return t.processingInstruction(r[1],r[2]),i+2}else return-1}return-1}function uT(){this.attributeNames={}}uT.prototype={setTagName:function(n){if(!sT.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},addValue:function(n,e,t){if(!sT.test(n))throw new Error("invalid attribute:"+n);this.attributeNames[n]=this.length,this[this.length++]={qName:n,value:e,offset:t}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};function W3(n,e){var t,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(n);t=r.exec(n);)if(i.push(t),t[1])return i}gy.XMLReader=cT;gy.ParseError=io});var _T=J($h=>{"use strict";var j3=$c(),V3=Hh(),hT=iT(),gT=dT(),z3=V3.DOMImplementation,fT=j3.NAMESPACE,H3=gT.ParseError,q3=gT.XMLReader;function mT(n){return n.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function bT(n){this.options=n||{locator:{}}}bT.prototype.parseFromString=function(n,e){var t=this.options,i=new q3,r=t.domBuilder||new sl,s=t.errorHandler,a=t.locator,o=t.xmlns||{},c=/\/x?html?$/.test(e),u=c?hT.HTML_ENTITIES:hT.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=G3(s,r,a),i.domBuilder=t.domBuilder||r,c&&(o[""]=fT.HTML),o.xml=o.xml||fT.XML;var d=t.normalizeLineEndings||mT;return n&&typeof n=="string"?i.parse(d(n),o,u):i.errorHandler.error("invalid doc source"),r.doc};function G3(n,e,t){if(!n){if(e instanceof sl)return e;n=e}var i={},r=n instanceof Function;t=t||{};function s(a){var o=n[a];!o&&r&&(o=n.length==2?function(c){n(a,c)}:n),i[a]=o&&function(c){o("[xmldom "+a+"]	"+c+my(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function sl(){this.cdata=!1}function ro(n,e){e.lineNumber=n.lineNumber,e.columnNumber=n.columnNumber}sl.prototype={startDocument:function(){this.doc=new z3().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,e,t,i){var r=this.doc,s=r.createElementNS(n,t||e),a=i.length;Gh(this,s),this.currentElement=s,this.locator&&ro(this.locator,s);for(var o=0;o<a;o++){var n=i.getURI(o),c=i.getValue(o),t=i.getQName(o),u=r.createAttributeNS(n,t);this.locator&&ro(i.getLocator(o),u),u.value=u.nodeValue=c,s.setAttributeNode(u)}},endElement:function(n,e,t){var i=this.currentElement,r=i.tagName;this.currentElement=i.parentNode},startPrefixMapping:function(n,e){},endPrefixMapping:function(n){},processingInstruction:function(n,e){var t=this.doc.createProcessingInstruction(n,e);this.locator&&ro(this.locator,t),Gh(this,t)},ignorableWhitespace:function(n,e,t){},characters:function(n,e,t){if(n=pT.apply(this,arguments),n){if(this.cdata)var i=this.doc.createCDATASection(n);else var i=this.doc.createTextNode(n);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(n)&&this.doc.appendChild(i),this.locator&&ro(this.locator,i)}},skippedEntity:function(n){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n,e,t){n=pT.apply(this,arguments);var i=this.doc.createComment(n);this.locator&&ro(this.locator,i),Gh(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,e,t){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(n,e,t);this.locator&&ro(this.locator,r),Gh(this,r),this.doc.doctype=r}},warning:function(n){console.warn("[xmldom warning]	"+n,my(this.locator))},error:function(n){console.error("[xmldom error]	"+n,my(this.locator))},fatalError:function(n){throw new H3(n,this.locator)}};function my(n){if(n)return`
@`+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function pT(n,e,t){return typeof n=="string"?n.substr(e,t):n.length>=e+t||e?new java.lang.String(n,e,t)+"":n}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){sl.prototype[n]=function(){return null}});function Gh(n,e){n.currentElement?n.currentElement.appendChild(e):n.doc.appendChild(e)}$h.__DOMHandler=sl;$h.normalizeLineEndings=mT;$h.DOMParser=bT});var vT=J(Xh=>{"use strict";var yT=Hh();Xh.DOMImplementation=yT.DOMImplementation;Xh.XMLSerializer=yT.XMLSerializer;Xh.DOMParser=_T().DOMParser});var xT=J(by=>{"use strict";var $3=vT(),X3=Hh();function K3(n){var e=null,t=new $3.DOMParser({errorHandler:function(r,s){e={level:r,message:s}}}),i=t.parseFromString(n);if(e===null)return i;throw new Error(e.level+": "+e.message)}by.parseFromString=K3;by.Node=X3.Node});var TT=J(CT=>{"use strict";var _y=Yi(),wT=(dt(),pt(ut)),ET=xT(),AT=ny(),Y3=AT.Element;CT.readString=Q3;var DT=ET.Node;function Q3(n,e){e=e||{};try{var t=ET.parseFromString(n,"text/xml")}catch(a){return _y.reject(a)}if(t.documentElement.tagName==="parsererror")return _y.resolve(new Error(t.documentElement.textContent));function i(a){switch(a.nodeType){case DT.ELEMENT_NODE:return r(a);case DT.TEXT_NODE:return AT.text(a.nodeValue)}}function r(a){var o=s(a),c=[];wT.forEach(a.childNodes,function(d){var h=i(d);h&&c.push(h)});var u={};return wT.forEach(a.attributes,function(d){u[s(d)]=d.value}),new Y3(o,u,c)}function s(a){if(a.namespaceURI){var o=e[a.namespaceURI],c;return o?c=o+":":c="{"+a.namespaceURI+"}",c+a.localName}else return a.localName}return _y.resolve(i(t.documentElement))}});var er=J((ST,jr)=>{"use strict";(function(){var n,e,t,i,r,s,a,o=[].slice,c={}.hasOwnProperty;n=function(){var u,d,h,f,p,g;if(g=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(u=0,h=p.length;u<h;u++)if(f=p[u],f!=null)for(d in f)c.call(f,d)&&(g[d]=f[d]);return g},r=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},s=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},t=function(u){return r(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},i=function(u){var d;if(t(u))return!u.length;for(d in u)if(c.call(u,d))return!1;return!0},a=function(u){var d,h;return s(u)&&(h=Object.getPrototypeOf(u))&&(d=h.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(u){return r(u.valueOf)?u.valueOf():u},jr.exports.assign=n,jr.exports.isFunction=r,jr.exports.isObject=s,jr.exports.isArray=t,jr.exports.isEmpty=i,jr.exports.isPlainObject=a,jr.exports.getValue=e}).call(ST)});var yy=J((kT,FT)=>{"use strict";(function(){var n;FT.exports=n=(function(){function e(t,i,r){if(this.options=t.options,this.stringify=t.stringify,this.parent=t,i==null)throw new Error("Missing attribute name. "+this.debugInfo(i));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(i));this.name=this.stringify.attName(i),this.value=this.stringify.attValue(r)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.set(t).attribute(this)},e.prototype.debugInfo=function(t){return t=t||this.name,t==null?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},e})()}).call(kT)});var al=J((IT,UT)=>{"use strict";(function(){var n,e,t,i,r,s,a,o=function(u,d){for(var h in d)c.call(d,h)&&(u[h]=d[h]);function f(){this.constructor=u}return f.prototype=d.prototype,u.prototype=new f,u.__super__=d.prototype,u},c={}.hasOwnProperty;a=er(),s=a.isObject,r=a.isFunction,i=a.getValue,t=an(),n=yy(),UT.exports=e=(function(u){o(d,u);function d(h,f,p){if(d.__super__.constructor.call(this,h),f==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(f),this.attributes={},p!=null&&this.attribute(p),h.isDocument&&(this.isRoot=!0,this.documentObject=h,h.rootObject=this)}return d.prototype.clone=function(){var h,f,p,g;p=Object.create(this),p.isRoot&&(p.documentObject=null),p.attributes={},g=this.attributes;for(f in g)c.call(g,f)&&(h=g[f],p.attributes[f]=h.clone());return p.children=[],this.children.forEach(function(m){var y;return y=m.clone(),y.parent=p,p.children.push(y)}),p},d.prototype.attribute=function(h,f){var p,g;if(h!=null&&(h=i(h)),s(h))for(p in h)c.call(h,p)&&(g=h[p],this.attribute(p,g));else r(f)&&(f=f.apply()),(!this.options.skipNullAttributes||f!=null)&&(this.attributes[h]=new n(this,h,f));return this},d.prototype.removeAttribute=function(h){var f,p,g;if(h==null)throw new Error("Missing attribute name. "+this.debugInfo());if(h=i(h),Array.isArray(h))for(p=0,g=h.length;p<g;p++)f=h[p],delete this.attributes[f];else delete this.attributes[h];return this},d.prototype.toString=function(h){return this.options.writer.set(h).element(this)},d.prototype.att=function(h,f){return this.attribute(h,f)},d.prototype.a=function(h,f){return this.attribute(h,f)},d})(t)}).call(IT)});var ol=J((PT,RT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),RT.exports=n=(function(r){t(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},s})(e)}).call(PT)});var cl=J((MT,NT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),NT.exports=n=(function(r){t(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},s})(e)}).call(MT)});var ll=J((LT,OT)=>{"use strict";(function(){var n,e,t,i=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function c(){this.constructor=s}return c.prototype=a.prototype,s.prototype=new c,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=er().isObject,e=an(),OT.exports=n=(function(s){i(a,s);function a(o,c,u,d){var h;a.__super__.constructor.call(this,o),t(c)&&(h=c,c=h.version,u=h.encoding,d=h.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),u!=null&&(this.encoding=this.stringify.xmlEncoding(u)),d!=null&&(this.standalone=this.stringify.xmlStandalone(d))}return a.prototype.toString=function(o){return this.options.writer.set(o).declaration(this)},a})(e)}).call(LT)});var ul=J((BT,WT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),WT.exports=n=(function(r){t(s,r);function s(a,o,c,u,d,h){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(o));if(!u)throw new Error("Missing DTD attribute type. "+this.debugInfo(o));if(!d)throw new Error("Missing DTD attribute default. "+this.debugInfo(o));if(d.indexOf("#")!==0&&(d="#"+d),!d.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(o));if(h&&!d.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(o));this.elementName=this.stringify.eleName(o),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(u),this.defaultValue=this.stringify.dtdAttDefault(h),this.defaultValueType=d}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},s})(e)}).call(BT)});var dl=J((jT,VT)=>{"use strict";(function(){var n,e,t,i=function(s,a){for(var o in a)r.call(a,o)&&(s[o]=a[o]);function c(){this.constructor=s}return c.prototype=a.prototype,s.prototype=new c,s.__super__=a.prototype,s},r={}.hasOwnProperty;t=er().isObject,e=an(),VT.exports=n=(function(s){i(a,s);function a(o,c,u,d){if(a.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD entity name. "+this.debugInfo(u));if(d==null)throw new Error("Missing DTD entity value. "+this.debugInfo(u));if(this.pe=!!c,this.name=this.stringify.eleName(u),!t(d))this.value=this.stringify.dtdEntityValue(d);else{if(!d.pubID&&!d.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(u));if(d.pubID&&!d.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(u));if(d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID)),d.nData!=null&&(this.nData=this.stringify.dtdNData(d.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(u))}}return a.prototype.toString=function(o){return this.options.writer.set(o).dtdEntity(this)},a})(e)}).call(jT)});var hl=J((zT,HT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),HT.exports=n=(function(r){t(s,r);function s(a,o,c){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(o),this.value=this.stringify.dtdElementValue(c)}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},s})(e)}).call(zT)});var fl=J((qT,GT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),GT.exports=n=(function(r){t(s,r);function s(a,o,c){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing DTD notation name. "+this.debugInfo(o));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(o));this.name=this.stringify.eleName(o),c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},s})(e)}).call(qT)});var pl=J(($T,XT)=>{"use strict";(function(){var n,e,t,i,r,s,a,o=function(u,d){for(var h in d)c.call(d,h)&&(u[h]=d[h]);function f(){this.constructor=u}return f.prototype=d.prototype,u.prototype=new f,u.__super__=d.prototype,u},c={}.hasOwnProperty;a=er().isObject,s=an(),n=ul(),t=dl(),e=hl(),i=fl(),XT.exports=r=(function(u){o(d,u);function d(h,f,p){var g,m;d.__super__.constructor.call(this,h),this.name="!DOCTYPE",this.documentObject=h,a(f)&&(g=f,f=g.pubID,p=g.sysID),p==null&&(m=[f,p],p=m[0],f=m[1]),f!=null&&(this.pubID=this.stringify.dtdPubID(f)),p!=null&&(this.sysID=this.stringify.dtdSysID(p))}return d.prototype.element=function(h,f){var p;return p=new e(this,h,f),this.children.push(p),this},d.prototype.attList=function(h,f,p,g,m){var y;return y=new n(this,h,f,p,g,m),this.children.push(y),this},d.prototype.entity=function(h,f){var p;return p=new t(this,!1,h,f),this.children.push(p),this},d.prototype.pEntity=function(h,f){var p;return p=new t(this,!0,h,f),this.children.push(p),this},d.prototype.notation=function(h,f){var p;return p=new i(this,h,f),this.children.push(p),this},d.prototype.toString=function(h){return this.options.writer.set(h).docType(this)},d.prototype.ele=function(h,f){return this.element(h,f)},d.prototype.att=function(h,f,p,g,m){return this.attList(h,f,p,g,m)},d.prototype.ent=function(h,f){return this.entity(h,f)},d.prototype.pent=function(h,f){return this.pEntity(h,f)},d.prototype.not=function(h,f){return this.notation(h,f)},d.prototype.up=function(){return this.root()||this.documentObject},d})(s)}).call($T)});var gl=J((KT,YT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;n=an(),YT.exports=e=(function(r){t(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},s})(n)}).call(KT)});var ml=J((QT,ZT)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;n=an(),ZT.exports=e=(function(r){t(s,r);function s(a,o){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(o)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).text(this)},s})(n)}).call(QT)});var bl=J((JT,eS)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;n=an(),eS.exports=e=(function(r){t(s,r);function s(a,o,c){if(s.__super__.constructor.call(this,a),o==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(o),c&&(this.value=this.stringify.insValue(c))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},s})(n)}).call(JT)});var Kh=J((tS,nS)=>{"use strict";(function(){var n,e,t=function(r,s){for(var a in s)i.call(s,a)&&(r[a]=s[a]);function o(){this.constructor=r}return o.prototype=s.prototype,r.prototype=new o,r.__super__=s.prototype,r},i={}.hasOwnProperty;e=an(),nS.exports=n=(function(r){t(s,r);function s(a){s.__super__.constructor.call(this,a),this.isDummy=!0}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return""},s})(e)}).call(tS)});var an=J((iS,rS)=>{"use strict";(function(){var n,e,t,i,r,s,a,o,c,u,d,h,f,p,g,m={}.hasOwnProperty;g=er(),p=g.isObject,f=g.isFunction,h=g.isEmpty,d=g.getValue,s=null,n=null,e=null,t=null,i=null,c=null,u=null,o=null,r=null,rS.exports=a=(function(){function y(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=al(),n=ol(),e=cl(),t=ll(),i=pl(),c=gl(),u=ml(),o=bl(),r=Kh())}return y.prototype.element=function(b,w,_){var D,A,T,E,k,S,C,L,x,B,q;if(S=null,w===null&&_==null&&(x=[{},null],w=x[0],_=x[1]),w==null&&(w={}),w=d(w),p(w)||(B=[w,_],_=B[0],w=B[1]),b!=null&&(b=d(b)),Array.isArray(b))for(T=0,C=b.length;T<C;T++)A=b[T],S=this.element(A);else if(f(b))S=this.element(b.apply());else if(p(b)){for(k in b)if(m.call(b,k))if(q=b[k],f(q)&&(q=q.apply()),p(q)&&h(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&k.indexOf(this.stringify.convertAttKey)===0)S=this.attribute(k.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(E=0,L=q.length;E<L;E++)A=q[E],D={},D[k]=A,S=this.element(D);else p(q)?(S=this.element(k),S.element(q)):S=this.element(k,q)}else this.options.skipNullNodes&&_===null?S=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?S=this.text(_):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?S=this.cdata(_):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?S=this.comment(_):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?S=this.raw(_):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?S=this.instruction(b.substr(this.stringify.convertPIKey.length),_):S=this.node(b,w,_);if(S==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return S},y.prototype.insertBefore=function(b,w,_){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A),D=this.parent.element(b,w,_),Array.prototype.push.apply(this.parent.children,T),D},y.prototype.insertAfter=function(b,w,_){var D,A,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return A=this.parent.children.indexOf(this),T=this.parent.children.splice(A+1),D=this.parent.element(b,w,_),Array.prototype.push.apply(this.parent.children,T),D},y.prototype.remove=function(){var b,w;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat(w=[])),this.parent},y.prototype.node=function(b,w,_){var D,A;return b!=null&&(b=d(b)),w||(w={}),w=d(w),p(w)||(A=[w,_],_=A[0],w=A[1]),D=new s(this,b,w),_!=null&&D.text(_),this.children.push(D),D},y.prototype.text=function(b){var w;return w=new u(this,b),this.children.push(w),this},y.prototype.cdata=function(b){var w;return w=new n(this,b),this.children.push(w),this},y.prototype.comment=function(b){var w;return w=new e(this,b),this.children.push(w),this},y.prototype.commentBefore=function(b){var w,_,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_),w=this.parent.comment(b),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.commentAfter=function(b){var w,_,D;return _=this.parent.children.indexOf(this),D=this.parent.children.splice(_+1),w=this.parent.comment(b),Array.prototype.push.apply(this.parent.children,D),this},y.prototype.raw=function(b){var w;return w=new c(this,b),this.children.push(w),this},y.prototype.dummy=function(){var b;return b=new r(this),this.children.push(b),b},y.prototype.instruction=function(b,w){var _,D,A,T,E;if(b!=null&&(b=d(b)),w!=null&&(w=d(w)),Array.isArray(b))for(T=0,E=b.length;T<E;T++)_=b[T],this.instruction(_);else if(p(b))for(_ in b)m.call(b,_)&&(D=b[_],this.instruction(_,D));else f(w)&&(w=w.apply()),A=new o(this,b,w),this.children.push(A);return this},y.prototype.instructionBefore=function(b,w){var _,D,A;return D=this.parent.children.indexOf(this),A=this.parent.children.splice(D),_=this.parent.instruction(b,w),Array.prototype.push.apply(this.parent.children,A),this},y.prototype.instructionAfter=function(b,w){var _,D,A;return D=this.parent.children.indexOf(this),A=this.parent.children.splice(D+1),_=this.parent.instruction(b,w),Array.prototype.push.apply(this.parent.children,A),this},y.prototype.declaration=function(b,w,_){var D,A;return D=this.document(),A=new t(D,b,w,_),D.children[0]instanceof t?D.children[0]=A:D.children.unshift(A),D.root()||D},y.prototype.doctype=function(b,w){var _,D,A,T,E,k,S,C,L,x;for(D=this.document(),A=new i(D,b,w),L=D.children,T=E=0,S=L.length;E<S;T=++E)if(_=L[T],_ instanceof i)return D.children[T]=A,A;for(x=D.children,T=k=0,C=x.length;k<C;T=++k)if(_=x[T],_.isRoot)return D.children.splice(T,0,A),A;return D.children.push(A),A},y.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},y.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},y.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},y.prototype.end=function(b){return this.document().end(b)},y.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},y.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},y.prototype.importDocument=function(b){var w;return w=b.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},y.prototype.debugInfo=function(b){var w,_;return b=b||this.name,b==null&&!((w=this.parent)!=null&&w.name)?"":b==null?"parent: <"+this.parent.name+">":(_=this.parent)!=null&&_.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},y.prototype.ele=function(b,w,_){return this.element(b,w,_)},y.prototype.nod=function(b,w,_){return this.node(b,w,_)},y.prototype.txt=function(b){return this.text(b)},y.prototype.dat=function(b){return this.cdata(b)},y.prototype.com=function(b){return this.comment(b)},y.prototype.ins=function(b,w){return this.instruction(b,w)},y.prototype.doc=function(){return this.document()},y.prototype.dec=function(b,w,_){return this.declaration(b,w,_)},y.prototype.dtd=function(b,w){return this.doctype(b,w)},y.prototype.e=function(b,w,_){return this.element(b,w,_)},y.prototype.n=function(b,w,_){return this.node(b,w,_)},y.prototype.t=function(b){return this.text(b)},y.prototype.d=function(b){return this.cdata(b)},y.prototype.c=function(b){return this.comment(b)},y.prototype.r=function(b){return this.raw(b)},y.prototype.i=function(b,w){return this.instruction(b,w)},y.prototype.u=function(){return this.up()},y.prototype.importXMLBuilder=function(b){return this.importDocument(b)},y})()}).call(iS)});var vy=J((sS,aS)=>{"use strict";(function(){var n,e=function(i,r){return function(){return i.apply(r,arguments)}},t={}.hasOwnProperty;aS.exports=n=(function(){function i(r){this.assertLegalChar=e(this.assertLegalChar,this);var s,a,o;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,a=r.stringify||{};for(s in a)t.call(a,s)&&(o=a[s],this[s]=o)}return i.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},i.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},i.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},i.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},i.prototype.raw=function(r){return""+r||""},i.prototype.attName=function(r){return r=""+r||""},i.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},i.prototype.insTarget=function(r){return""+r||""},i.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},i.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},i.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},i.prototype.xmlStandalone=function(r){return r?"yes":"no"},i.prototype.dtdPubID=function(r){return""+r||""},i.prototype.dtdSysID=function(r){return""+r||""},i.prototype.dtdElementValue=function(r){return""+r||""},i.prototype.dtdAttType=function(r){return""+r||""},i.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},i.prototype.dtdEntityValue=function(r){return""+r||""},i.prototype.dtdNData=function(r){return""+r||""},i.prototype.convertAttKey="@",i.prototype.convertPIKey="?",i.prototype.convertTextKey="#text",i.prototype.convertCDataKey="#cdata",i.prototype.convertCommentKey="#comment",i.prototype.convertRawKey="#raw",i.prototype.assertLegalChar=function(r){var s;if(s=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),s)throw new Error("Invalid character in string: "+r+" at index "+s.index);return r},i.prototype.elEscape=function(r){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},i.prototype.attEscape=function(r){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},i})()}).call(sS)});var xy=J((oS,cS)=>{"use strict";(function(){var n,e={}.hasOwnProperty;cS.exports=n=(function(){function t(i){var r,s,a,o,c,u,d,h,f;i||(i={}),this.pretty=i.pretty||!1,this.allowEmpty=(s=i.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(a=i.indent)!=null?a:"  ",this.newline=(o=i.newline)!=null?o:`
`,this.offset=(c=i.offset)!=null?c:0,this.dontprettytextnodes=(u=i.dontprettytextnodes)!=null?u:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(d=i.spacebeforeslash)!=null?d:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,h=i.writer||{};for(r in h)e.call(h,r)&&(f=h[r],this[r]=f)}return t.prototype.set=function(i){var r,s,a;i||(i={}),"pretty"in i&&(this.pretty=i.pretty),"allowEmpty"in i&&(this.allowEmpty=i.allowEmpty),this.pretty?(this.indent="indent"in i?i.indent:"  ",this.newline="newline"in i?i.newline:`
`,this.offset="offset"in i?i.offset:0,this.dontprettytextnodes="dontprettytextnodes"in i?i.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in i?i.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,s=i.writer||{};for(r in s)e.call(s,r)&&(a=s[r],this[r]=a);return this},t.prototype.space=function(i){var r;return this.pretty?(r=(i||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},t})()}).call(oS)});var Yh=J((lS,uS)=>{"use strict";(function(){var n,e,t,i,r,s,a,o,c,u,d,h,f,p,g,m=function(b,w){for(var _ in w)y.call(w,_)&&(b[_]=w[_]);function D(){this.constructor=b}return D.prototype=w.prototype,b.prototype=new D,b.__super__=w.prototype,b},y={}.hasOwnProperty;a=ll(),o=pl(),n=ol(),e=cl(),u=al(),h=gl(),p=ml(),d=bl(),c=Kh(),t=ul(),i=hl(),r=dl(),s=fl(),g=xy(),uS.exports=f=(function(b){m(w,b);function w(_){w.__super__.constructor.call(this,_)}return w.prototype.document=function(_){var D,A,T,E,k;for(this.textispresent=!1,E="",k=_.children,A=0,T=k.length;A<T;A++)D=k[A],!(D instanceof c)&&(E+=(function(){switch(!1){case!(D instanceof a):return this.declaration(D);case!(D instanceof o):return this.docType(D);case!(D instanceof e):return this.comment(D);case!(D instanceof d):return this.processingInstruction(D);default:return this.element(D,0)}}).call(this));return this.pretty&&E.slice(-this.newline.length)===this.newline&&(E=E.slice(0,-this.newline.length)),E},w.prototype.attribute=function(_){return" "+_.name+'="'+_.value+'"'},w.prototype.cdata=function(_,D){return this.space(D)+"<![CDATA["+_.text+"]]>"+this.newline},w.prototype.comment=function(_,D){return this.space(D)+"<!-- "+_.text+" -->"+this.newline},w.prototype.declaration=function(_,D){var A;return A=this.space(D),A+='<?xml version="'+_.version+'"',_.encoding!=null&&(A+=' encoding="'+_.encoding+'"'),_.standalone!=null&&(A+=' standalone="'+_.standalone+'"'),A+=this.spacebeforeslash+"?>",A+=this.newline,A},w.prototype.docType=function(_,D){var A,T,E,k,S;if(D||(D=0),k=this.space(D),k+="<!DOCTYPE "+_.root().name,_.pubID&&_.sysID?k+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(k+=' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(k+=" [",k+=this.newline,S=_.children,T=0,E=S.length;T<E;T++)A=S[T],k+=(function(){switch(!1){case!(A instanceof t):return this.dtdAttList(A,D+1);case!(A instanceof i):return this.dtdElement(A,D+1);case!(A instanceof r):return this.dtdEntity(A,D+1);case!(A instanceof s):return this.dtdNotation(A,D+1);case!(A instanceof n):return this.cdata(A,D+1);case!(A instanceof e):return this.comment(A,D+1);case!(A instanceof d):return this.processingInstruction(A,D+1);default:throw new Error("Unknown DTD node type: "+A.constructor.name)}}).call(this);k+="]"}return k+=this.spacebeforeslash+">",k+=this.newline,k},w.prototype.element=function(_,D){var A,T,E,k,S,C,L,x,B,q,H,I,M;D||(D=0),M=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),I=this.space(D),x="",x+=I+"<"+_.name,B=_.attributes;for(L in B)y.call(B,L)&&(A=B[L],x+=this.attribute(A));if(_.children.length===0||_.children.every(function(U){return U.value===""}))this.allowEmpty?x+="></"+_.name+">"+this.newline:x+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)x+=">",x+=_.children[0].value,x+="</"+_.name+">"+this.newline;else{if(this.dontprettytextnodes){for(q=_.children,E=0,S=q.length;E<S;E++)if(T=q[E],T.value!=null){this.textispresent++,M=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,I=this.space(D)),x+=">"+this.newline,H=_.children,k=0,C=H.length;k<C;k++)T=H[k],x+=(function(){switch(!1){case!(T instanceof n):return this.cdata(T,D+1);case!(T instanceof e):return this.comment(T,D+1);case!(T instanceof u):return this.element(T,D+1);case!(T instanceof h):return this.raw(T,D+1);case!(T instanceof p):return this.text(T,D+1);case!(T instanceof d):return this.processingInstruction(T,D+1);case!(T instanceof c):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);M&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),x+=I+"</"+_.name+">"+this.newline}return x},w.prototype.processingInstruction=function(_,D){var A;return A=this.space(D)+"<?"+_.target,_.value&&(A+=" "+_.value),A+=this.spacebeforeslash+"?>"+this.newline,A},w.prototype.raw=function(_,D){return this.space(D)+_.value+this.newline},w.prototype.text=function(_,D){return this.space(D)+_.value+this.newline},w.prototype.dtdAttList=function(_,D){var A;return A=this.space(D)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType,_.defaultValueType!=="#DEFAULT"&&(A+=" "+_.defaultValueType),_.defaultValue&&(A+=' "'+_.defaultValue+'"'),A+=this.spacebeforeslash+">"+this.newline,A},w.prototype.dtdElement=function(_,D){return this.space(D)+"<!ELEMENT "+_.name+" "+_.value+this.spacebeforeslash+">"+this.newline},w.prototype.dtdEntity=function(_,D){var A;return A=this.space(D)+"<!ENTITY",_.pe&&(A+=" %"),A+=" "+_.name,_.value?A+=' "'+_.value+'"':(_.pubID&&_.sysID?A+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(A+=' SYSTEM "'+_.sysID+'"'),_.nData&&(A+=" NDATA "+_.nData)),A+=this.spacebeforeslash+">"+this.newline,A},w.prototype.dtdNotation=function(_,D){var A;return A=this.space(D)+"<!NOTATION "+_.name,_.pubID&&_.sysID?A+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.pubID?A+=' PUBLIC "'+_.pubID+'"':_.sysID&&(A+=' SYSTEM "'+_.sysID+'"'),A+=this.spacebeforeslash+">"+this.newline,A},w.prototype.openNode=function(_,D){var A,T,E,k;if(D||(D=0),_ instanceof u){E=this.space(D)+"<"+_.name,k=_.attributes;for(T in k)y.call(k,T)&&(A=k[T],E+=this.attribute(A));return E+=(_.children?">":"/>")+this.newline,E}else return E=this.space(D)+"<!DOCTYPE "+_.rootNodeName,_.pubID&&_.sysID?E+=' PUBLIC "'+_.pubID+'" "'+_.sysID+'"':_.sysID&&(E+=' SYSTEM "'+_.sysID+'"'),E+=(_.children?" [":">")+this.newline,E},w.prototype.closeNode=function(_,D){switch(D||(D=0),!1){case!(_ instanceof u):return this.space(D)+"</"+_.name+">"+this.newline;case!(_ instanceof o):return this.space(D)+"]>"+this.newline}},w})(g)}).call(lS)});var fS=J((dS,hS)=>{"use strict";(function(){var n,e,t,i,r,s=function(o,c){for(var u in c)a.call(c,u)&&(o[u]=c[u]);function d(){this.constructor=o}return d.prototype=c.prototype,o.prototype=new d,o.__super__=c.prototype,o},a={}.hasOwnProperty;r=er().isPlainObject,e=an(),i=vy(),t=Yh(),hS.exports=n=(function(o){s(c,o);function c(u){c.__super__.constructor.call(this,null),this.name="?xml",u||(u={}),u.writer||(u.writer=new t),this.options=u,this.stringify=new i(u),this.isDocument=!0}return c.prototype.end=function(u){var d;return u?r(u)&&(d=u,u=this.options.writer.set(d)):u=this.options.writer,u.document(this)},c.prototype.toString=function(u){return this.options.writer.set(u).document(this)},c})(e)}).call(dS)});var mS=J((pS,gS)=>{"use strict";(function(){var n,e,t,i,r,s,a,o,c,u,d,h,f,p,g,m,y,b,w,_,D,A={}.hasOwnProperty;D=er(),w=D.isObject,b=D.isFunction,_=D.isPlainObject,y=D.getValue,d=al(),e=ol(),t=cl(),f=gl(),m=ml(),h=bl(),o=ll(),c=pl(),i=ul(),s=dl(),r=hl(),a=fl(),n=yy(),g=vy(),p=Yh(),gS.exports=u=(function(){function T(E,k,S){var C;this.name="?xml",E||(E={}),E.writer?_(E.writer)&&(C=E.writer,E.writer=new p(C)):E.writer=new p(E),this.options=E,this.writer=E.writer,this.stringify=new g(E),this.onDataCallback=k||function(){},this.onEndCallback=S||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(E,k,S){var C,L;if(E==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(E));return this.openCurrent(),E=y(E),k===null&&S==null&&(C=[{},null],k=C[0],S=C[1]),k==null&&(k={}),k=y(k),w(k)||(L=[k,S],S=L[0],k=L[1]),this.currentNode=new d(this,E,k),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,S!=null&&this.text(S),this},T.prototype.element=function(E,k,S){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(E,k,S)},T.prototype.attribute=function(E,k){var S,C;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(E));if(E!=null&&(E=y(E)),w(E))for(S in E)A.call(E,S)&&(C=E[S],this.attribute(S,C));else b(k)&&(k=k.apply()),(!this.options.skipNullAttributes||k!=null)&&(this.currentNode.attributes[E]=new n(this,E,k));return this},T.prototype.text=function(E){var k;return this.openCurrent(),k=new m(this,E),this.onData(this.writer.text(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(E){var k;return this.openCurrent(),k=new e(this,E),this.onData(this.writer.cdata(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(E){var k;return this.openCurrent(),k=new t(this,E),this.onData(this.writer.comment(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(E){var k;return this.openCurrent(),k=new f(this,E),this.onData(this.writer.raw(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(E,k){var S,C,L,x,B;if(this.openCurrent(),E!=null&&(E=y(E)),k!=null&&(k=y(k)),Array.isArray(E))for(S=0,x=E.length;S<x;S++)C=E[S],this.instruction(C);else if(w(E))for(C in E)A.call(E,C)&&(L=E[C],this.instruction(C,L));else b(k)&&(k=k.apply()),B=new h(this,E,k),this.onData(this.writer.processingInstruction(B,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(E,k,S){var C;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return C=new o(this,E,k,S),this.onData(this.writer.declaration(C,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(E,k,S){if(this.openCurrent(),E==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,k,S),this.currentNode.rootNodeName=E,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(E,k){var S;return this.openCurrent(),S=new r(this,E,k),this.onData(this.writer.dtdElement(S,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(E,k,S,C,L){var x;return this.openCurrent(),x=new i(this,E,k,S,C,L),this.onData(this.writer.dtdAttList(x,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(E,k){var S;return this.openCurrent(),S=new s(this,!1,E,k),this.onData(this.writer.dtdEntity(S,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(E,k){var S;return this.openCurrent(),S=new s(this,!0,E,k),this.onData(this.writer.dtdEntity(S,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(E,k){var S;return this.openCurrent(),S=new a(this,E,k),this.onData(this.writer.dtdNotation(S,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(E){if(!E.isOpen)return!this.root&&this.currentLevel===0&&E instanceof d&&(this.root=E),this.onData(this.writer.openNode(E,this.currentLevel),this.currentLevel),E.isOpen=!0},T.prototype.closeNode=function(E){if(!E.isClosed)return this.onData(this.writer.closeNode(E,this.currentLevel),this.currentLevel),E.isClosed=!0},T.prototype.onData=function(E,k){return this.documentStarted=!0,this.onDataCallback(E,k+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(E){return E==null?"":"node: <"+E+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(E,k,S){return this.node(E,k,S)},T.prototype.txt=function(E){return this.text(E)},T.prototype.dat=function(E){return this.cdata(E)},T.prototype.com=function(E){return this.comment(E)},T.prototype.ins=function(E,k){return this.instruction(E,k)},T.prototype.dec=function(E,k,S){return this.declaration(E,k,S)},T.prototype.dtd=function(E,k,S){return this.doctype(E,k,S)},T.prototype.e=function(E,k,S){return this.element(E,k,S)},T.prototype.n=function(E,k,S){return this.node(E,k,S)},T.prototype.t=function(E){return this.text(E)},T.prototype.d=function(E){return this.cdata(E)},T.prototype.c=function(E){return this.comment(E)},T.prototype.r=function(E){return this.raw(E)},T.prototype.i=function(E,k){return this.instruction(E,k)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(E,k){return this.entity(E,k)},T.prototype.pent=function(E,k){return this.pEntity(E,k)},T.prototype.not=function(E,k){return this.notation(E,k)},T})()}).call(pS)});var yS=J((bS,_S)=>{"use strict";(function(){var n,e,t,i,r,s,a,o,c,u,d,h,f,p,g,m=function(b,w){for(var _ in w)y.call(w,_)&&(b[_]=w[_]);function D(){this.constructor=b}return D.prototype=w.prototype,b.prototype=new D,b.__super__=w.prototype,b},y={}.hasOwnProperty;a=ll(),o=pl(),n=ol(),e=cl(),u=al(),h=gl(),p=ml(),d=bl(),c=Kh(),t=ul(),i=hl(),r=dl(),s=fl(),g=xy(),_S.exports=f=(function(b){m(w,b);function w(_,D){w.__super__.constructor.call(this,D),this.stream=_}return w.prototype.document=function(_){var D,A,T,E,k,S,C,L;for(S=_.children,A=0,E=S.length;A<E;A++)D=S[A],D.isLastRootNode=!1;for(_.children[_.children.length-1].isLastRootNode=!0,C=_.children,L=[],T=0,k=C.length;T<k;T++)if(D=C[T],!(D instanceof c))switch(!1){case!(D instanceof a):L.push(this.declaration(D));break;case!(D instanceof o):L.push(this.docType(D));break;case!(D instanceof e):L.push(this.comment(D));break;case!(D instanceof d):L.push(this.processingInstruction(D));break;default:L.push(this.element(D))}return L},w.prototype.attribute=function(_){return this.stream.write(" "+_.name+'="'+_.value+'"')},w.prototype.cdata=function(_,D){return this.stream.write(this.space(D)+"<![CDATA["+_.text+"]]>"+this.endline(_))},w.prototype.comment=function(_,D){return this.stream.write(this.space(D)+"<!-- "+_.text+" -->"+this.endline(_))},w.prototype.declaration=function(_,D){return this.stream.write(this.space(D)),this.stream.write('<?xml version="'+_.version+'"'),_.encoding!=null&&this.stream.write(' encoding="'+_.encoding+'"'),_.standalone!=null&&this.stream.write(' standalone="'+_.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(_))},w.prototype.docType=function(_,D){var A,T,E,k;if(D||(D=0),this.stream.write(this.space(D)),this.stream.write("<!DOCTYPE "+_.root().name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(_)),k=_.children,T=0,E=k.length;T<E;T++)switch(A=k[T],!1){case!(A instanceof t):this.dtdAttList(A,D+1);break;case!(A instanceof i):this.dtdElement(A,D+1);break;case!(A instanceof r):this.dtdEntity(A,D+1);break;case!(A instanceof s):this.dtdNotation(A,D+1);break;case!(A instanceof n):this.cdata(A,D+1);break;case!(A instanceof e):this.comment(A,D+1);break;case!(A instanceof d):this.processingInstruction(A,D+1);break;default:throw new Error("Unknown DTD node type: "+A.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(_))},w.prototype.element=function(_,D){var A,T,E,k,S,C,L,x;D||(D=0),x=this.space(D),this.stream.write(x+"<"+_.name),C=_.attributes;for(S in C)y.call(C,S)&&(A=C[S],this.attribute(A));if(_.children.length===0||_.children.every(function(B){return B.value===""}))this.allowEmpty?this.stream.write("></"+_.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&_.children.length===1&&_.children[0].value!=null)this.stream.write(">"),this.stream.write(_.children[0].value),this.stream.write("</"+_.name+">");else{for(this.stream.write(">"+this.newline),L=_.children,E=0,k=L.length;E<k;E++)switch(T=L[E],!1){case!(T instanceof n):this.cdata(T,D+1);break;case!(T instanceof e):this.comment(T,D+1);break;case!(T instanceof u):this.element(T,D+1);break;case!(T instanceof h):this.raw(T,D+1);break;case!(T instanceof p):this.text(T,D+1);break;case!(T instanceof d):this.processingInstruction(T,D+1);break;case!(T instanceof c):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(x+"</"+_.name+">")}return this.stream.write(this.endline(_))},w.prototype.processingInstruction=function(_,D){return this.stream.write(this.space(D)+"<?"+_.target),_.value&&this.stream.write(" "+_.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(_))},w.prototype.raw=function(_,D){return this.stream.write(this.space(D)+_.value+this.endline(_))},w.prototype.text=function(_,D){return this.stream.write(this.space(D)+_.value+this.endline(_))},w.prototype.dtdAttList=function(_,D){return this.stream.write(this.space(D)+"<!ATTLIST "+_.elementName+" "+_.attributeName+" "+_.attributeType),_.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+_.defaultValueType),_.defaultValue&&this.stream.write(' "'+_.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},w.prototype.dtdElement=function(_,D){return this.stream.write(this.space(D)+"<!ELEMENT "+_.name+" "+_.value),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},w.prototype.dtdEntity=function(_,D){return this.stream.write(this.space(D)+"<!ENTITY"),_.pe&&this.stream.write(" %"),this.stream.write(" "+_.name),_.value?this.stream.write(' "'+_.value+'"'):(_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),_.nData&&this.stream.write(" NDATA "+_.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},w.prototype.dtdNotation=function(_,D){return this.stream.write(this.space(D)+"<!NOTATION "+_.name),_.pubID&&_.sysID?this.stream.write(' PUBLIC "'+_.pubID+'" "'+_.sysID+'"'):_.pubID?this.stream.write(' PUBLIC "'+_.pubID+'"'):_.sysID&&this.stream.write(' SYSTEM "'+_.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(_))},w.prototype.endline=function(_){return _.isLastRootNode?"":this.newline},w})(g)}).call(bS)});var xS=J((vS,_l)=>{"use strict";(function(){var n,e,t,i,r,s,a;a=er(),r=a.assign,s=a.isFunction,n=fS(),e=mS(),i=Yh(),t=yS(),_l.exports.create=function(o,c,u,d){var h,f;if(o==null)throw new Error("Root element needs a name.");return d=r({},c,u,d),h=new n(d),f=h.element(o),d.headless||(h.declaration(d),(d.pubID!=null||d.sysID!=null)&&h.doctype(d)),f},_l.exports.begin=function(o,c,u){var d;return s(o)&&(d=[o,c],c=d[0],u=d[1],o={}),c?new e(o,c,u):new n(o)},_l.exports.stringWriter=function(o){return new i(o)},_l.exports.streamWriter=function(o,c){return new t(o,c)}}).call(vS)});var ES=J(DS=>{"use strict";var wS=(dt(),pt(ut)),Z3=xS();DS.writeString=J3;function J3(n,e){var t=wS.invert(e),i={element:s,text:eN};function r(c,u){return i[u.type](c,u)}function s(c,u){var d=c.element(a(u.name),u.attributes);u.children.forEach(function(h){r(d,h)})}function a(c){var u=/^\{(.*)\}(.*)$/.exec(c);if(u){var d=t[u[1]];return d+(d===""?"":":")+u[2]}else return c}function o(c){var u=Z3.create(a(c.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return wS.forEach(e,function(d,h){var f="xmlns"+(h===""?"":":"+h);u.attribute(f,d)}),c.children.forEach(function(d){r(u,d)}),u.end()}return o(n)}function eN(n,e){n.text(e.value)}});var Zh=J(Rs=>{"use strict";var Qh=ny();Rs.Element=Qh.Element;Rs.element=Qh.element;Rs.emptyElement=Qh.emptyElement;Rs.text=Qh.text;Rs.readString=TT().readString;Rs.writeString=ES().writeString});var TS=J(wy=>{"use strict";var tN=(dt(),pt(ut)),nN=Yi(),iN=Zh();wy.read=AS;wy.readXmlFromZipFile=sN;var rN={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function AS(n){return iN.readString(n,rN).then(function(e){return CS(e)[0]})}function sN(n,e){return n.exists(e)?n.read(e,"utf-8").then(aN).then(AS):nN.resolve(null)}function aN(n){return n.replace(/^\uFEFF/g,"")}function CS(n){return n.type==="element"?n.name==="mc:AlternateContent"?n.firstOrEmpty("mc:Fallback").children:(n.children=tN.flatten(n.children.map(CS,!0)),[n]):[n]}});var SS=J(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});var oN=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];Dy.default=oN});var IS=J(Si=>{"use strict";var cN=Si&&Si.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Si,"__esModule",{value:!0});Si.hex=Si.dec=Si.codePoint=void 0;var lN=cN(SS()),FS={},uN=String.fromCodePoint?String.fromCodePoint:fN;for(Jh=0,Ey=lN.default;Jh<Ey.length;Jh++)ef=Ey[Jh],Ay=parseInt(ef["Unicode dec"],10),kS={codePoint:Ay,string:uN(Ay)},FS[ef["Typeface name"].toUpperCase()+"_"+ef["Dingbat dec"]]=kS;var ef,Ay,kS,Jh,Ey;function Cy(n,e){return FS[n.toUpperCase()+"_"+e]}Si.codePoint=Cy;function dN(n,e){return Cy(n,parseInt(e,10))}Si.dec=dN;function hN(n,e){return Cy(n,parseInt(e,16))}Si.hex=hN;function fN(n){if(n<=65535)return String.fromCharCode(n);var e=Math.floor((n-65536)/1024)+55296,t=(n-65536)%1024+56320;return String.fromCharCode(e,t)}});var Sy=J(Ms=>{"use strict";var US=(dt(),pt(ut));Ms.paragraph=pN;Ms.run=gN;Ms._elements=PS;Ms._elementsOfType=Ty;Ms.getDescendantsOfType=mN;Ms.getDescendants=RS;function pN(n){return Ty("paragraph",n)}function gN(n){return Ty("run",n)}function Ty(n,e){return PS(function(t){return t.type===n?e(t):t})}function PS(n){return function e(t){if(t.children){var i=US.map(t.children,e);t=US.extend(t,{children:i})}return n(t)}}function mN(n,e){return RS(n).filter(function(t){return t.type===e})}function RS(n){var e=[];return MS(n,function(t){e.push(t)}),e}function MS(n,e){n.children&&n.children.forEach(function(t){MS(t,e),e(t)})}});var NS=J(ky=>{"use strict";ky.uriToZipEntryName=bN;ky.replaceFragment=_N;function bN(n,e){return e.charAt(0)==="/"?e.substr(1):n+"/"+e}function _N(n,e){var t=n.indexOf("#");return t!==-1&&(n=n.substring(0,t)),n+"#"+e}});var HS=J(Fy=>{"use strict";Fy.createBodyReader=vN;Fy._readNumberingProperties=zS;var LS=IS(),$n=(dt(),pt(ut)),nt=Or(),VS=Ei().Result,tr=Ei().warning,yN=Zh(),OS=Sy(),BS=NS();function vN(n){return{readXmlElement:function(e){return new WS(n).readXmlElement(e)},readXmlElements:function(e){return new WS(n).readXmlElements(e)}}}function WS(n){var e=[],t=[],i=[],r=n.relationships,s=n.contentTypes,a=n.docxFile,o=n.files,c=n.numbering,u=n.styles;function d(v){var W=v.map(h);return jS(W)}function h(v){if(v.type==="element"){var W=I[v.name];if(W)return W(v);if(!Object.prototype.hasOwnProperty.call(wN,v.name)){var z=tr("An unrecognised element was ignored: "+v.name);return yl([z])}}return so()}function f(v){return _(v).map(function(W){return{type:"paragraphProperties",styleId:W.styleId,styleName:W.name,alignment:v.firstOrEmpty("w:jc").attributes["w:val"],numbering:zS(W.styleId,v.firstOrEmpty("w:numPr"),c),indent:p(v.firstOrEmpty("w:ind"))}})}function p(v){return{start:v.attributes["w:start"]||v.attributes["w:left"],end:v.attributes["w:end"]||v.attributes["w:right"],firstLine:v.attributes["w:firstLine"],hanging:v.attributes["w:hanging"]}}function g(v){return D(v).map(function(W){var z=v.firstOrEmpty("w:sz").attributes["w:val"],R=/^[0-9]+$/.test(z)?parseInt(z,10)/2:null;return{type:"runProperties",styleId:W.styleId,styleName:W.name,verticalAlignment:v.firstOrEmpty("w:vertAlign").attributes["w:val"],font:v.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:R,isBold:y(v.first("w:b")),isUnderline:m(v.first("w:u")),isItalic:y(v.first("w:i")),isStrikethrough:y(v.first("w:strike")),isAllCaps:y(v.first("w:caps")),isSmallCaps:y(v.first("w:smallCaps")),highlight:w(v.firstOrEmpty("w:highlight").attributes["w:val"])}})}function m(v){if(v){var W=v.attributes["w:val"];return W!==void 0&&W!=="false"&&W!=="0"&&W!=="none"}else return!1}function y(v){if(v){var W=v.attributes["w:val"];return W!=="false"&&W!=="0"}else return!1}function b(v){return v!=="false"&&v!=="0"}function w(v){return!v||v==="none"?null:v}function _(v){return T(v,"w:pStyle","Paragraph",u.findParagraphStyleById)}function D(v){return T(v,"w:rStyle","Run",u.findCharacterStyleById)}function A(v){return T(v,"w:tblStyle","Table",u.findTableStyleById)}function T(v,W,z,R){var F=[],j=v.first(W),Q=null,ie=null;if(j&&(Q=j.attributes["w:val"],Q)){var $=R(Q);$?ie=$.name:F.push(Vt(z,Q))}return tf({styleId:Q,name:ie},F)}function E(v){var W=v.attributes["w:fldCharType"];if(W==="begin")e.push({type:"begin",fldChar:v}),t=[];else if(W==="end"){var z=e.pop();if(z.type==="begin"&&(z=S(z)),z.type==="checkbox")return In(nt.checkbox({checked:z.checked}))}else if(W==="separate"){var R=e.pop(),F=S(R);e.push(F)}return so()}function k(){var v=$n.last(e.filter(function(W){return W.type==="hyperlink"}));return v?v.options:null}function S(v){return C(t.join(""),v.type==="begin"?v.fldChar:yN.emptyElement)}function C(v,W){var z=/\s*HYPERLINK "(.*)"/.exec(v);if(z)return{type:"hyperlink",options:{href:z[1]}};var R=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(v);if(R)return{type:"hyperlink",options:{anchor:R[1]}};var F=/\s*FORMCHECKBOX\s*/.exec(v);if(F){var j=W.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Q=j.first("w:checked"),ie=Q==null?y(j.first("w:default")):y(Q);return{type:"checkbox",checked:ie}}return{type:"unknown"}}function L(v){return t.push(v.text()),so()}function x(v){var W=v.attributes["w:font"],z=v.attributes["w:char"],R=LS.hex(W,z);return R==null&&/^F0..$/.test(z)&&(R=LS.hex(W,z.substring(2))),R==null?yl([tr("A w:sym element with an unsupported character was ignored: char "+z+" in font "+W)]):In(new nt.Text(R.string))}function B(v){return function(W){var z=W.attributes["w:id"];return In(new nt.NoteReference({noteType:v,noteId:z}))}}function q(v){return In(nt.commentReference({commentId:v.attributes["w:id"]}))}function H(v){return d(v.children)}var I={"w:p":function(v){var W=v.firstOrEmpty("w:pPr"),z=!!W.firstOrEmpty("w:rPr").first("w:del");if(z)return v.children.forEach(function(F){i.push(F)}),so();var R=v.children;return i.length>0&&(R=i.concat(R),i=[]),Bt.map(f(W),d(R),function(F,j){return new nt.Paragraph(j,F)}).insertExtra()},"w:r":function(v){return Bt.map(g(v.firstOrEmpty("w:rPr")),d(v.children),function(W,z){var R=k();return R!==null&&(z=[new nt.Hyperlink(z,R)]),new nt.Run(z,W)})},"w:fldChar":E,"w:instrText":L,"w:t":function(v){return In(new nt.Text(v.text()))},"w:tab":function(v){return In(new nt.Tab)},"w:noBreakHyphen":function(){return In(new nt.Text("\u2011"))},"w:softHyphen":function(v){return In(new nt.Text("\xAD"))},"w:sym":x,"w:hyperlink":function(v){var W=v.attributes["r:id"],z=v.attributes["w:anchor"];return d(v.children).map(function(R){function F(Q){var ie=v.attributes["w:tgtFrame"]||null;return new nt.Hyperlink(R,$n.extend({targetFrame:ie},Q))}if(W){var j=r.findTargetByRelationshipId(W);return z&&(j=BS.replaceFragment(j,z)),F({href:j})}else return z?F({anchor:z}):R})},"w:tbl":M,"w:tr":P,"w:tc":N,"w:footnoteReference":B("footnote"),"w:endnoteReference":B("endnote"),"w:commentReference":q,"w:br":function(v){var W=v.attributes["w:type"];return W==null||W==="textWrapping"?In(nt.lineBreak):W==="page"?In(nt.pageBreak):W==="column"?In(nt.columnBreak):yl([tr("Unsupported break type: "+W)])},"w:bookmarkStart":function(v){var W=v.attributes["w:name"];return W==="_GoBack"?so():In(new nt.BookmarkStart({name:W}))},"mc:AlternateContent":function(v){return H(v.firstOrEmpty("mc:Fallback"))},"w:sdt":function(v){var W=d(v.firstOrEmpty("w:sdtContent").children);return W.map(function(z){var R=v.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(R){var F=R.first("wordml:checked"),j=!!F&&b(F.attributes["wordml:val"]),Q=nt.checkbox({checked:j}),ie=!1,$=z.map(OS._elementsOfType(nt.types.text,function(se){return se.value.length>0&&!ie?(ie=!0,Q):se}));return ie?$:Q}else return z})},"w:ins":H,"w:object":H,"w:smartTag":H,"w:drawing":H,"w:pict":function(v){return H(v).toExtra()},"v:roundrect":H,"v:shape":H,"v:textbox":H,"w:txbxContent":H,"wp:inline":de,"wp:anchor":de,"v:imagedata":De,"v:group":H,"v:rect":H};return{readXmlElement:h,readXmlElements:d};function M(v){var W=U(v.firstOrEmpty("w:tblPr"));return d(v.children).flatMap(Y).flatMap(function(z){return W.map(function(R){return nt.Table(z,R)})})}function U(v){return A(v).map(function(W){return{styleId:W.styleId,styleName:W.name}})}function P(v){var W=v.firstOrEmpty("w:trPr"),z=!!W.first("w:del");if(z)return so();var R=!!W.first("w:tblHeader");return d(v.children).map(function(F){return nt.TableRow(F,{isHeader:R})})}function N(v){return d(v.children).map(function(W){var z=v.firstOrEmpty("w:tcPr"),R=z.firstOrEmpty("w:gridSpan").attributes["w:val"],F=R?parseInt(R,10):1,j=nt.TableCell(W,{colSpan:F});return j._vMerge=G(z),j})}function G(v){var W=v.first("w:vMerge");if(W){var z=W.attributes["w:val"];return z==="continue"||!z}else return null}function Y(v){var W=$n.any(v,function(F){return F.type!==nt.types.tableRow});if(W)return K(v),tf(v,[tr("unexpected non-row element in table, cell merging may be incorrect")]);var z=$n.any(v,function(F){return $n.any(F.children,function(j){return j.type!==nt.types.tableCell})});if(z)return K(v),tf(v,[tr("unexpected non-cell element in table row, cell merging may be incorrect")]);var R={};return v.forEach(function(F){var j=0;F.children.forEach(function(Q){Q._vMerge&&R[j]?R[j].rowSpan++:(R[j]=Q,Q._vMerge=!1),j+=Q.colSpan})}),v.forEach(function(F){F.children=F.children.filter(function(j){return!j._vMerge}),F.children.forEach(function(j){delete j._vMerge})}),In(v)}function K(v){v.forEach(function(W){var z=OS.getDescendantsOfType(W,nt.types.tableCell);z.forEach(function(R){delete R._vMerge})})}function de(v){var W=v.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return jS(W.map(ge.bind(null,v)))}function ge(v,W){var z=v.first("wp:docPr").attributes,R=ce(z.descr)?z.title:z.descr,F=le(W);return F===null?yl([tr("Could not find image file for a:blip element")]):wt(F,R)}function ce(v){return v==null||/^\s*$/.test(v)}function le(v){var W=v.attributes["r:embed"],z=v.attributes["r:link"];if(W)return Re(W);if(z){var R=r.findTargetByRelationshipId(z);return{path:R,read:o.read.bind(o,R)}}else return null}function De(v){var W=v.attributes["r:id"];return W?wt(Re(W),v.attributes["o:title"]):yl([tr("A v:imagedata element without a relationship ID was ignored")])}function Re(v){var W=BS.uriToZipEntryName("word",r.findTargetByRelationshipId(v));return{path:W,read:a.read.bind(a,W)}}function wt(v,W){var z=s.findContentType(v.path),R=nt.Image({readImage:v.read,altText:W,contentType:z}),F=xN[z]?[]:tr("Image of type "+z+" is unlikely to display in web browsers");return tf(R,F)}function Vt(v,W){return tr(v+" style with ID "+W+" was referenced but not defined in the document")}}function zS(n,e,t){var i=e.firstOrEmpty("w:ilvl").attributes["w:val"],r=e.firstOrEmpty("w:numId").attributes["w:val"];if(i!==void 0&&r!==void 0)return t.findLevel(r,i);if(n!=null){var s=t.findLevelByParagraphStyleId(n);if(s!=null)return s}return r!==void 0?t.findLevel(r,"0"):null}var xN={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},wN={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function yl(n){return new Bt(null,null,n)}function so(){return new Bt(null)}function In(n){return new Bt(n)}function tf(n,e){return new Bt(n,null,e)}function Bt(n,e,t){this.value=n||[],this.extra=e||[],this._result=new VS({element:this.value,extra:e},t),this.messages=this._result.messages}Bt.prototype.toExtra=function(){return new Bt(null,nf(this.extra,this.value),this.messages)};Bt.prototype.insertExtra=function(){var n=this.extra;return n&&n.length?new Bt(nf(this.value,n),null,this.messages):this};Bt.prototype.map=function(n){var e=this._result.map(function(t){return n(t.element)});return new Bt(e.value,this.extra,e.messages)};Bt.prototype.flatMap=function(n){var e=this._result.flatMap(function(t){return n(t.element)._result});return new Bt(e.value.element,nf(this.extra,e.value.extra),e.messages)};Bt.map=function(n,e,t){return new Bt(t(n.value,e.value),nf(n.extra,e.extra),n.messages.concat(e.messages))};function jS(n){var e=VS.combine($n.pluck(n,"_result"));return new Bt($n.flatten($n.pluck(e.value,"element")),$n.filter($n.flatten($n.pluck(e.value,"extra")),DN),e.messages)}function nf(n,e){return $n.flatten([n,e])}function DN(n){return n}});var GS=J(qS=>{"use strict";qS.DocumentXmlReader=CN;var EN=Or(),AN=Ei().Result;function CN(n){var e=n.bodyReader;function t(i){var r=i.first("w:body");if(r==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var s=e.readXmlElements(r.children).map(function(a){return new EN.Document(a,{notes:n.notes,comments:n.comments})});return new AN(s.value,s.messages)}return{convertXmlToDocument:t}}});var $S=J(rf=>{"use strict";rf.readRelationships=TN;rf.defaultValue=new Iy([]);rf.Relationships=Iy;function TN(n){var e=[];return n.children.forEach(function(t){if(t.name==="relationships:Relationship"){var i={relationshipId:t.attributes.Id,target:t.attributes.Target,type:t.attributes.Type};e.push(i)}}),new Iy(e)}function Iy(n){var e={};n.forEach(function(i){e[i.relationshipId]=i.target});var t={};return n.forEach(function(i){t[i.type]||(t[i.type]=[]),t[i.type].push(i.target)}),{findTargetByRelationshipId:function(i){return e[i]},findTargetsByType:function(i){return t[i]||[]}}}});var KS=J(Uy=>{"use strict";Uy.readContentTypesFromXml=kN;var SN={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};Uy.defaultContentTypes=XS({},{});function kN(n){var e={},t={};return n.children.forEach(function(i){if(i.name==="content-types:Default"&&(e[i.attributes.Extension]=i.attributes.ContentType),i.name==="content-types:Override"){var r=i.attributes.PartName;r.charAt(0)==="/"&&(r=r.substring(1)),t[r]=i.attributes.ContentType}}),XS(t,e)}function XS(n,e){return{findContentType:function(t){var i=n[t];if(i)return i;var r=t.split("."),s=r[r.length-1];if(e.hasOwnProperty(s))return e[s];var a=SN[s.toLowerCase()];return a?"image/"+a:null}}}});var YS=J(af=>{"use strict";var sf=(dt(),pt(ut));af.readNumberingXml=FN;af.Numbering=Py;af.defaultNumbering=new Py({},{});function Py(n,e,t){var i=sf.flatten(sf.values(e).map(function(o){return sf.values(o.levels)})),r=sf.indexBy(i.filter(function(o){return o.paragraphStyleId!=null}),"paragraphStyleId");function s(o,c){var u=n[o];if(u){var d=e[u.abstractNumId];if(d){if(d.numStyleLink==null)return e[u.abstractNumId].levels[c];var h=t.findNumberingStyleById(d.numStyleLink);return s(h.numId,c)}else return null}else return null}function a(o){return r[o]||null}return{findLevel:s,findLevelByParagraphStyleId:a}}function FN(n,e){if(!e||!e.styles)throw new Error("styles is missing");var t=IN(n),i=PN(n,t);return new Py(i,t,e.styles)}function IN(n){var e={};return n.getElementsByTagName("w:abstractNum").forEach(function(t){var i=t.attributes["w:abstractNumId"];e[i]=UN(t)}),e}function UN(n){var e={},t=null;n.getElementsByTagName("w:lvl").forEach(function(r){var s=r.attributes["w:ilvl"],a=r.firstOrEmpty("w:numFmt").attributes["w:val"],o=a!=="bullet",c=r.firstOrEmpty("w:pStyle").attributes["w:val"];s===void 0?t={isOrdered:o,level:"0",paragraphStyleId:c}:e[s]={isOrdered:o,level:s,paragraphStyleId:c}}),t!==null&&e[t.level]===void 0&&(e[t.level]=t);var i=n.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function PN(n){var e={};return n.getElementsByTagName("w:num").forEach(function(t){var i=t.attributes["w:numId"],r=t.first("w:abstractNumId").attributes["w:val"];e[i]={abstractNumId:r}}),e}});var ZS=J(of=>{"use strict";of.readStylesXml=RN;of.Styles=vl;of.defaultStyles=new vl({},{});function vl(n,e,t,i){return{findParagraphStyleById:function(r){return n[r]},findCharacterStyleById:function(r){return e[r]},findTableStyleById:function(r){return t[r]},findNumberingStyleById:function(r){return i[r]}}}vl.EMPTY=new vl({},{},{},{});function RN(n){var e={},t={},i={},r={},s={paragraph:e,character:t,table:i,numbering:r};return n.getElementsByTagName("w:style").forEach(function(a){var o=MN(a),c=s[o.type];c&&c[o.styleId]===void 0&&(c[o.styleId]=o)}),new vl(e,t,i,r)}function MN(n){var e=n.attributes["w:type"];if(e==="numbering")return LN(e,n);var t=QS(n),i=NN(n);return{type:e,styleId:t,name:i}}function NN(n){var e=n.first("w:name");return e?e.attributes["w:val"]:null}function LN(n,e){var t=QS(e),i=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:n,numId:i,styleId:t}}function QS(n){return n.attributes["w:styleId"]}});var ek=J(xl=>{"use strict";var ON=Or(),BN=Ei().Result;xl.createFootnotesReader=JS.bind(xl,"footnote");xl.createEndnotesReader=JS.bind(xl,"endnote");function JS(n,e){function t(s){return BN.combine(s.getElementsByTagName("w:"+n).filter(i).map(r))}function i(s){var a=s.attributes["w:type"];return a!=="continuationSeparator"&&a!=="separator"}function r(s){var a=s.attributes["w:id"];return e.readXmlElements(s.children).map(function(o){return ON.Note({noteType:n,noteId:a,body:o})})}return t}});var nk=J(tk=>{"use strict";var WN=Or(),jN=Ei().Result;function VN(n){function e(i){return jN.combine(i.getElementsByTagName("w:comment").map(t))}function t(i){var r=i.attributes["w:id"];function s(a){return(i.attributes[a]||"").trim()||null}return n.readXmlElements(i.children).map(function(a){return WN.comment({commentId:r,body:a,authorName:s("w:author"),authorInitials:s("w:initials")})})}return e}tk.createCommentsReader=VN});var rk=J(ik=>{"use strict";var zN=Yi();ik.Files=HN;function HN(){function n(e){return zN.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:n}}});var fk=J(My=>{"use strict";My.read=QN;My._findPartPaths=dk;var qN=Yi(),GN=Or(),Ry=Ei().Result,lf=ty(),uk=TS().readXmlFromZipFile,$N=HS().createBodyReader,XN=GS().DocumentXmlReader,ao=$S(),sk=KS(),ak=YS(),ok=ZS(),ck=ek(),KN=nk(),YN=rk().Files;function QN(n,e,t){e=e||{},t=t||{};var i=new YN({externalFileAccess:t.externalFileAccess,relativeToFile:e.path});return qN.props({contentTypes:JN(n),partPaths:dk(n),docxFile:n,files:i}).also(function(r){return{styles:tL(n,r.partPaths.styles)}}).also(function(r){return{numbering:eL(n,r.partPaths.numbering,r.styles)}}).also(function(r){return{footnotes:cf(r.partPaths.footnotes,r,function(s,a){return a?ck.createFootnotesReader(s)(a):new Ry([])}),endnotes:cf(r.partPaths.endnotes,r,function(s,a){return a?ck.createEndnotesReader(s)(a):new Ry([])}),comments:cf(r.partPaths.comments,r,function(s,a){return a?KN.createCommentsReader(s)(a):new Ry([])})}}).also(function(r){return{notes:r.footnotes.flatMap(function(s){return r.endnotes.map(function(a){return new GN.Notes(s.concat(a))})})}}).then(function(r){return cf(r.partPaths.mainDocument,r,function(s,a){return r.notes.flatMap(function(o){return r.comments.flatMap(function(c){var u=new XN({bodyReader:s,notes:o,comments:c});return u.convertXmlToDocument(a)})})})})}function dk(n){return nL(n).then(function(e){var t=lk({docxFile:n,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!n.exists(t))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return oo({filename:hk(t),readElement:ao.readRelationships,defaultValue:ao.defaultValue})(n).then(function(i){function r(s){return lk({docxFile:n,relationships:i,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+s,basePath:lf.splitPath(t).dirname,fallbackPath:"word/"+s+".xml"})}return{mainDocument:t,comments:r("comments"),endnotes:r("endnotes"),footnotes:r("footnotes"),numbering:r("numbering"),styles:r("styles")}})})}function lk(n){var e=n.docxFile,t=n.relationships,i=n.relationshipType,r=n.basePath,s=n.fallbackPath,a=t.findTargetsByType(i),o=a.map(function(u){return ZN(lf.joinPath(r,u),"/")}),c=o.filter(function(u){return e.exists(u)});return c.length===0?s:c[0]}function ZN(n,e){return n.substring(0,e.length)===e?n.substring(e.length):n}function oo(n){return function(e){return uk(e,n.filename).then(function(t){return t?n.readElement(t):n.defaultValue})}}function cf(n,e,t){var i=oo({filename:hk(n),readElement:ao.readRelationships,defaultValue:ao.defaultValue});return i(e.docxFile).then(function(r){var s=new $N({relationships:r,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return uk(e.docxFile,n).then(function(a){return t(s,a)})})}function hk(n){var e=lf.splitPath(n);return lf.joinPath(e.dirname,"_rels",e.basename+".rels")}var JN=oo({filename:"[Content_Types].xml",readElement:sk.readContentTypesFromXml,defaultValue:sk.defaultContentTypes});function eL(n,e,t){return oo({filename:e,readElement:function(i){return ak.readNumberingXml(i,{styles:t})},defaultValue:ak.defaultNumbering})(n)}function tL(n,e){return oo({filename:e,readElement:ok.readStylesXml,defaultValue:ok.defaultStyles})(n)}var nL=oo({filename:"_rels/.rels",readElement:ao.readRelationships,defaultValue:ao.defaultValue})});var mk=J(Ny=>{"use strict";var iL=(dt(),pt(ut)),rL=Yi(),wl=Zh();Ny.writeStyleMap=aL;Ny.readStyleMap=lL;var sL="http://schemas.zwobble.org/mammoth/style-map",uf="mammoth/style-map",pk="/"+uf;function aL(n,e){return n.write(uf,e),oL(n).then(function(){return cL(n)})}function oL(n){var e="word/_rels/document.xml.rels",t="http://schemas.openxmlformats.org/package/2006/relationships",i="{"+t+"}Relationship";return n.read(e,"utf8").then(wl.readString).then(function(r){var s=r.children;gk(s,i,"Id",{Id:"rMammothStyleMap",Type:sL,Target:pk});var a={"":t};return n.write(e,wl.writeString(r,a))})}function cL(n){var e="[Content_Types].xml",t="http://schemas.openxmlformats.org/package/2006/content-types",i="{"+t+"}Override";return n.read(e,"utf8").then(wl.readString).then(function(r){var s=r.children;gk(s,i,"PartName",{PartName:pk,ContentType:"text/prs.mammoth.style-map"});var a={"":t};return n.write(e,wl.writeString(r,a))})}function gk(n,e,t,i){var r=iL.find(n,function(s){return s.name===e&&s.attributes[t]===i[t]});r?r.attributes=i:n.push(wl.element(e,i))}function lL(n){return n.exists(uf)?n.read(uf,"utf8"):rL.resolve(null)}});var Oy=J(Ns=>{"use strict";var bk=Dl();function uL(n,e,t){return Ly(bk.element(n,e,{fresh:!1}),t)}function dL(n,e,t){var i=bk.element(n,e,{fresh:!0});return Ly(i,t)}function Ly(n,e){return{type:"element",tag:n,children:e||[]}}function hL(n){return{type:"text",value:n}}var fL={type:"forceWrite"};Ns.freshElement=dL;Ns.nonFreshElement=uL;Ns.elementWithTag=Ly;Ns.text=hL;Ns.forceWrite=fL;var pL={br:!0,hr:!0,img:!0,input:!0};function gL(n){return n.children.length===0&&pL[n.tag.tagName]}Ns.isVoidElement=gL});var Dk=J((XQ,wk)=>{"use strict";var _k=(dt(),pt(ut)),df=Oy();function mL(n){return vk(xk(n))}function vk(n){var e=[];return n.map(bL).forEach(function(t){By(e,t)}),e}function bL(n){return _L[n.type](n)}var _L={element:yL,text:yk,forceWrite:yk};function yL(n){return df.elementWithTag(n.tag,vk(n.children))}function yk(n){return n}function By(n,e){var t=n[n.length-1];e.type==="element"&&!e.tag.fresh&&t&&t.type==="element"&&e.tag.matchesElement(t.tag)?(e.tag.separator&&By(t.children,df.text(e.tag.separator)),e.children.forEach(function(i){By(t.children,i)})):n.push(e)}function xk(n){return vL(n,function(e){return xL[e.type](e)})}function vL(n,e){return _k.flatten(_k.map(n,e),!0)}var xL={element:DL,text:EL,forceWrite:wL};function wL(n){return[n]}function DL(n){var e=xk(n.children);return e.length===0&&!df.isVoidElement(n)?[]:[df.elementWithTag(n.tag,e)]}function EL(n){return n.value.length===0?[]:[n]}wk.exports=mL});var El=J(Vr=>{"use strict";var co=Oy();Vr.freshElement=co.freshElement;Vr.nonFreshElement=co.nonFreshElement;Vr.elementWithTag=co.elementWithTag;Vr.text=co.text;Vr.forceWrite=co.forceWrite;Vr.simplify=Dk();function Ek(n,e){e.forEach(function(t){AL(n,t)})}function AL(n,e){CL[e.type](n,e)}var CL={element:TL,text:SL,forceWrite:function(){}};function TL(n,e){co.isVoidElement(e)?n.selfClosing(e.tag.tagName,e.tag.attributes):(n.open(e.tag.tagName,e.tag.attributes),Ek(n,e.children),n.close(e.tag.tagName))}function SL(n,e){n.text(e.value)}Vr.write=Ek});var Dl=J(lo=>{"use strict";var Wy=(dt(),pt(ut)),kL=El();lo.topLevelElement=FL;lo.elements=jy;lo.element=Vy;function FL(n,e){return jy([Vy(n,e,{fresh:!0})])}function jy(n){return new Ak(n.map(function(e){return Wy.isString(e)?Vy(e):e}))}function Ak(n){this._elements=n}Ak.prototype.wrap=function(e){for(var t=e(),i=this._elements.length-1;i>=0;i--)t=this._elements[i].wrapNodes(t);return t};function Vy(n,e,t){return t=t||{},new hf(n,e,t)}function hf(n,e,t){var i={};Wy.isArray(n)?(n.forEach(function(r){i[r]=!0}),n=n[0]):i[n]=!0,this.tagName=n,this.tagNames=i,this.attributes=e||{},this.fresh=t.fresh,this.separator=t.separator}hf.prototype.matchesElement=function(n){return this.tagNames[n.tagName]&&Wy.isEqual(this.attributes||{},n.attributes||{})};hf.prototype.wrap=function(e){return this.wrapNodes(e())};hf.prototype.wrapNodes=function(e){return[kL.elementWithTag(this,e)]};lo.empty=jy([]);lo.ignore={wrap:function(){return[]}}});var zy=J(Al=>{"use strict";var IL=(dt(),pt(ut)),UL=Yi(),PL=El();Al.imgElement=Ck;function Ck(n){return function(e,t){return UL.when(n(e)).then(function(i){var r={};return e.altText&&(r.alt=e.altText),IL.extend(r,i),[PL.freshElement("img",r)]})}}Al.inline=Al.imgElement;Al.dataUri=Ck(function(n){return n.readAsBase64String().then(function(e){return{src:"data:"+n.contentType+";base64,"+e}})})});var Fk=J(kk=>{"use strict";var Tk=(dt(),pt(ut));kk.writer=RL;function RL(n){return n=n||{},n.prettyPrint?ML():Sk()}var ff={div:!0,p:!0,ul:!0,li:!0};function ML(){var n=0,e="  ",t=[],i=!0,r=!1,s=Sk();function a(g,m){ff[g]&&f(),t.push(g),s.open(g,m),ff[g]&&n++,i=!1}function o(g){ff[g]&&(n--,f()),t.pop(),s.close(g)}function c(g){h();var m=p()?g:g.replace(`
`,`
`+e);s.text(m)}function u(g,m){f(),s.selfClosing(g,m)}function d(){return t.length===0||ff[t[t.length-1]]}function h(){r||(f(),r=!0)}function f(){if(r=!1,!i&&d()&&!p()){s._append(`
`);for(var g=0;g<n;g++)s._append(e)}}function p(){return Tk.some(t,function(g){return g==="pre"})}return{asString:s.asString,open:a,close:o,text:c,selfClosing:u}}function Sk(){var n=[];function e(c,u){var d=r(u);n.push("<"+c+d+">")}function t(c){n.push("</"+c+">")}function i(c,u){var d=r(u);n.push("<"+c+d+" />")}function r(c){return Tk.map(c,function(u,d){return" "+d+'="'+LL(u)+'"'}).join("")}function s(c){n.push(NL(c))}function a(c){n.push(c)}function o(){return n.join("")}return{asString:o,open:e,close:t,text:s,selfClosing:i,_append:a}}function NL(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LL(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}});var Nk=J(Mk=>{"use strict";var OL=(dt(),pt(ut));function Ik(n){return pf(n,n)}function pf(n,e){return function(){return{start:n,end:e}}}function BL(n){var e=n.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function WL(n){var e=n.src||"",t=n.alt||"";return e||t?{start:"!["+t+"]("+e+")"}:{}}function Uk(n){return function(e,t){return{start:t?`
`:"",end:t?"":`
`,list:{isOrdered:n.isOrdered,indent:t?t.indent+1:0,count:0}}}}function jL(n,e,t){e=e||{indent:0,isOrdered:!1,count:0},e.count++,t.hasClosed=!1;var i=e.isOrdered?e.count+".":"-",r=Rk("	",e.indent)+i+" ";return{start:r,end:function(){if(!t.hasClosed)return t.hasClosed=!0,`
`}}}var Pk={p:pf("",`

`),br:pf("",`  
`),ul:Uk({isOrdered:!1}),ol:Uk({isOrdered:!0}),li:jL,strong:Ik("__"),em:Ik("*"),a:BL,img:WL};(function(){for(var n=1;n<=6;n++)Pk["h"+n]=pf(Rk("#",n)+" ",`

`)})();function Rk(n,e){return new Array(e+1).join(n)}function VL(){var n=[],e=[],t=null,i={};function r(d,h){h=h||{};var f=Pk[d]||function(){return{}},p=f(h,t,i);e.push({end:p.end,list:t}),p.list&&(t=p.list);var g=p.anchorPosition==="before";g&&s(h),n.push(p.start||""),g||s(h)}function s(d){d.id&&n.push('<a id="'+d.id+'"></a>')}function a(d){var h=e.pop();t=h.list;var f=OL.isFunction(h.end)?h.end():h.end;n.push(f||"")}function o(d,h){r(d,h),a(d)}function c(d){n.push(zL(d))}function u(){return n.join("")}return{asString:u,open:r,close:a,text:c,selfClosing:o}}Mk.writer=VL;function zL(n){return n.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}});var Ok=J(Lk=>{"use strict";var HL=Fk(),qL=Nk();Lk.writer=GL;function GL(n){return n=n||{},n.outputFormat==="markdown"?qL.writer():HL.writer(n)}});var Vk=J(Gy=>{"use strict";var zr=(dt(),pt(ut)),Bk=Yi(),gf=Or(),Xn=Dl(),qy=Ei(),$L=zy(),Ue=El(),XL=Ok();Gy.DocumentConverter=KL;function KL(n){return{convertToHtml:function(e){var t=zr.indexBy(e.type===gf.types.document?e.comments:[],"commentId"),i=new YL(n,t);return i.convertToHtml(e)}}}function YL(n,e){var t=1,i=[],r=[];n=zr.extend({ignoreEmptyParagraphs:!0},n);var s=n.idPrefix===void 0?"":n.idPrefix,a=n.ignoreEmptyParagraphs,o=Xn.topLevelElement("p"),c=n.styleMap||[];function u(U){var P=[],N=h(U,P,{}),G=[];jk(N,function(K){K.type==="deferred"&&G.push(K)});var Y={};return Bk.mapSeries(G,function(K){return K.value().then(function(de){Y[K.id]=de})}).then(function(){function K(ge){return Hy(ge,function(ce){return ce.type==="deferred"?Y[ce.id]:ce.children?[zr.extend({},ce,{children:K(ce.children)})]:[ce]})}var de=XL.writer({prettyPrint:n.prettyPrint,outputFormat:n.outputFormat});return Ue.write(de,Ue.simplify(K(N))),new qy.Result(de.asString(),P)})}function d(U,P,N){return Hy(U,function(G){return h(G,P,N)})}function h(U,P,N){if(!N)throw new Error("options not set");var G=M[U.type];return G?G(U,P,N):[]}function f(U,P,N){return p(U,P).wrap(function(){var G=d(U.children,P,N);return a?G:[Ue.forceWrite].concat(G)})}function p(U,P){var N=b(U);return N?N.to:(U.styleId&&P.push(Wk("paragraph",U)),o)}function g(U,P,N){var G=function(){return d(U.children,P,N)},Y=[];if(U.highlight!==null){var K=y({type:"highlight",color:U.highlight});K&&Y.push(K)}U.isSmallCaps&&Y.push(m("smallCaps")),U.isAllCaps&&Y.push(m("allCaps")),U.isStrikethrough&&Y.push(m("strikethrough","s")),U.isUnderline&&Y.push(m("underline")),U.verticalAlignment===gf.verticalAlignment.subscript&&Y.push(Xn.element("sub",{},{fresh:!1})),U.verticalAlignment===gf.verticalAlignment.superscript&&Y.push(Xn.element("sup",{},{fresh:!1})),U.isItalic&&Y.push(m("italic","em")),U.isBold&&Y.push(m("bold","strong"));var de=Xn.empty,ge=b(U);return ge?de=ge.to:U.styleId&&P.push(Wk("run",U)),Y.push(de),Y.forEach(function(ce){G=ce.wrap.bind(ce,G)}),G()}function m(U,P){var N=y({type:U});return N||(P?Xn.element(P,{},{fresh:!1}):Xn.empty)}function y(U,P){var N=b(U);return N?N.to:P}function b(U){for(var P=0;P<c.length;P++)if(c[P].from.matches(U))return c[P]}function w(U){return function(P,N){return Bk.attempt(function(){return U(P,N)}).caught(function(G){return N.push(qy.error(G)),[]})}}function _(U){return A(U.noteType,U.noteId)}function D(U){return T(U.noteType,U.noteId)}function A(U,P){return E(U+"-"+P)}function T(U,P){return E(U+"-ref-"+P)}function E(U){return s+U}var k=Xn.elements([Xn.element("table",{},{fresh:!0})]);function S(U,P,N){return y(U,k).wrap(function(){return C(U,P,N)})}function C(U,P,N){var G=zr.findIndex(U.children,function(ge){return!ge.type===gf.types.tableRow||!ge.isHeader});G===-1&&(G=U.children.length);var Y;if(G===0)Y=d(U.children,P,zr.extend({},N,{isTableHeader:!1}));else{var K=d(U.children.slice(0,G),P,zr.extend({},N,{isTableHeader:!0})),de=d(U.children.slice(G),P,zr.extend({},N,{isTableHeader:!1}));Y=[Ue.freshElement("thead",{},K),Ue.freshElement("tbody",{},de)]}return[Ue.forceWrite].concat(Y)}function L(U,P,N){var G=d(U.children,P,N);return[Ue.freshElement("tr",{},[Ue.forceWrite].concat(G))]}function x(U,P,N){var G=N.isTableHeader?"th":"td",Y=d(U.children,P,N),K={};return U.colSpan!==1&&(K.colspan=U.colSpan.toString()),U.rowSpan!==1&&(K.rowspan=U.rowSpan.toString()),[Ue.freshElement(G,K,[Ue.forceWrite].concat(Y))]}function B(U,P,N){return y(U,Xn.ignore).wrap(function(){var G=e[U.commentId],Y=r.length+1,K="["+JL(G)+Y+"]";return r.push({label:K,comment:G}),[Ue.freshElement("a",{href:"#"+A("comment",U.commentId),id:T("comment",U.commentId)},[Ue.text(K)])]})}function q(U,P,N){var G=U.label,Y=U.comment,K=d(Y.body,P,N).concat([Ue.nonFreshElement("p",{},[Ue.text(" "),Ue.freshElement("a",{href:"#"+T("comment",Y.commentId)},[Ue.text("\u2191")])])]);return[Ue.freshElement("dt",{id:A("comment",Y.commentId)},[Ue.text("Comment "+G)]),Ue.freshElement("dd",{},K)]}function H(U,P,N){return I(U).wrap(function(){return[]})}function I(U){var P=b(U);return P?P.to:U.breakType==="line"?Xn.topLevelElement("br"):Xn.empty}var M={document:function(U,P,N){var G=d(U.children,P,N),Y=i.map(function(de){return U.notes.resolve(de)}),K=d(Y,P,N);return G.concat([Ue.freshElement("ol",{},K),Ue.freshElement("dl",{},Hy(r,function(de){return q(de,P,N)}))])},paragraph:f,run:g,text:function(U,P,N){return[Ue.text(U.value)]},tab:function(U,P,N){return[Ue.text("	")]},hyperlink:function(U,P,N){var G=U.anchor?"#"+E(U.anchor):U.href,Y={href:G};U.targetFrame!=null&&(Y.target=U.targetFrame);var K=d(U.children,P,N);return[Ue.nonFreshElement("a",Y,K)]},checkbox:function(U){var P={type:"checkbox"};return U.checked&&(P.checked="checked"),[Ue.freshElement("input",P)]},bookmarkStart:function(U,P,N){var G=Ue.freshElement("a",{id:E(U.name)},[Ue.forceWrite]);return[G]},noteReference:function(U,P,N){i.push(U);var G=Ue.freshElement("a",{href:"#"+_(U),id:D(U)},[Ue.text("["+t+++"]")]);return[Ue.freshElement("sup",{},[G])]},note:function(U,P,N){var G=d(U.body,P,N),Y=Ue.elementWithTag(Xn.element("p",{},{fresh:!1}),[Ue.text(" "),Ue.freshElement("a",{href:"#"+D(U)},[Ue.text("\u2191")])]),K=G.concat([Y]);return Ue.freshElement("li",{id:_(U)},K)},commentReference:B,comment:q,image:ZL(w(n.convertImage||$L.dataUri)),table:S,tableRow:L,tableCell:x,break:H};return{convertToHtml:u}}var QL=1;function ZL(n){return function(e,t,i){return[{type:"deferred",id:QL++,value:function(){return n(e,t,i)}}]}}function Wk(n,e){return qy.warning("Unrecognised "+n+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function Hy(n,e){return zr.flatten(n.map(e),!0)}function jk(n,e){n.forEach(function(t){e(t),t.children&&jk(t.children,e)})}var JL=Gy.commentAuthorLabel=function(e){return e.authorInitials||""}});var qk=J(Hk=>{"use strict";var eO=Or();function zk(n){if(n.type==="text")return n.value;if(n.type===eO.types.tab)return"	";var e=n.type==="paragraph"?`

`:"";return(n.children||[]).map(zk).join("")+e}Hk.convertElementToRawText=zk});var $k=J((iZ,Gk)=>{"use strict";var uo=Gk.exports=function(n,e){this._tokens=n,this._startIndex=e||0};uo.prototype.head=function(){return this._tokens[this._startIndex]};uo.prototype.tail=function(n){return new uo(this._tokens,this._startIndex+1)};uo.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};uo.prototype.end=function(){return this._tokens[this._tokens.length-1]};uo.prototype.to=function(n){var e=this.head().source,t=n.head()||n.end();return e.to(t.source)}});var Kk=J(Xk=>{"use strict";var tO=$k();Xk.Parser=function(n){var e=function(t,i){return t(new tO(i))};return{parseTokens:e}}});var Qk=J(ai=>{"use strict";ai.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return ai.none},flatMap:function(){return ai.none},filter:function(){return ai.none},toArray:function(){return[]},orElse:Yk,valueOrElse:Yk});function Yk(n){return typeof n=="function"?n():n}ai.some=function(n){return new Un(n)};var Un=function(n){this._value=n};Un.prototype.value=function(){return this._value};Un.prototype.isNone=function(){return!1};Un.prototype.isSome=function(){return!0};Un.prototype.map=function(n){return new Un(n(this._value))};Un.prototype.flatMap=function(n){return n(this._value)};Un.prototype.filter=function(n){return n(this._value)?this:ai.none};Un.prototype.toArray=function(){return[this._value]};Un.prototype.orElse=function(n){return this};Un.prototype.valueOrElse=function(n){return this._value};ai.isOption=function(n){return n===ai.none||n instanceof Un};ai.fromNullable=function(n){return n==null?ai.none:new Un(n)}});var mf=J((aZ,Zk)=>{"use strict";Zk.exports={failure:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new $t({status:"failure",remaining:e,errors:n})},error:function(n,e){if(n.length<1)throw new Error("Failure must have errors");return new $t({status:"error",remaining:e,errors:n})},success:function(n,e,t){return new $t({status:"success",value:n,source:t,remaining:e,errors:[]})},cut:function(n){return new $t({status:"cut",remaining:n,errors:[]})}};var $t=function(n){this._value=n.value,this._status=n.status,this._hasValue=n.value!==void 0,this._remaining=n.remaining,this._source=n.source,this._errors=n.errors};$t.prototype.map=function(n){return this._hasValue?new $t({value:n(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};$t.prototype.changeRemaining=function(n){return new $t({value:this._value,status:this._status,remaining:n,source:this._source,errors:this._errors})};$t.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};$t.prototype.isFailure=function(){return this._status==="failure"};$t.prototype.isError=function(){return this._status==="error"};$t.prototype.isCut=function(){return this._status==="cut"};$t.prototype.value=function(){return this._value};$t.prototype.remaining=function(){return this._remaining};$t.prototype.source=function(){return this._source};$t.prototype.errors=function(){return this._errors}});var $y=J(Jk=>{"use strict";Jk.error=function(n){return new bf(n)};var bf=function(n){this.expected=n.expected,this.actual=n.actual,this._location=n.location};bf.prototype.describe=function(){var n=this._location?this._location.describe()+`:
`:"";return n+"Expected "+this.expected+`
but got `+this.actual};bf.prototype.lineNumber=function(){return this._location.lineNumber()};bf.prototype.characterNumber=function(){return this._location.characterNumber()}});var tF=J(eF=>{"use strict";var cZ=eF.fromArray=function(n){var e=0,t=function(){return e<n.length};return new Ls({hasNext:t,next:function(){if(t())return n[e++];throw new Error("No more elements")}})},Ls=function(n){this._iterator=n};Ls.prototype.map=function(n){var e=this._iterator;return new Ls({hasNext:function(){return e.hasNext()},next:function(){return n(e.next())}})};Ls.prototype.filter=function(n){var e=this._iterator,t=!1,i=!1,r,s=function(){if(!t)for(t=!0,i=!1;e.hasNext()&&!i;)r=e.next(),i=n(r)};return new Ls({hasNext:function(){return s(),i},next:function(){s();var a=r;return t=!1,a}})};Ls.prototype.first=function(){var n=this._iterator;return this._iterator.hasNext()?n.next():null};Ls.prototype.toArray=function(){for(var n=[];this._iterator.hasNext();)n.push(this._iterator.next());return n}});var Xy=J(Be=>{"use strict";var _f=(dt(),pt(ut)),nF=Qk(),Kn=mf(),iF=$y(),nO=tF();Be.token=function(n,e){var t=e!==void 0;return function(i){var r=i.head();if(r&&r.name===n&&(!t||r.value===e))return Kn.success(r.value,i.tail(),r.source);var s=sF({name:n,value:e});return aF(i,s)}};Be.tokenOfType=function(n){return Be.token(n)};Be.firstOf=function(n,e){return _f.isArray(e)||(e=Array.prototype.slice.call(arguments,1)),function(t){return nO.fromArray(e).map(function(i){return i(t)}).filter(function(i){return i.isSuccess()||i.isError()}).first()||aF(t,n)}};Be.then=function(n,e){return function(t){var i=n(t);return i.map||console.log(i),i.map(e)}};Be.sequence=function(){var n=Array.prototype.slice.call(arguments,0),e=function(i){var r=_f.foldl(n,function(a,o){var c=a.result,u=a.hasCut;if(!c.isSuccess())return{result:c,hasCut:u};var d=o(c.remaining());if(d.isCut())return{result:c,hasCut:!0};if(d.isSuccess()){var h;o.isCaptured?h=c.value().withValue(o,d.value()):h=c.value();var f=d.remaining(),p=i.to(f);return{result:Kn.success(h,f,p),hasCut:u}}else return u?{result:Kn.error(d.errors(),d.remaining()),hasCut:u}:{result:d,hasCut:u}},{result:Kn.success(new Cl,i),hasCut:!1}).result,s=i.to(r.remaining());return r.map(function(a){return a.withValue(Be.sequence.source,s)})};e.head=function(){var i=_f.find(n,t);return Be.then(e,Be.sequence.extract(i))},e.map=function(i){return Be.then(e,function(r){return i.apply(this,r.toArray())})};function t(i){return i.isCaptured}return e};var Cl=function(n,e){this._values=n||{},this._valuesArray=e||[]};Cl.prototype.withValue=function(n,e){if(n.captureName&&n.captureName in this._values)throw new Error('Cannot add second value for capture "'+n.captureName+'"');var t=_f.clone(this._values);t[n.captureName]=e;var i=this._valuesArray.concat([e]);return new Cl(t,i)};Cl.prototype.get=function(n){if(n.captureName in this._values)return this._values[n.captureName];throw new Error('No value for capture "'+n.captureName+'"')};Cl.prototype.toArray=function(){return this._valuesArray};Be.sequence.capture=function(n,e){var t=function(){return n.apply(this,arguments)};return t.captureName=e,t.isCaptured=!0,t};Be.sequence.extract=function(n){return function(e){return e.get(n)}};Be.sequence.applyValues=function(n){var e=Array.prototype.slice.call(arguments,1);return function(t){var i=e.map(function(r){return t.get(r)});return n.apply(this,i)}};Be.sequence.source={captureName:"\u2603source\u2603"};Be.sequence.cut=function(){return function(n){return Kn.cut(n)}};Be.optional=function(n){return function(e){var t=n(e);return t.isSuccess()?t.map(nF.some):t.isFailure()?Kn.success(nF.none,e):t}};Be.zeroOrMoreWithSeparator=function(n,e){return rF(n,e,!1)};Be.oneOrMoreWithSeparator=function(n,e){return rF(n,e,!0)};var iO=Be.zeroOrMore=function(n){return function(e){for(var t=[],i;(i=n(e))&&i.isSuccess();)e=i.remaining(),t.push(i.value());return i.isError()?i:Kn.success(t,e)}};Be.oneOrMore=function(n){return Be.oneOrMoreWithSeparator(n,rO)};function rO(n){return Kn.success(null,n)}var rF=function(n,e,t){return function(i){var r=n(i);if(r.isSuccess()){var s=Be.sequence.capture(n,"main"),a=iO(Be.then(Be.sequence(e,s),Be.sequence.extract(s))),o=a(r.remaining());return Kn.success([r.value()].concat(o.value()),o.remaining())}else return t||r.isError()?r:Kn.success([],i)}};Be.leftAssociative=function(n,e,t){var i;t?i=[{func:t,rule:e}]:i=e,i=i.map(function(s){return Be.then(s.rule,function(a){return function(o,c){return s.func(o,a,c)}})});var r=Be.firstOf.apply(null,["rules"].concat(i));return function(s){var a=s,o=n(s);if(!o.isSuccess())return o;for(var c=r(o.remaining());c.isSuccess();){var u=c.remaining(),d=a.to(c.remaining()),h=c.value();o=Kn.success(h(o.value(),d),u,d),c=r(o.remaining())}return c.isError()?c:o}};Be.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)};Be.nonConsuming=function(n){return function(e){return n(e).changeRemaining(e)}};var sF=function(n){return n.value?n.name+' "'+n.value+'"':n.name};function aF(n,e){var t,i=n.head();return i?t=iF.error({expected:e,actual:sF(i),location:i.source}):t=iF.error({expected:e,actual:"end of tokens"}),Kn.failure([t],n)}});var Ky=J((hZ,oF)=>{"use strict";var dZ=oF.exports=function(n,e){var t={asString:function(){return n},range:function(i,r){return new Os(n,e,i,r)}};return t},Os=function(n,e,t,i){this._string=n,this._description=e,this._startIndex=t,this._endIndex=i};Os.prototype.to=function(n){return new Os(this._string,this._description,this._startIndex,n._endIndex)};Os.prototype.describe=function(){var n=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+n.lineNumber+`
Character number: `+n.characterNumber};Os.prototype.lineNumber=function(){return this._position().lineNumber};Os.prototype.characterNumber=function(){return this._position().characterNumber};Os.prototype._position=function(){for(var n=this,e=0,t=function(){return n._string.indexOf(`
`,e)},i=1;t()!==-1&&t()<this._startIndex;)e=t()+1,i+=1;var r=this._startIndex-e+1;return{lineNumber:i,characterNumber:r}}});var Yy=J((fZ,cF)=>{"use strict";cF.exports=function(n,e,t){this.name=n,this.value=e,t&&(this.source=t)}});var uF=J(yf=>{"use strict";var lF=Xy(),sO=mf();yf.parser=function(n,e,t){var i={rule:o,leftAssociative:c,rightAssociative:u},r=new Qy(t.map(a)),s=lF.firstOf(n,e);function a(f){return{name:f.name,rule:aO(f.ruleBuilder.bind(null,i))}}function o(){return d(r)}function c(f){return d(r.untilExclusive(f))}function u(f){return d(r.untilInclusive(f))}function d(f){return h.bind(null,f)}function h(f,p){var g=s(p);return g.isSuccess()?f.apply(g):g}return i};function Qy(n){function e(a){return new Qy(n.slice(0,i().indexOf(a)))}function t(a){return new Qy(n.slice(0,i().indexOf(a)+1))}function i(){return n.map(function(a){return a.name})}function r(a){for(var o,c;;)if(o=s(a.remaining()),o.isSuccess())c=a.source().to(o.source()),a=sO.success(o.value()(a.value(),c),o.remaining(),c);else return o.isFailure()?a:o}function s(a){return lF.firstOf("infix",n.map(function(o){return o.rule}))(a)}return{apply:r,untilExclusive:e,untilInclusive:t}}yf.infix=function(n,e){function t(i){return yf.infix(n,function(r){var s=e(r);return function(a){var o=s(a);return o.map(function(c){return function(u,d){return i(u,c,d)}})}})}return{name:n,ruleBuilder:e,map:t}};var aO=function(n){var e;return function(t){return e||(e=n()),e(t)}}});var hF=J(dF=>{"use strict";var Zy=Yy(),oO=Ky();dF.RegexTokeniser=cO;function cO(n){n=n.map(function(r){return{name:r.name,regex:new RegExp(r.regex.source,"g")}});function e(r,s){for(var a=new oO(r,s),o=0,c=[];o<r.length;){var u=t(r,o,a);o=u.endIndex,c.push(u.token)}return c.push(i(r,a)),c}function t(r,s,a){for(var o=0;o<n.length;o++){var c=n[o].regex;c.lastIndex=s;var u=c.exec(r);if(u){var h=s+u[0].length;if(u.index===s&&h>s){var d=u[1],f=new Zy(n[o].name,d,a.range(s,h));return{token:f,endIndex:h}}}}var h=s+1,f=new Zy("unrecognisedCharacter",r.substring(s,h),a.range(s,h));return{token:f,endIndex:h}}function i(r,s){return new Zy("end",null,s.range(r.length,r.length))}return{tokenise:e}}});var Jy=J(ki=>{"use strict";ki.Parser=Kk().Parser;ki.rules=Xy();ki.errors=$y();ki.results=mf();ki.StringSource=Ky();ki.Token=Yy();ki.bottomUp=uF();ki.RegexTokeniser=hF().RegexTokeniser;ki.rule=function(n){var e;return function(t){return e||(e=n()),e(t)}}});var pF=J(Wt=>{"use strict";Wt.paragraph=lO;Wt.run=uO;Wt.table=dO;Wt.bold=new oi("bold");Wt.italic=new oi("italic");Wt.underline=new oi("underline");Wt.strikethrough=new oi("strikethrough");Wt.allCaps=new oi("allCaps");Wt.smallCaps=new oi("smallCaps");Wt.highlight=hO;Wt.commentReference=new oi("commentReference");Wt.lineBreak=new vf({breakType:"line"});Wt.pageBreak=new vf({breakType:"page"});Wt.columnBreak=new vf({breakType:"column"});Wt.equalTo=pO;Wt.startsWith=gO;function lO(n){return new oi("paragraph",n)}function uO(n){return new oi("run",n)}function dO(n){return new oi("table",n)}function hO(n){return new fF(n)}function oi(n,e){e=e||{},this._elementType=n,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}oi.prototype.matches=function(n){return n.type===this._elementType&&(this._styleId===void 0||n.styleId===this._styleId)&&(this._styleName===void 0||n.styleName&&this._styleName.operator(this._styleName.operand,n.styleName))&&(this._listIndex===void 0||fO(n,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===n.breakType)};function fF(n){n=n||{},this._color=n.color}fF.prototype.matches=function(n){return n.type==="highlight"&&(this._color===void 0||n.color===this._color)};function vf(n){n=n||{},this._breakType=n.breakType}vf.prototype.matches=function(n){return n.type==="break"&&(this._breakType===void 0||n.breakType===this._breakType)};function fO(n,e,t){return n.numbering&&n.numbering.level==e&&n.numbering.isOrdered==t}function pO(n){return{operator:mO,operand:n}}function gO(n){return{operator:bO,operand:n}}function mO(n,e){return n.toUpperCase()===e.toUpperCase()}function bO(n,e){return e.toUpperCase().indexOf(n.toUpperCase())===0}});var bF=J(mF=>{"use strict";var _O=Jy(),yO=_O.RegexTokeniser;mF.tokenise=vO;var gF="'((?:\\\\.|[^'])*)";function vO(n){var e="(?:[a-zA-Z\\-_]|\\\\.)",t=new yO([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(gF+"'")},{name:"unterminated-string",regex:new RegExp(gF)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return t.tokenise(n)}});var xF=J(Df=>{"use strict";var xO=(dt(),pt(ut)),re=Jy(),Xt=pF(),xf=Dl(),wO=bF().tokenise,ev=Ei();Df.readHtmlPath=CO;Df.readDocumentMatcher=AO;Df.readStyle=DO;function DO(n){return tv(RO,n)}function EO(){return re.rules.sequence(re.rules.sequence.capture(_F()),re.rules.tokenOfType("whitespace"),re.rules.tokenOfType("arrow"),re.rules.sequence.capture(re.rules.optional(re.rules.sequence(re.rules.tokenOfType("whitespace"),re.rules.sequence.capture(yF())).head())),re.rules.tokenOfType("end")).map(function(n,e){return{from:n,to:e.valueOrElse(xf.empty)}})}function AO(n){return tv(_F(),n)}function _F(){var n=re.rules.sequence,e=function(T,E){return re.rules.then(re.rules.token("identifier",T),function(){return E})},t=e("p",Xt.paragraph),i=e("r",Xt.run),r=re.rules.firstOf("p or r or table",t,i),s=re.rules.sequence(re.rules.tokenOfType("dot"),re.rules.sequence.cut(),re.rules.sequence.capture(wf)).map(function(T){return{styleId:T}}),a=re.rules.firstOf("style name matcher",re.rules.then(re.rules.sequence(re.rules.tokenOfType("equals"),re.rules.sequence.cut(),re.rules.sequence.capture(ho)).head(),function(T){return{styleName:Xt.equalTo(T)}}),re.rules.then(re.rules.sequence(re.rules.tokenOfType("startsWith"),re.rules.sequence.cut(),re.rules.sequence.capture(ho)).head(),function(T){return{styleName:Xt.startsWith(T)}})),o=re.rules.sequence(re.rules.tokenOfType("open-square-bracket"),re.rules.sequence.cut(),re.rules.token("identifier","style-name"),re.rules.sequence.capture(a),re.rules.tokenOfType("close-square-bracket")).head(),c=re.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),u=n(re.rules.tokenOfType("colon"),n.capture(c),n.cut(),re.rules.tokenOfType("open-paren"),n.capture(TO),re.rules.tokenOfType("close-paren")).map(function(T,E){return{list:{isOrdered:T.isOrdered,levelIndex:E-1}}});function d(T){var E=re.rules.firstOf.apply(re.rules.firstOf,["matcher suffix"].concat(T)),k=re.rules.zeroOrMore(E);return re.rules.then(k,function(S){var C={};return S.forEach(function(L){xO.extend(C,L)}),C})}var h=n(n.capture(r),n.capture(d([s,o,u]))).map(function(T,E){return T(E)}),f=n(re.rules.token("identifier","table"),n.capture(d([s,o]))).map(function(T){return Xt.table(T)}),p=e("b",Xt.bold),g=e("i",Xt.italic),m=e("u",Xt.underline),y=e("strike",Xt.strikethrough),b=e("all-caps",Xt.allCaps),w=e("small-caps",Xt.smallCaps),_=n(re.rules.token("identifier","highlight"),re.rules.sequence.capture(re.rules.optional(re.rules.sequence(re.rules.tokenOfType("open-square-bracket"),re.rules.sequence.cut(),re.rules.token("identifier","color"),re.rules.tokenOfType("equals"),re.rules.sequence.capture(ho),re.rules.tokenOfType("close-square-bracket")).head()))).map(function(T){return Xt.highlight({color:T.valueOrElse(void 0)})}),D=e("comment-reference",Xt.commentReference),A=n(re.rules.token("identifier","br"),n.cut(),re.rules.tokenOfType("open-square-bracket"),re.rules.token("identifier","type"),re.rules.tokenOfType("equals"),n.capture(ho),re.rules.tokenOfType("close-square-bracket")).map(function(T){switch(T){case"line":return Xt.lineBreak;case"page":return Xt.pageBreak;case"column":return Xt.columnBreak;default:}});return re.rules.firstOf("element type",h,f,p,g,m,y,b,w,_,D,A)}function CO(n){return tv(yF(),n)}function yF(){var n=re.rules.sequence.capture,e=re.rules.tokenOfType("whitespace"),t=re.rules.then(re.rules.optional(re.rules.sequence(re.rules.tokenOfType("colon"),re.rules.token("identifier","fresh"))),function(a){return a.map(function(){return!0}).valueOrElse(!1)}),i=re.rules.then(re.rules.optional(re.rules.sequence(re.rules.tokenOfType("colon"),re.rules.token("identifier","separator"),re.rules.tokenOfType("open-paren"),n(ho),re.rules.tokenOfType("close-paren")).head()),function(a){return a.valueOrElse("")}),r=re.rules.oneOrMoreWithSeparator(wf,re.rules.tokenOfType("choice")),s=re.rules.sequence(n(r),n(re.rules.zeroOrMore(IO)),n(t),n(i)).map(function(a,o,c,u){var d={},h={};return o.forEach(function(f){f.append&&d[f.name]?d[f.name]+=" "+f.value:d[f.name]=f.value}),c&&(h.fresh=!0),u&&(h.separator=u),xf.element(a,d,h)});return re.rules.firstOf("html path",re.rules.then(re.rules.tokenOfType("bang"),function(){return xf.ignore}),re.rules.then(re.rules.zeroOrMoreWithSeparator(s,re.rules.sequence(e,re.rules.tokenOfType("gt"),e)),xf.elements))}var wf=re.rules.then(re.rules.tokenOfType("identifier"),vF),TO=re.rules.tokenOfType("integer"),ho=re.rules.then(re.rules.tokenOfType("string"),vF),SO={n:`
`,r:"\r",t:"	"};function vF(n){return n.replace(/\\(.)/g,function(e,t){return SO[t]||t})}var kO=re.rules.sequence(re.rules.tokenOfType("open-square-bracket"),re.rules.sequence.cut(),re.rules.sequence.capture(wf),re.rules.tokenOfType("equals"),re.rules.sequence.capture(ho),re.rules.tokenOfType("close-square-bracket")).map(function(n,e){return{name:n,value:e,append:!1}}),FO=re.rules.sequence(re.rules.tokenOfType("dot"),re.rules.sequence.cut(),re.rules.sequence.capture(wf)).map(function(n){return{name:"class",value:n,append:!0}}),IO=re.rules.firstOf("attribute or class",kO,FO);function tv(n,e){var t=wO(e),i=re.Parser(),r=i.parseTokens(n,t);return r.isSuccess()?ev.success(r.value()):new ev.Result(null,[ev.warning(UO(e,r))])}function UO(n,e){return"Did not understand this style mapping, so ignored it: "+n+`
`+e.errors().map(PO).join(`
`)}function PO(n){return"Error was at character number "+n.characterNumber()+": Expected "+n.expected+" but got "+n.actual}var RO=EO()});var EF=J(Ef=>{"use strict";Ef.readOptions=LO;var DF=(dt(),pt(ut)),MO=Ef._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],NO=Ef._standardOptions={externalFileAccess:!1,transformDocument:OO,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function LO(n){return n=n||{},DF.extend({},NO,n,{customStyleMap:wF(n.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(wF(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(MO)),e}})}function wF(n){return n?DF.isString(n)?n.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):n:[]}function OO(n){return n}});var TF=J(CF=>{"use strict";var AF=Yi(),BO=ty();CF.openZip=WO;function WO(n){return n.arrayBuffer?AF.resolve(BO.openArrayBuffer(n.arrayBuffer)):AF.reject(new Error("Could not find file in options"))}});var kF=J(SF=>{"use strict";var jO=Dl(),VO=El();SF.element=zO;function zO(n){return function(e){return VO.elementWithTag(jO.element(n),[e])}}});var IF=J(ci=>{"use strict";var HO=(dt(),pt(ut)),FF=fk(),nv=mk(),qO=Vk().DocumentConverter,GO=qk().convertElementToRawText,$O=xF().readStyle,XO=EF().readOptions,Af=TF(),KO=Ei().Result;ci.convertToHtml=YO;ci.convertToMarkdown=QO;ci.convert=iv;ci.extractRawText=t5;ci.images=zy();ci.transforms=Sy();ci.underline=kF();ci.embedStyleMap=n5;ci.readEmbeddedStyleMap=ZO;function YO(n,e){return iv(n,e)}function QO(n,e){var t=Object.create(e||{});return t.outputFormat="markdown",iv(n,t)}function iv(n,e){return e=XO(e),Af.openZip(n).tap(function(t){return nv.readStyleMap(t).then(function(i){e.embeddedStyleMap=i})}).then(function(t){return FF.read(t,n,e).then(function(i){return i.map(e.transformDocument)}).then(function(i){return JO(i,e)})})}function ZO(n){return Af.openZip(n).then(nv.readStyleMap)}function JO(n,e){var t=e5(e.readStyleMap()),i=HO.extend({},e,{styleMap:t.value}),r=new qO(i);return n.flatMapThen(function(s){return t.flatMapThen(function(a){return r.convertToHtml(s)})})}function e5(n){return KO.combine((n||[]).map($O)).map(function(e){return e.filter(function(t){return!!t})})}function t5(n){return Af.openZip(n).then(FF.read).then(function(e){return e.map(GO)})}function n5(n,e){return Af.openZip(n).tap(function(t){return nv.writeStyleMap(t,e)}).then(function(t){return t.toArrayBuffer()}).then(function(t){return{toArrayBuffer:function(){return t},toBuffer:function(){return Buffer.from(t)}}})}ci.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)}});var Kx="@firebase/database",Yx="1.0.20";var um="";function XI(n){um=n}var gg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vt(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Lu(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var mg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var T2=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gg(e)}}catch{}return new mg},is=T2("localStorage"),bg=T2("sessionStorage");var aa=new Ex("@firebase/database"),KI=(function(){let n=1;return function(){return n++}})(),S2=function(n){let e=xx(n),t=new vx;t.update(e);let i=t.digest();return cx.encodeByteArray(i)},rc=function(...n){let e="";for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=rc.apply(null,i):typeof i=="object"?e+=vt(i):e+=i,e+=" "}return e},rs=null,Qx=!0,YI=function(n,e){ae(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(aa.logLevel=Dx.VERBOSE,rs=aa.log.bind(aa),e&&bg.set("logging_enabled",!0)):typeof n=="function"?rs=n:(rs=null,bg.remove("logging_enabled"))},Rt=function(...n){if(Qx===!0&&(Qx=!1,rs===null&&bg.get("logging_enabled")===!0&&YI(!0)),rs){let e=rc.apply(null,n);rs(e)}},sc=function(n){return function(...e){Rt(n,...e)}},_g=function(...n){let e="FIREBASE INTERNAL ERROR: "+rc(...n);aa.error(e)},Vi=function(...n){let e=`FIREBASE FATAL ERROR: ${rc(...n)}`;throw aa.error(e),new Error(e)},en=function(...n){let e="FIREBASE WARNING: "+rc(...n);aa.warn(e)},QI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&en("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dm=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ZI=function(n){if(bi()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ca="[MIN_NAME]",ss="[MAX_NAME]",cs=function(n,e){if(n===e)return 0;if(n===ca||e===ss)return-1;if(e===ca||n===ss)return 1;{let t=Zx(n),i=Zx(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},JI=function(n,e){return n===e?0:n<e?-1:1},Lo=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+vt(e))},hm=function(n){if(typeof n!="object"||n===null)return vt(n);let e=[];for(let i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=vt(e[i]),t+=":",t+=hm(n[e[i]]);return t+="}",t},k2=function(n,e){let t=n.length;if(t<=e)return[n];let i=[];for(let r=0;r<t;r+=e)r+e>t?i.push(n.substring(r,t)):i.push(n.substring(r,r+e));return i};function Mt(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var F2=function(n){ae(!dm(n),"Invalid JSON number");let e=11,t=52,i=(1<<e-1)-1,r,s,a,o,c;n===0?(s=0,a=0,r=1/n===-1/0?1:0):(r=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(o=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=o+i,a=Math.round(n*Math.pow(2,t-o)-Math.pow(2,t))):(s=0,a=Math.round(n/Math.pow(2,1-i-t))));let u=[];for(c=t;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();let d=u.join(""),h="";for(c=0;c<64;c+=8){let f=parseInt(d.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},eU=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tU=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nU(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}var iU=new RegExp("^-?(0*)\\d{1,10}$"),rU=-2147483648,sU=2147483647,Zx=function(n){if(iU.test(n)){let e=Number(n);if(e>=rU&&e<=sU)return e}return null},ma=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw en("Exception was thrown by user callback.",t),e},Math.floor(0))}},aU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vo=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var yg=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Tx(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){en(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var vg=class{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Rt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',en(e)}},zo=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Wu="5",I2="v",U2="s",P2="r",R2="f",M2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,N2="ls",L2="p",xg="ac",O2="websocket",B2="long_polling";var ju=class{constructor(e,t,i,r,s=!1,a="",o=!1,c=!1,u=null){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=c,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function oU(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function W2(n,e,t){ae(typeof e=="string","typeof type must == string"),ae(typeof t=="object","typeof params must == object");let i;if(e===O2)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===B2)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oU(n)&&(t.ns=n.namespace);let r=[];return Mt(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}var wg=class{constructor(){this.counters_={}}incrementCounter(e,t=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ux(this.counters_)}};var cg={},lg={};function fm(n){let e=n.toString();return cg[e]||(cg[e]=new wg),cg[e]}function cU(n,e){let t=n.toString();return lg[t]||(lg[t]=e()),lg[t]}var Dg=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ma(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Jx="start",lU="close",uU="pLPCommand",dU="pRTLPCB",j2="id",V2="pw",z2="ser",hU="cb",fU="seg",pU="ts",gU="d",mU="dframe",H2=1870,q2=30,bU=H2-q2,_U=25e3,yU=3e4,Eg=class n{constructor(e,t,i,r,s,a,o){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sc(e),this.stats_=fm(t),this.urlFn=c=>(this.appCheckToken&&(c[xg]=this.appCheckToken),W2(t,B2,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Dg(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yU)),ZI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ag((...s)=>{let[a,o,c,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===Jx)this.id=o,this.password=c;else if(a===lU)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{let[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);let i={};i[Jx]="t",i[z2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[hU]=this.scriptTagHolder.uniqueCallbackIdentifier),i[I2]=Wu,this.transportSessionId&&(i[U2]=this.transportSessionId),this.lastSessionId&&(i[N2]=this.lastSessionId),this.applicationId&&(i[L2]=this.applicationId),this.appCheckToken&&(i[xg]=this.appCheckToken),typeof location<"u"&&location.hostname&&M2.test(location.hostname)&&(i[P2]=R2);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return bi()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!eU()&&!tU()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=vt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=lx(t),r=k2(i,bU);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(bi())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[mU]="t",i[j2]=e,i[V2]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=vt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Ag=class n{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,bi())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=KI(),window[uU+this.uniqueCallbackIdentifier]=e,window[dU+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Rt("frame writing exception"),o.stack&&Rt(o.stack),Rt(o)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Rt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[j2]=this.myID,e[V2]=this.myPW,e[z2]=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q2+i.length<=H2;){let a=this.pendingSegs.shift();i=i+"&"+fU+r+"="+a.seg+"&"+pU+r+"="+a.ts+"&"+gU+r+"="+a.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(_U)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,t){bi()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Rt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var vU=16384,xU=45e3,Vu=null;typeof MozWebSocket<"u"?Vu=MozWebSocket:typeof WebSocket<"u"&&(Vu=WebSocket);var Oo=(()=>{class n{constructor(t,i,r,s,a,o,c){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sc(this.connId),this.stats_=fm(i),this.connURL=n.connectionURL_(i,o,c,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,a){let o={};return o[I2]=Wu,!bi()&&typeof location<"u"&&location.hostname&&M2.test(location.hostname)&&(o[P2]=R2),i&&(o[U2]=i),r&&(o[N2]=r),s&&(o[xg]=s),a&&(o[L2]=a),W2(t,O2,o)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let r;if(bi()){let s=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Wu}/${um}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let a=process.env,o=this.connURL.indexOf("wss://")===0?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Vu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Vu!==null&&!n.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Lu(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(ae(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=vt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=k2(i,vU);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xU))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),wU=(()=>{class n{static get ALL_TRANSPORTS(){return[Eg,Oo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){let i=Oo&&Oo.isAvailable(),r=i&&!Oo.previouslyFailed();if(t.webSocketOnly&&(i||en("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Oo];else{let s=this.transports_=[];for(let a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),DU=6e4,EU=5e3,AU=10*1024,CU=100*1024,ug="t",e2="d",TU="s",t2="r",SU="e",n2="o",i2="a",r2="n",s2="p",kU="h",Cg=class{constructor(e,t,i,r,s,a,o,c,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sc("c:"+this.id+":"),this.transportManager_=new wU(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>CU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>AU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ug in e){let t=e[ug];t===i2?this.upgradeIfSecondaryHealthy_():t===t2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===n2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Lo("t",e),i=Lo("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:s2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:i2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Lo("t",e),i=Lo("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Lo(ug,e);if(e2 in e){let i=e[e2];if(t===kU){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===r2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===TU?this.onConnectionShutdown_(i):t===t2?this.onReset_(i):t===SU?_g("Server Error: "+i):t===n2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_g("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Wu!==i&&en("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Vo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(DU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:s2,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var zu=class{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}};var Hu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});let r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){ae(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var qu=class n extends Hu{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ae(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var a2=32,o2=768,We=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Oe(){return new We("")}function Ae(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Er(n){return n.pieces_.length-n.pieceNum_}function Qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new We(n.pieces_,e)}function pm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function FU(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function $o(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function G2(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new We(e,0)}function ct(n,e){let t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof We)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new We(t,0)}function ke(n){return n.pieceNum_>=n.pieces_.length}function Jt(n,e){let t=Ae(n),i=Ae(e);if(t===null)return e;if(t===i)return Jt(Qe(n),Qe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function IU(n,e){let t=$o(n,0),i=$o(e,0);for(let r=0;r<t.length&&r<i.length;r++){let s=cs(t[r],i[r]);if(s!==0)return s}return t.length===i.length?0:t.length<i.length?-1:1}function gm(n,e){if(Er(n)!==Er(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function jn(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Er(n)>Er(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}var Tg=class{constructor(e,t){this.errorPrefix_=t,this.parts_=$o(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mo(this.parts_[i]);$2(this)}};function UU(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Mo(e),$2(n)}function PU(n){let e=n.parts_.pop();n.byteLength_-=Mo(e),n.parts_.length>0&&(n.byteLength_-=1)}function $2(n){if(n.byteLength_>o2)throw new Error(n.errorPrefix_+"has a key path longer than "+o2+" bytes ("+n.byteLength_+").");if(n.parts_.length>a2)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+a2+") or object contains a cycle "+ns(n))}function ns(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var Sg=class n extends Hu{static getInstance(){return new n}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return ae(e==="visible","Unknown event type: "+e),[this.visible_]}};var Bo=1e3,RU=300*1e3,c2=30*1e3,MU=1.3,NU=3e4,LU="server_kill",l2=3,mm=(()=>{class n extends zu{constructor(t,i,r,s,a,o,c,u){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=n.nextPersistentConnectionId_++,this.log_=sc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bo,this.maxReconnectDelay_=RU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!bi())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sg.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let s=++this.requestNumber_,a={r:s,a:t,b:i};this.log_(vt(a)),ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();let i=new Uo,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{let c=o.d;o.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),i.promise}listen(t,i,r,s){this.initConnection_();let a=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ae(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(o).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);let a={p:r},o="q";t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest(o,a,c=>{let u=c.d,d=c.s;n.warnOnListenWarnings_(u,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",c),d!=="ok"&&this.removeListen_(r,s),t.onComplete&&t.onComplete(d,u))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&Jn(t,"w")){let r=ts(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();en(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||bx(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=c2)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=mx(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{let a=s.s,o=s.d||"error";this.authToken_===t&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ae(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);let a={p:t},o="n";s&&(a.q=r,a.t=s),this.sendRequest(o,a)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){let a={p:i,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,a){this.initConnection_();let o={p:i,d:r};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:t,request:o,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let a=r.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+vt(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):_g("Unrecognized action received from server: "+vt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NU&&(this.reconnectDelay_=Bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MU)}this.onConnectStatus_(!1)}establishConnection_(){return Z(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,a=this.lastSessionId,o=!1,c=null,u=function(){c?c.close():(o=!0,r())},d=function(f){ae(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:u,sendRequest:d};let h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,p]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Rt("getToken() completed but was canceled"):(Rt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,c=new Cg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,g=>{en(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(LU)},a))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&en(f),u())}}})}interrupt(t){Rt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Rt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],ag(this.interruptReasons_)&&(this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(a=>hm(a)).join("$"):r="default";let s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){let r=new We(t).toString(),s;if(this.listens.has(r)){let a=this.listens.get(r);s=a.get(i),a.delete(i),a.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Rt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=l2&&(this.reconnectDelay_=c2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Rt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=l2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";bi()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+um.replace(/\./g,"-")]=1,sg()?t["framework.cordova"]=1:gx()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=qu.getInstance().currentlyOnline();return ag(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),Ce=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var la=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let i=new Ce(ca,e),r=new Ce(ca,t);return this.compare(i,r)!==0}minPost(){return Ce.MIN}};var Bu,Gu=class extends la{static get __EMPTY_NODE(){return Bu}static set __EMPTY_NODE(e){Bu=e}compare(e,t){return cs(e.name,t.name)}isDefinedOn(e){throw na("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ce.MIN}maxPost(){return new Ce(ss,Bu)}makePost(e,t){return ae(typeof e=="string","KeyIndex indexValue must always be a string."),new Ce(e,Bu)}toString(){return".key"}},oa=new Gu;var sa=class{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},ei=(()=>{class n{constructor(t,i,r,s,a){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Vn.EMPTY_NODE,this.right=a??Vn.EMPTY_NODE}copy(t,i,r,s,a){return new n(t??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this,a=r(t,s.key);return a<0?s=s.copy(null,null,null,s.left.insert(t,i,r),null):a===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Vn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),kg=class{copy(e,t,i,r,s){return this}insert(e,t,i){return new ei(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Vn=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ei.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ei.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new sa(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new sa(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new sa(this.root_,null,this.comparator_,!0,e)}};Vn.EMPTY_NODE=new kg;function OU(n,e){return cs(n.name,e.name)}function bm(n,e){return cs(n,e)}var Fg;function BU(n){Fg=n}var X2=function(n){return typeof n=="number"?"number:"+F2(n):"string:"+n},K2=function(n){if(n.isLeafNode()){let e=n.val();ae(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else ae(n===Fg||n.isEmpty(),"priority of unexpected type.");ae(n===Fg||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var u2,ua=(()=>{class n{static set __childrenNodeConstructor(t){u2=t}static get __childrenNodeConstructor(){return u2}constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,ae(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),K2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ke(t)?this:Ae(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=Ae(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(ae(r!==".priority"||Er(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+X2(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=F2(this.value_):t+=this.value_,this.lazyHash_=S2(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(ae(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return ae(s>=0,"Unknown leaf type: "+i),ae(a>=0,"Unknown leaf type: "+r),s===a?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),Y2,Q2;function WU(n){Y2=n}function jU(n){Q2=n}var Ig=class extends la{compare(e,t){let i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return s===0?cs(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ce.MIN}maxPost(){return new Ce(ss,new ua("[PRIORITY-POST]",Q2))}makePost(e,t){let i=Y2(e);return new Ce(t,new ua("[PRIORITY-POST]",i))}toString(){return".priority"}},lt=new Ig;var VU=Math.log(2),Ug=class{constructor(e){let t=s=>parseInt(Math.log(s)/VU,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},$u=function(n,e,t,i){n.sort(e);let r=function(c,u){let d=u-c,h,f;if(d===0)return null;if(d===1)return h=n[c],f=t?t(h):h,new ei(f,h.node,ei.BLACK,null,null);{let p=parseInt(d/2,10)+c,g=r(c,p),m=r(p+1,u);return h=n[p],f=t?t(h):h,new ei(f,h.node,ei.BLACK,g,m)}},s=function(c){let u=null,d=null,h=n.length,f=function(g,m){let y=h-g,b=h;h-=g;let w=r(y+1,b),_=n[y],D=t?t(_):_;p(new ei(D,_.node,m,null,w))},p=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<c.count;++g){let m=c.nextBitIsOne(),y=Math.pow(2,c.count-(g+1));m?f(y,ei.BLACK):(f(y,ei.BLACK),f(y,ei.RED))}return d},a=new Ug(n.length),o=s(a);return new Vn(i||e,o)};var dg,ra={},da=class n{static get Default(){return ae(ra&&lt,"ChildrenNode.ts has not been loaded"),dg=dg||new n({".priority":ra},{".priority":lt}),dg}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=ts(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vn?t:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,t){ae(e!==oa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=t.getIterator(Ce.Wrap),a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();let o;r?o=$u(i,e.getCompare()):o=ra;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let d=Object.assign({},this.indexes_);return d[c]=o,new n(d,u)}addToIndexes(e,t){let i=Po(this.indexes_,(r,s)=>{let a=ts(this.indexSet_,s);if(ae(a,"Missing index implementation for "+s),r===ra)if(a.isDefinedOn(e.node)){let o=[],c=t.getIterator(Ce.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&o.push(u),u=c.getNext();return o.push(e),$u(o,a.getCompare())}else return ra;else{let o=t.get(e.name),c=r;return o&&(c=c.remove(new Ce(e.name,o))),c.insert(e,e.node)}});return new n(i,this.indexSet_)}removeFromIndexes(e,t){let i=Po(this.indexes_,r=>{if(r===ra)return r;{let s=t.get(e.name);return s?r.remove(new Ce(e.name,s)):r}});return new n(i,this.indexSet_)}};var Wo,xe=(()=>{class n{static get EMPTY_NODE(){return Wo||(Wo=new n(new Vn(bm),null,da.Default))}constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&K2(this.priorityNode_),this.children_.isEmpty()&&ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?Wo:i}}getChild(t){let i=Ae(t);return i===null?this:this.getImmediateChild(i).getChild(Qe(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(ae(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new Ce(t,i),s,a;i.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(r,this.children_));let o=s.isEmpty()?Wo:this.priorityNode_;return new n(s,o,a)}}updateChild(t,i){let r=Ae(t);if(r===null)return i;{ae(Ae(t)!==".priority"||Er(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(r).updateChild(Qe(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,s=0,a=!0;if(this.forEachChild(lt,(o,c)=>{i[o]=c.val(t),r++,a&&n.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):a=!1}),!t&&a&&s<2*r){let o=[];for(let c in i)o[c]=i[c];return o}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+X2(this.getPriority().val())+":"),this.forEachChild(lt,(i,r)=>{let s=r.hash();s!==""&&(t+=":"+i+":"+s)}),this.lazyHash_=t===""?"":S2(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let s=this.resolveIndex_(r);if(s){let a=s.getPredecessorKey(new Ce(t,i));return a?a.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new Ce(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new Ce(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,Ce.Wrap),a=s.peek();for(;a!=null&&i.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,Ce.Wrap),a=s.peek();for(;a!=null&&i.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ac?-1:0}withIndex(t){if(t===oa||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===oa||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(lt),s=i.getIterator(lt),a=r.getNext(),o=s.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=r.getNext(),o=s.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===oa?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),Pg=class extends xe{constructor(){super(new Vn(bm),xe.EMPTY_NODE,da.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}},ac=new Pg;Object.defineProperties(Ce,{MIN:{value:new Ce(ca,xe.EMPTY_NODE)},MAX:{value:new Ce(ss,ac)}});Gu.__EMPTY_NODE=xe.EMPTY_NODE;ua.__childrenNodeConstructor=xe;BU(ac);jU(ac);var zU=!0;function Et(n,e=null){if(n===null)return xe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ae(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new ua(t,Et(e))}if(!(n instanceof Array)&&zU){let t=[],i=!1;if(Mt(n,(a,o)=>{if(a.substring(0,1)!=="."){let c=Et(o);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),t.push(new Ce(a,c)))}}),t.length===0)return xe.EMPTY_NODE;let s=$u(t,OU,a=>a.name,bm);if(i){let a=$u(t,lt.getCompare());return new xe(s,Et(e),new da({".priority":a},{".priority":lt}))}else return new xe(s,Et(e),da.Default)}else{let t=xe.EMPTY_NODE;return Mt(n,(i,r)=>{if(Jn(n,i)&&i.substring(0,1)!=="."){let s=Et(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Et(e))}}WU(Et);var Rg=class extends la{constructor(e){super(),this.indexPath_=e,ae(!ke(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return s===0?cs(e.name,t.name):s}makePost(e,t){let i=Et(e),r=xe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ce(t,r)}maxPost(){let e=xe.EMPTY_NODE.updateChild(this.indexPath_,ac);return new Ce(ss,e)}toString(){return $o(this.indexPath_,0).join("/")}};var Mg=class extends la{compare(e,t){let i=e.node.compareTo(t.node);return i===0?cs(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ce.MIN}maxPost(){return Ce.MAX}makePost(e,t){let i=Et(e);return new Ce(t,i)}toString(){return".value"}},HU=new Mg;function Z2(n){return{type:"value",snapshotNode:n}}function ha(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Xo(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ko(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function qU(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var Yo=class{constructor(e){this.index_=e}updateChild(e,t,i,r,s,a){ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=e.getImmediateChild(t);return o.getChild(r).equals(i.getChild(r))&&o.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange(Xo(t,o)):ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(ha(t,i)):a.trackChildChange(Ko(t,i,o))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(lt,(r,s)=>{t.hasChild(r)||i.trackChildChange(Xo(r,s))}),t.isLeafNode()||t.forEachChild(lt,(r,s)=>{if(e.hasChild(r)){let a=e.getImmediateChild(r);a.equals(s)||i.trackChildChange(Ko(r,s,a))}else i.trackChildChange(ha(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?xe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Xu=class n{constructor(e){this.indexedFilter_=new Yo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,a){return this.matches(new Ce(t,i))||(i=xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=xe.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(xe.EMPTY_NODE);let s=this;return t.forEachChild(lt,(a,o)=>{s.matches(new Ce(a,o))||(r=r.updateImmediateChild(a,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var Ng=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Xu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,a){return this.rangedFilter_.matches(new Ce(t,i))||(i=xe.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,a):this.fullLimitUpdateChild_(e,t,i,s,a)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=xe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){let o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))r=r.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(xe.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let a=0;for(;s.hasNext();){let o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:r=r.updateImmediateChild(o.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let a;if(this.reverse_){let h=this.index_.getCompare();a=(f,p)=>h(p,f)}else a=this.index_.getCompare();let o=e;ae(o.numChildren()===this.limit_,"");let c=new Ce(t,i),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(o.hasChild(t)){let h=o.getImmediateChild(t),f=r.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===t||o.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);let p=f==null?1:a(f,c);if(d&&!i.isEmpty()&&p>=0)return s?.trackChildChange(Ko(t,i,h)),o.updateImmediateChild(t,i);{s?.trackChildChange(Xo(t,h));let m=o.updateImmediateChild(t,xe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(ha(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:d&&a(u,c)>=0?(s!=null&&(s.trackChildChange(Xo(u.name,u.node)),s.trackChildChange(ha(t,i))),o.updateImmediateChild(t,i).updateImmediateChild(u.name,xe.EMPTY_NODE)):e}};var Lg=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ca}hasEnd(){return this.endSet_}getIndexEndValue(){return ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===lt}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function GU(n){return n.loadsAllData()?new Yo(n.getIndex()):n.hasLimit()?new Ng(n):new Xu(n)}function d2(n){let e={};if(n.isDefault())return e;let t;if(n.index_===lt?t="$priority":n.index_===HU?t="$value":n.index_===oa?t="$key":(ae(n.index_ instanceof Rg,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=vt(t),n.startSet_){let i=n.startAfterSet_?"startAfter":"startAt";e[i]=vt(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+vt(n.indexStartName_))}if(n.endSet_){let i=n.endBeforeSet_?"endBefore":"endAt";e[i]=vt(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+vt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function h2(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==lt&&(e.i=n.index_.toString()),e}var Og=class n extends zu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=sc("p:rest:"),this.listens_={}}listen(e,t,i,r){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let a=n.getListenId_(e,i),o={};this.listens_[a]=o;let c=d2(e._queryParams);this.restRequest_(s+".json",c,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,i),ts(this.listens_,a)===o){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(e,t){let i=n.getListenId_(e,t);delete this.listens_[i]}get(e){let t=d2(e._queryParams),i=e._path.toString(),r=new Uo;return this.restRequest_(i+".json",t,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(i,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);let a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+yx(t);this.log_("Sending REST request for "+a);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(i&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let c=null;if(o.status>=200&&o.status<300){try{c=Lu(o.responseText)}catch{en("Failed to parse JSON response for "+a+": "+o.responseText)}i(null,c)}else o.status!==401&&o.status!==404&&en("Got unsuccessful REST response for "+a+" Status: "+o.status),i(o.status);i=null}},o.open("GET",a,!0),o.send()})}};var Bg=class{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Ku(){return{value:null,children:new Map}}function J2(n,e,t){if(ke(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let i=Ae(e);n.children.has(i)||n.children.set(i,Ku());let r=n.children.get(i);e=Qe(e),J2(r,e,t)}}function Wg(n,e,t){n.value!==null?t(e,n.value):$U(n,(i,r)=>{let s=new We(e.toString()+"/"+i);Wg(r,s,t)})}function $U(n,e){n.children.forEach((t,i)=>{e(i,t)})}var jg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Mt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}};var f2=10*1e3,XU=30*1e3,KU=300*1e3,Vg=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jg(e);let i=f2+(XU-f2)*Math.random();Vo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),t={},i=!1;Mt(e,(r,s)=>{s>0&&Jn(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Vo(this.reportStats_.bind(this),Math.floor(Math.random()*2*KU))}};var _i=(function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n})(_i||{});function _m(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ym(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var zg=class n{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=_i.ACK_USER_WRITE,this.source=_m()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new We(e));return new n(Oe(),t,this.revert)}}else return ae(Ae(this.path)===e,"operationForChild called for unrelated child."),new n(Qe(this.path),this.affectedTree,this.revert)}};var Yu=class n{constructor(e,t){this.source=e,this.path=t,this.type=_i.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new n(this.source,Oe()):new n(this.source,Qe(this.path))}};var fa=class n{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=_i.OVERWRITE}operationForChild(e){return ke(this.path)?new n(this.source,Oe(),this.snap.getImmediateChild(e)):new n(this.source,Qe(this.path),this.snap)}};var Qo=class n{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=_i.MERGE}operationForChild(e){if(ke(this.path)){let t=this.children.subtree(new We(e));return t.isEmpty()?null:t.value?new fa(this.source,Oe(),t.value):new n(this.source,Oe(),t)}else return ae(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,Qe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var yi=class{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;let t=Ae(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Hg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function YU(n,e,t,i){let r=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(qU(a.childName,a.snapshotNode))}),jo(n,r,"child_removed",e,i,t),jo(n,r,"child_added",e,i,t),jo(n,r,"child_moved",s,i,t),jo(n,r,"child_changed",e,i,t),jo(n,r,"value",e,i,t),r}function jo(n,e,t,i,r,s){let a=i.filter(o=>o.type===t);a.sort((o,c)=>ZU(n,o,c)),a.forEach(o=>{let c=QU(n,o,s);r.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(c,n.query_))})})}function QU(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function ZU(n,e,t){if(e.childName==null||t.childName==null)throw na("Should only compare child_ events.");let i=new Ce(e.childName,e.snapshotNode),r=new Ce(t.childName,t.snapshotNode);return n.index_.compare(i,r)}function ld(n,e){return{eventCache:n,serverCache:e}}function Ho(n,e,t,i){return ld(new yi(e,t,i),n.serverCache)}function ew(n,e,t,i){return ld(n.eventCache,new yi(e,t,i))}function Qu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function as(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var hg,JU=()=>(hg||(hg=new Vn(JI)),hg),tn=class n{static fromObject(e){let t=new n(null);return Mt(e,(i,r)=>{t=t.set(new We(i),r)}),t}constructor(e,t=JU()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Oe(),value:this.value};if(ke(e))return null;{let i=Ae(e),r=this.children.get(i);if(r!==null){let s=r.findRootMostMatchingPathAndValue(Qe(e),t);return s!=null?{path:ct(new We(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{let t=Ae(e),i=this.children.get(t);return i!==null?i.subtree(Qe(e)):new n(null)}}set(e,t){if(ke(e))return new n(t,this.children);{let i=Ae(e),s=(this.children.get(i)||new n(null)).set(Qe(e),t),a=this.children.insert(i,s);return new n(this.value,a)}}remove(e){if(ke(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=Ae(e),i=this.children.get(t);if(i){let r=i.remove(Qe(e)),s;return r.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,r),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(ke(e))return this.value;{let t=Ae(e),i=this.children.get(t);return i?i.get(Qe(e)):null}}setTree(e,t){if(ke(e))return t;{let i=Ae(e),s=(this.children.get(i)||new n(null)).setTree(Qe(e),t),a;return s.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,s),new n(this.value,a)}}fold(e){return this.fold_(Oe(),e)}fold_(e,t){let i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ct(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Oe(),t)}findOnPath_(e,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(ke(e))return null;{let s=Ae(e),a=this.children.get(s);return a?a.findOnPath_(Qe(e),ct(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Oe(),t)}foreachOnPath_(e,t,i){if(ke(e))return this;{this.value&&i(t,this.value);let r=Ae(e),s=this.children.get(r);return s?s.foreachOnPath_(Qe(e),ct(t,r),i):new n(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ct(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}};var ti=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new tn(null))}};function qo(n,e,t){if(ke(e))return new ti(new tn(t));{let i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,s=i.value,a=Jt(r,e);return s=s.updateChild(a,t),new ti(n.writeTree_.set(r,s))}else{let r=new tn(t),s=n.writeTree_.setTree(e,r);return new ti(s)}}}function qg(n,e,t){let i=n;return Mt(t,(r,s)=>{i=qo(i,ct(e,r),s)}),i}function p2(n,e){if(ke(e))return ti.empty();{let t=n.writeTree_.setTree(e,new tn(null));return new ti(t)}}function Gg(n,e){return ls(n,e)!=null}function ls(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Jt(t.path,e)):null}function g2(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(lt,(i,r)=>{e.push(new Ce(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ce(i,r.value))}),e}function wr(n,e){if(ke(e))return n;{let t=ls(n,e);return t!=null?new ti(new tn(t)):new ti(n.writeTree_.subtree(e))}}function $g(n){return n.writeTree_.isEmpty()}function pa(n,e){return tw(Oe(),n.writeTree_,e)}function tw(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(ae(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):t=tw(ct(n,r),s,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(ct(n,".priority"),i)),t}}function ud(n,e){return sw(e,n)}function eP(n,e,t,i,r){ae(i>n.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=qo(n.visibleWrites,e,t)),n.lastWriteId=i}function tP(n,e,t,i){ae(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=qg(n.visibleWrites,e,t),n.lastWriteId=i}function nP(n,e){for(let t=0;t<n.allWrites.length;t++){let i=n.allWrites[t];if(i.writeId===e)return i}return null}function iP(n,e){let t=n.allWrites.findIndex(o=>o.writeId===e);ae(t>=0,"removeWrite called with nonexistent writeId.");let i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){let o=n.allWrites[a];o.visible&&(a>=t&&rP(o,i.path)?r=!1:jn(i.path,o.path)&&(s=!0)),a--}if(r){if(s)return sP(n),!0;if(i.snap)n.visibleWrites=p2(n.visibleWrites,i.path);else{let o=i.children;Mt(o,c=>{n.visibleWrites=p2(n.visibleWrites,ct(i.path,c))})}return!0}else return!1}function rP(n,e){if(n.snap)return jn(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&jn(ct(n.path,t),e))return!0;return!1}function sP(n){n.visibleWrites=nw(n.allWrites,aP,Oe()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function aP(n){return n.visible}function nw(n,e,t){let i=ti.empty();for(let r=0;r<n.length;++r){let s=n[r];if(e(s)){let a=s.path,o;if(s.snap)jn(t,a)?(o=Jt(t,a),i=qo(i,o,s.snap)):jn(a,t)&&(o=Jt(a,t),i=qo(i,Oe(),s.snap.getChild(o)));else if(s.children){if(jn(t,a))o=Jt(t,a),i=qg(i,o,s.children);else if(jn(a,t))if(o=Jt(a,t),ke(o))i=qg(i,Oe(),s.children);else{let c=ts(s.children,Ae(o));if(c){let u=c.getChild(Qe(o));i=qo(i,Oe(),u)}}}else throw na("WriteRecord should have .snap or .children")}}return i}function iw(n,e,t,i,r){if(!i&&!r){let s=ls(n.visibleWrites,e);if(s!=null)return s;{let a=wr(n.visibleWrites,e);if($g(a))return t;if(t==null&&!Gg(a,Oe()))return null;{let o=t||xe.EMPTY_NODE;return pa(a,o)}}}else{let s=wr(n.visibleWrites,e);if(!r&&$g(s))return t;if(!r&&t==null&&!Gg(s,Oe()))return null;{let a=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(jn(u.path,e)||jn(e,u.path))},o=nw(n.allWrites,a,e),c=t||xe.EMPTY_NODE;return pa(o,c)}}}function oP(n,e,t){let i=xe.EMPTY_NODE,r=ls(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(lt,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){let s=wr(n.visibleWrites,e);return t.forEachChild(lt,(a,o)=>{let c=pa(wr(s,new We(a)),o);i=i.updateImmediateChild(a,c)}),g2(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{let s=wr(n.visibleWrites,e);return g2(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function cP(n,e,t,i,r){ae(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=ct(e,t);if(Gg(n.visibleWrites,s))return null;{let a=wr(n.visibleWrites,s);return $g(a)?r.getChild(t):pa(a,r.getChild(t))}}function lP(n,e,t,i){let r=ct(e,t),s=ls(n.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(t)){let a=wr(n.visibleWrites,r);return pa(a,i.getNode().getImmediateChild(t))}else return null}function uP(n,e){return ls(n.visibleWrites,e)}function dP(n,e,t,i,r,s,a){let o,c=wr(n.visibleWrites,e),u=ls(c,Oe());if(u!=null)o=u;else if(t!=null)o=pa(c,t);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){let d=[],h=a.getCompare(),f=s?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a),p=f.getNext();for(;p&&d.length<r;)h(p,i)!==0&&d.push(p),p=f.getNext();return d}else return[]}function hP(){return{visibleWrites:ti.empty(),allWrites:[],lastWriteId:-1}}function Zu(n,e,t,i){return iw(n.writeTree,n.treePath,e,t,i)}function xm(n,e){return oP(n.writeTree,n.treePath,e)}function m2(n,e,t,i){return cP(n.writeTree,n.treePath,e,t,i)}function Ju(n,e){return uP(n.writeTree,ct(n.treePath,e))}function fP(n,e,t,i,r,s){return dP(n.writeTree,n.treePath,e,t,i,r,s)}function wm(n,e,t){return lP(n.writeTree,n.treePath,e,t)}function rw(n,e){return sw(ct(n.treePath,e),n.writeTree)}function sw(n,e){return{treePath:n,writeTree:e}}var Xg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,i=e.childName;ae(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ae(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let s=r.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(i,Ko(i,e.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(i,Xo(i,r.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(i,ha(i,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(i,Ko(i,e.snapshotNode,r.oldSnap));else throw na("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var Kg=class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}},aw=new Kg,Zo=class{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wm(this.writes_,e,i)}}getChildAfterChild(e,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:as(this.viewCache_),s=fP(this.writes_,r,t,1,i,e);return s.length===0?null:s[0]}};function pP(n){return{filter:n}}function gP(n,e){ae(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ae(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function mP(n,e,t,i,r){let s=new Xg,a,o;if(t.type===_i.OVERWRITE){let u=t;u.source.fromUser?a=Yg(n,e,u.path,u.snap,i,r,s):(ae(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!ke(u.path),a=ed(n,e,u.path,u.snap,i,r,o,s))}else if(t.type===_i.MERGE){let u=t;u.source.fromUser?a=_P(n,e,u.path,u.children,i,r,s):(ae(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=Qg(n,e,u.path,u.children,i,r,o,s))}else if(t.type===_i.ACK_USER_WRITE){let u=t;u.revert?a=xP(n,e,u.path,i,r,s):a=yP(n,e,u.path,u.affectedTree,i,r,s)}else if(t.type===_i.LISTEN_COMPLETE)a=vP(n,e,t.path,i,s);else throw na("Unknown operation type: "+t.type);let c=s.getChanges();return bP(e,a,c),{viewCache:a,changes:c}}function bP(n,e,t){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Qu(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(Z2(Qu(e)))}}function ow(n,e,t,i,r,s){let a=e.eventCache;if(Ju(i,t)!=null)return e;{let o,c;if(ke(t))if(ae(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=as(e),d=u instanceof xe?u:xe.EMPTY_NODE,h=xm(i,d);o=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let u=Zu(i,as(e));o=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=Ae(t);if(u===".priority"){ae(Er(t)===1,"Can't have a priority with additional path components");let d=a.getNode();c=e.serverCache.getNode();let h=m2(i,t,d,c);h!=null?o=n.filter.updatePriority(d,h):o=a.getNode()}else{let d=Qe(t),h;if(a.isCompleteForChild(u)){c=e.serverCache.getNode();let f=m2(i,t,a.getNode(),c);f!=null?h=a.getNode().getImmediateChild(u).updateChild(d,f):h=a.getNode().getImmediateChild(u)}else h=wm(i,u,e.serverCache);h!=null?o=n.filter.updateChild(a.getNode(),u,h,d,r,s):o=a.getNode()}}return Ho(e,o,a.isFullyInitialized()||ke(t),n.filter.filtersNodes())}}function ed(n,e,t,i,r,s,a,o){let c=e.serverCache,u,d=a?n.filter:n.filter.getIndexedFilter();if(ke(t))u=d.updateFullNode(c.getNode(),i,null);else if(d.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(t,i);u=d.updateFullNode(c.getNode(),p,null)}else{let p=Ae(t);if(!c.isCompleteForPath(t)&&Er(t)>1)return e;let g=Qe(t),y=c.getNode().getImmediateChild(p).updateChild(g,i);p===".priority"?u=d.updatePriority(c.getNode(),y):u=d.updateChild(c.getNode(),p,y,g,aw,null)}let h=ew(e,u,c.isFullyInitialized()||ke(t),d.filtersNodes()),f=new Zo(r,h,s);return ow(n,h,t,r,f,o)}function Yg(n,e,t,i,r,s,a){let o=e.eventCache,c,u,d=new Zo(r,e,s);if(ke(t))u=n.filter.updateFullNode(e.eventCache.getNode(),i,a),c=Ho(e,u,!0,n.filter.filtersNodes());else{let h=Ae(t);if(h===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),i),c=Ho(e,u,o.isFullyInitialized(),o.isFiltered());else{let f=Qe(t),p=o.getNode().getImmediateChild(h),g;if(ke(f))g=i;else{let m=d.getCompleteChild(h);m!=null?pm(f)===".priority"&&m.getChild(G2(f)).isEmpty()?g=m:g=m.updateChild(f,i):g=xe.EMPTY_NODE}if(p.equals(g))c=e;else{let m=n.filter.updateChild(o.getNode(),h,g,f,d,a);c=Ho(e,m,o.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function b2(n,e){return n.eventCache.isCompleteForChild(e)}function _P(n,e,t,i,r,s,a){let o=e;return i.foreach((c,u)=>{let d=ct(t,c);b2(e,Ae(d))&&(o=Yg(n,o,d,u,r,s,a))}),i.foreach((c,u)=>{let d=ct(t,c);b2(e,Ae(d))||(o=Yg(n,o,d,u,r,s,a))}),o}function _2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Qg(n,e,t,i,r,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ke(t)?u=i:u=new tn(null).setTree(t,i);let d=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){let p=e.serverCache.getNode().getImmediateChild(h),g=_2(n,p,f);c=ed(n,c,new We(h),g,r,s,a,o)}}),u.children.inorderTraversal((h,f)=>{let p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!p){let g=e.serverCache.getNode().getImmediateChild(h),m=_2(n,g,f);c=ed(n,c,new We(h),m,r,s,a,o)}}),c}function yP(n,e,t,i,r,s,a){if(Ju(r,t)!=null)return e;let o=e.serverCache.isFiltered(),c=e.serverCache;if(i.value!=null){if(ke(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return ed(n,e,t,c.getNode().getChild(t),r,s,o,a);if(ke(t)){let u=new tn(null);return c.getNode().forEachChild(oa,(d,h)=>{u=u.set(new We(d),h)}),Qg(n,e,t,u,r,s,o,a)}else return e}else{let u=new tn(null);return i.foreach((d,h)=>{let f=ct(t,d);c.isCompleteForPath(f)&&(u=u.set(d,c.getNode().getChild(f)))}),Qg(n,e,t,u,r,s,o,a)}}function vP(n,e,t,i,r){let s=e.serverCache,a=ew(e,s.getNode(),s.isFullyInitialized()||ke(t),s.isFiltered());return ow(n,a,t,i,aw,r)}function xP(n,e,t,i,r,s){let a;if(Ju(i,t)!=null)return e;{let o=new Zo(i,e,r),c=e.eventCache.getNode(),u;if(ke(t)||Ae(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Zu(i,as(e));else{let h=e.serverCache.getNode();ae(h instanceof xe,"serverChildren would be complete if leaf node"),d=xm(i,h)}d=d,u=n.filter.updateFullNode(c,d,s)}else{let d=Ae(t),h=wm(i,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),h!=null?u=n.filter.updateChild(c,d,h,Qe(t),o,s):e.eventCache.getNode().hasChild(d)?u=n.filter.updateChild(c,d,xe.EMPTY_NODE,Qe(t),o,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Zu(i,as(e)),a.isLeafNode()&&(u=n.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||Ju(i,Oe())!=null,Ho(e,u,a,n.filter.filtersNodes())}}var Zg=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Yo(i.getIndex()),s=GU(i);this.processor_=pP(s);let a=t.serverCache,o=t.eventCache,c=r.updateFullNode(xe.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode(xe.EMPTY_NODE,o.getNode(),null),d=new yi(c,a.isFullyInitialized(),r.filtersNodes()),h=new yi(u,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=ld(h,d),this.eventGenerator_=new Hg(this.query_)}get query(){return this.query_}};function wP(n){return n.viewCache_.serverCache.getNode()}function DP(n){return Qu(n.viewCache_)}function EP(n,e){let t=as(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ke(e)&&!t.getImmediateChild(Ae(e)).isEmpty())?t.getChild(e):null}function y2(n){return n.eventRegistrations_.length===0}function AP(n,e){n.eventRegistrations_.push(e)}function v2(n,e,t){let i=[];if(t){ae(e==null,"A cancel should cancel all event registrations.");let r=n.query._path;n.eventRegistrations_.forEach(s=>{let a=s.createCancelEvent(t,r);a&&i.push(a)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){let a=n.eventRegistrations_[s];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function x2(n,e,t,i){e.type===_i.MERGE&&e.source.queryId!==null&&(ae(as(n.viewCache_),"We should always have a full cache before handling merges"),ae(Qu(n.viewCache_),"Missing event cache, even though we have a server cache"));let r=n.viewCache_,s=mP(n.processor_,r,e,t,i);return gP(n.processor_,s.viewCache),ae(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,cw(n,s.changes,s.viewCache.eventCache.getNode(),null)}function CP(n,e){let t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(lt,(s,a)=>{i.push(ha(s,a))}),t.isFullyInitialized()&&i.push(Z2(t.getNode())),cw(n,i,t.getNode(),e)}function cw(n,e,t,i){let r=i?[i]:n.eventRegistrations_;return YU(n.eventGenerator_,e,t,r)}var td,nd=class{constructor(){this.views=new Map}};function TP(n){ae(!td,"__referenceConstructor has already been defined"),td=n}function SP(){return ae(td,"Reference.ts has not been loaded"),td}function kP(n){return n.views.size===0}function Dm(n,e,t,i){let r=e.source.queryId;if(r!==null){let s=n.views.get(r);return ae(s!=null,"SyncTree gave us an op for an invalid query."),x2(s,e,t,i)}else{let s=[];for(let a of n.views.values())s=s.concat(x2(a,e,t,i));return s}}function lw(n,e,t,i,r){let s=e._queryIdentifier,a=n.views.get(s);if(!a){let o=Zu(t,r?i:null),c=!1;o?c=!0:i instanceof xe?(o=xm(t,i),c=!1):(o=xe.EMPTY_NODE,c=!1);let u=ld(new yi(o,c,!1),new yi(i,r,!1));return new Zg(e,u)}return a}function FP(n,e,t,i,r,s){let a=lw(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),AP(a,t),CP(a,t)}function IP(n,e,t,i){let r=e._queryIdentifier,s=[],a=[],o=Ar(n);if(r==="default")for(let[c,u]of n.views.entries())a=a.concat(v2(u,t,i)),y2(u)&&(n.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{let c=n.views.get(r);c&&(a=a.concat(v2(c,t,i)),y2(c)&&(n.views.delete(r),c.query._queryParams.loadsAllData()||s.push(c.query)))}return o&&!Ar(n)&&s.push(new(SP())(e._repo,e._path)),{removed:s,events:a}}function uw(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Dr(n,e){let t=null;for(let i of n.views.values())t=t||EP(i,e);return t}function dw(n,e){if(e._queryParams.loadsAllData())return dd(n);{let i=e._queryIdentifier;return n.views.get(i)}}function hw(n,e){return dw(n,e)!=null}function Ar(n){return dd(n)!=null}function dd(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var id;function UP(n){ae(!id,"__referenceConstructor has already been defined"),id=n}function PP(){return ae(id,"Reference.ts has not been loaded"),id}var RP=1,rd=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tn(null),this.pendingWriteTree_=hP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function fw(n,e,t,i,r){return eP(n.pendingWriteTree_,e,t,i,r),r?ba(n,new fa(_m(),e,t)):[]}function MP(n,e,t,i){tP(n.pendingWriteTree_,e,t,i);let r=tn.fromObject(t);return ba(n,new Qo(_m(),e,r))}function xr(n,e,t=!1){let i=nP(n.pendingWriteTree_,e);if(iP(n.pendingWriteTree_,e)){let s=new tn(null);return i.snap!=null?s=s.set(Oe(),!0):Mt(i.children,a=>{s=s.set(new We(a),!0)}),ba(n,new zg(i.path,s,t))}else return[]}function oc(n,e,t){return ba(n,new fa(ym(),e,t))}function NP(n,e,t){let i=tn.fromObject(t);return ba(n,new Qo(ym(),e,i))}function LP(n,e){return ba(n,new Yu(ym(),e))}function OP(n,e,t){let i=Am(n,t);if(i){let r=Cm(i),s=r.path,a=r.queryId,o=Jt(s,e),c=new Yu(vm(a),o);return Tm(n,s,c)}else return[]}function sd(n,e,t,i,r=!1){let s=e._path,a=n.syncPointTree_.get(s),o=[];if(a&&(e._queryIdentifier==="default"||hw(a,e))){let c=IP(a,e,t,i);kP(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));let u=c.removed;if(o=c.events,!r){let d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(f,p)=>Ar(p));if(d&&!h){let f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){let p=jP(f);for(let g=0;g<p.length;++g){let m=p[g],y=m.query,b=bw(n,m);n.listenProvider_.startListening(Go(y),Jo(n,y),b.hashFn,b.onComplete)}}}!h&&u.length>0&&!i&&(d?n.listenProvider_.stopListening(Go(e),null):u.forEach(f=>{let p=n.queryToTagMap.get(hd(f));n.listenProvider_.stopListening(Go(f),p)}))}VP(n,u)}return o}function pw(n,e,t,i){let r=Am(n,i);if(r!=null){let s=Cm(r),a=s.path,o=s.queryId,c=Jt(a,e),u=new fa(vm(o),c,t);return Tm(n,a,u)}else return[]}function BP(n,e,t,i){let r=Am(n,i);if(r){let s=Cm(r),a=s.path,o=s.queryId,c=Jt(a,e),u=tn.fromObject(t),d=new Qo(vm(o),c,u);return Tm(n,a,d)}else return[]}function Jg(n,e,t,i=!1){let r=e._path,s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(f,p)=>{let g=Jt(f,r);s=s||Dr(p,g),a=a||Ar(p)});let o=n.syncPointTree_.get(r);o?(a=a||Ar(o),s=s||Dr(o,Oe())):(o=new nd,n.syncPointTree_=n.syncPointTree_.set(r,o));let c;s!=null?c=!0:(c=!1,s=xe.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((p,g)=>{let m=Dr(g,Oe());m&&(s=s.updateImmediateChild(p,m))}));let u=hw(o,e);if(!u&&!e._queryParams.loadsAllData()){let f=hd(e);ae(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");let p=zP();n.queryToTagMap.set(f,p),n.tagToQueryMap.set(p,f)}let d=ud(n.pendingWriteTree_,r),h=FP(o,e,t,d,s,c);if(!u&&!a&&!i){let f=dw(o,e);h=h.concat(HP(n,e,f))}return h}function Em(n,e,t){let r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,o)=>{let c=Jt(a,e),u=Dr(o,c);if(u)return u});return iw(r,e,s,t,!0)}function WP(n,e){let t=e._path,i=null;n.syncPointTree_.foreachOnPath(t,(u,d)=>{let h=Jt(u,t);i=i||Dr(d,h)});let r=n.syncPointTree_.get(t);r?i=i||Dr(r,Oe()):(r=new nd,n.syncPointTree_=n.syncPointTree_.set(t,r));let s=i!=null,a=s?new yi(i,!0,!1):null,o=ud(n.pendingWriteTree_,e._path),c=lw(r,e,o,s?a.getNode():xe.EMPTY_NODE,s);return DP(c)}function ba(n,e){return gw(e,n.syncPointTree_,null,ud(n.pendingWriteTree_,Oe()))}function gw(n,e,t,i){if(ke(n.path))return mw(n,e,t,i);{let r=e.get(Oe());t==null&&r!=null&&(t=Dr(r,Oe()));let s=[],a=Ae(n.path),o=n.operationForChild(a),c=e.children.get(a);if(c&&o){let u=t?t.getImmediateChild(a):null,d=rw(i,a);s=s.concat(gw(o,c,u,d))}return r&&(s=s.concat(Dm(r,n,i,t))),s}}function mw(n,e,t,i){let r=e.get(Oe());t==null&&r!=null&&(t=Dr(r,Oe()));let s=[];return e.children.inorderTraversal((a,o)=>{let c=t?t.getImmediateChild(a):null,u=rw(i,a),d=n.operationForChild(a);d&&(s=s.concat(mw(d,o,c,u)))}),r&&(s=s.concat(Dm(r,n,i,t))),s}function bw(n,e){let t=e.query,i=Jo(n,t);return{hashFn:()=>(wP(e)||xe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?OP(n,t._path,i):LP(n,t._path);{let s=nU(r,t);return sd(n,t,null,s)}}}}function Jo(n,e){let t=hd(e);return n.queryToTagMap.get(t)}function hd(n){return n._path.toString()+"$"+n._queryIdentifier}function Am(n,e){return n.tagToQueryMap.get(e)}function Cm(n){let e=n.indexOf("$");return ae(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new We(n.substr(0,e))}}function Tm(n,e,t){let i=n.syncPointTree_.get(e);ae(i,"Missing sync point for query tag that we're tracking");let r=ud(n.pendingWriteTree_,e);return Dm(i,t,r,null)}function jP(n){return n.fold((e,t,i)=>{if(t&&Ar(t))return[dd(t)];{let r=[];return t&&(r=uw(t)),Mt(i,(s,a)=>{r=r.concat(a)}),r}})}function Go(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(PP())(n._repo,n._path):n}function VP(n,e){for(let t=0;t<e.length;++t){let i=e[t];if(!i._queryParams.loadsAllData()){let r=hd(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}function zP(){return RP++}function HP(n,e,t){let i=e._path,r=Jo(n,e),s=bw(n,t),a=n.listenProvider_.startListening(Go(e),r,s.hashFn,s.onComplete),o=n.syncPointTree_.subtree(i);if(r)ae(!Ar(o.value),"If we're adding a query, it shouldn't be shadowed");else{let c=o.fold((u,d,h)=>{if(!ke(u)&&d&&Ar(d))return[dd(d).query];{let f=[];return d&&(f=f.concat(uw(d).map(p=>p.query))),Mt(h,(p,g)=>{f=f.concat(g)}),f}});for(let u=0;u<c.length;++u){let d=c[u];n.listenProvider_.stopListening(Go(d),Jo(n,d))}}return a}var em=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},tm=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=ct(this.path_,e);return new n(this.syncTree_,t)}node(){return Em(this.syncTree_,this.path_)}},qP=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},w2=function(n,e,t){if(!n||typeof n!="object")return n;if(ae(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return GP(n[".sv"],e,t);if(typeof n[".sv"]=="object")return $P(n[".sv"],e);ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},GP=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ae(!1,"Unexpected server value: "+n)}},$P=function(n,e,t){n.hasOwnProperty("increment")||ae(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let i=n.increment;typeof i!="number"&&ae(!1,"Unexpected increment value: "+i);let r=e.node();if(ae(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let a=r.getValue();return typeof a!="number"?i:a+i},_w=function(n,e,t,i){return Sm(e,new tm(t,n),i)},yw=function(n,e,t){return Sm(n,new em(e),t)};function Sm(n,e,t){let i=n.getPriority().val(),r=w2(i,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let a=n,o=w2(a.getValue(),e,t);return o!==a.getValue()||r!==a.getPriority().val()?new ua(o,Et(r)):n}else{let a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new ua(r))),a.forEachChild(lt,(o,c)=>{let u=Sm(c,e.getImmediateChild(o),t);u!==c&&(s=s.updateImmediateChild(o,u))}),s}}var ec=class{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}};function km(n,e){let t=e instanceof We?e:new We(e),i=n,r=Ae(t);for(;r!==null;){let s=ts(i.node.children,r)||{children:{},childCount:0};i=new ec(r,i,s),t=Qe(t),r=Ae(t)}return i}function _a(n){return n.node.value}function vw(n,e){n.node.value=e,nm(n)}function xw(n){return n.node.childCount>0}function XP(n){return _a(n)===void 0&&!xw(n)}function fd(n,e){Mt(n.node.children,(t,i)=>{e(new ec(t,n,i))})}function ww(n,e,t,i){t&&!i&&e(n),fd(n,r=>{ww(r,e,!0,i)}),t&&i&&e(n)}function KP(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function cc(n){return new We(n.parent===null?n.name:cc(n.parent)+"/"+n.name)}function nm(n){n.parent!==null&&YP(n.parent,n.name,n)}function YP(n,e,t){let i=XP(t),r=Jn(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,nm(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,nm(n))}var QP=/[\[\].#$\/\u0000-\u001F\u007F]/,ZP=/[\[\].#$\u0000-\u001F\u007F]/,fg=10*1024*1024,Fm=function(n){return typeof n=="string"&&n.length!==0&&!QP.test(n)},Dw=function(n){return typeof n=="string"&&n.length!==0&&!ZP.test(n)},JP=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Dw(n)},eR=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!dm(n)||n&&typeof n=="object"&&Jn(n,".sv")},Ew=function(n,e,t,i){i&&e===void 0||pd(Ro(n,"value"),e,t)},pd=function(n,e,t){let i=t instanceof We?new Tg(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+ns(i));if(typeof e=="function")throw new Error(n+"contains a function "+ns(i)+" with contents = "+e.toString());if(dm(e))throw new Error(n+"contains "+e.toString()+" "+ns(i));if(typeof e=="string"&&e.length>fg/3&&Mo(e)>fg)throw new Error(n+"contains a string greater than "+fg+" utf8 bytes "+ns(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Mt(e,(a,o)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Fm(a)))throw new Error(n+" contains an invalid key ("+a+") "+ns(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UU(i,a),pd(n,o,i),PU(i)}),r&&s)throw new Error(n+' contains ".value" child '+ns(i)+" in addition to actual children.")}},tR=function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];let s=$o(i);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!Fm(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(IU);let r=null;for(t=0;t<e.length;t++){if(i=e[t],r!==null&&jn(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},nR=function(n,e,t,i){if(i&&e===void 0)return;let r=Ro(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let s=[];Mt(e,(a,o)=>{let c=new We(a);if(pd(r,o,ct(t,c)),pm(c)===".priority"&&!eR(o))throw new Error(r+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),tR(r,s)};var Aw=function(n,e,t,i){if(!(i&&t===void 0)&&!Dw(t))throw new Error(Ro(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},iR=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Aw(n,e,t,i)},Im=function(n,e){if(Ae(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},rR=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Fm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!JP(t))throw new Error(Ro(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var im=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function gd(n,e){let t=null;for(let i=0;i<e.length;i++){let r=e[i],s=r.getPath();t!==null&&!gm(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Cw(n,e,t){gd(n,t),Tw(n,i=>gm(i,e))}function zn(n,e,t){gd(n,t),Tw(n,i=>jn(i,e)||jn(e,i))}function Tw(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){let r=n.eventLists_[i];if(r){let s=r.path;e(s)?(sR(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function sR(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let i=t.getEventRunner();rs&&Rt("event: "+t.toString()),ma(i)}}}var aR="repo_interrupt",oR=25,rm=class{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new im,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ku(),this.transactionQueueTree_=new ec,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function cR(n,e,t){if(n.stats_=fm(n.repoInfo_),n.forceRestClient_||aU())n.server_=new Og(n.repoInfo_,(i,r,s,a)=>{D2(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>E2(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new mm(n.repoInfo_,e,(i,r,s,a)=>{D2(n,i,r,s,a)},i=>{E2(n,i)},i=>{lR(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=cU(n.repoInfo_,()=>new Vg(n.stats_,n.server_)),n.infoData_=new Bg,n.infoSyncTree_=new rd({startListening:(i,r,s,a)=>{let o=[],c=n.infoData_.getNode(i._path);return c.isEmpty()||(o=oc(n.infoSyncTree_,i._path,c),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),Um(n,"connected",!1),n.serverSyncTree_=new rd({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(o,c)=>{let u=a(o,c);zn(n.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}function Sw(n){let t=n.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function md(n){return qP({timestamp:Sw(n)})}function D2(n,e,t,i,r){n.dataUpdateCount++;let s=new We(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){let c=Po(t,u=>Et(u));a=BP(n.serverSyncTree_,s,c,r)}else{let c=Et(t);a=pw(n.serverSyncTree_,s,c,r)}else if(i){let c=Po(t,u=>Et(u));a=NP(n.serverSyncTree_,s,c)}else{let c=Et(t);a=oc(n.serverSyncTree_,s,c)}let o=s;a.length>0&&(o=ga(n,s)),zn(n.eventQueue_,o,a)}function E2(n,e){Um(n,"connected",e),e===!1&&fR(n)}function lR(n,e){Mt(e,(t,i)=>{Um(n,t,i)})}function Um(n,e,t){let i=new We("/.info/"+e),r=Et(t);n.infoData_.updateSnapshot(i,r);let s=oc(n.infoSyncTree_,i,r);zn(n.eventQueue_,i,s)}function Pm(n){return n.nextWriteId_++}function uR(n,e,t){let i=WP(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(r=>{let s=Et(r).withIndex(e._queryParams.getIndex());Jg(n.serverSyncTree_,e,t,!0);let a;if(e._queryParams.loadsAllData())a=oc(n.serverSyncTree_,e._path,s);else{let o=Jo(n.serverSyncTree_,e);a=pw(n.serverSyncTree_,e._path,s,o)}return zn(n.eventQueue_,e._path,a),sd(n.serverSyncTree_,e,t,null,!0),s},r=>(lc(n,"get for query "+vt(e)+" failed: "+r),Promise.reject(new Error(r))))}function dR(n,e,t,i,r){lc(n,"set",{path:e.toString(),value:t,priority:i});let s=md(n),a=Et(t,i),o=Em(n.serverSyncTree_,e),c=yw(a,o,s),u=Pm(n),d=fw(n.serverSyncTree_,e,c,u,!0);gd(n.eventQueue_,d),n.server_.put(e.toString(),a.val(!0),(f,p)=>{let g=f==="ok";g||en("set at "+e+" failed: "+f);let m=xr(n.serverSyncTree_,u,!g);zn(n.eventQueue_,e,m),am(n,r,f,p)});let h=Mm(n,e);ga(n,h),zn(n.eventQueue_,h,[])}function hR(n,e,t,i){lc(n,"update",{path:e.toString(),value:t});let r=!0,s=md(n),a={};if(Mt(t,(o,c)=>{r=!1,a[o]=_w(ct(e,o),Et(c),n.serverSyncTree_,s)}),r)Rt("update() called with empty data.  Don't do anything."),am(n,i,"ok",void 0);else{let o=Pm(n),c=MP(n.serverSyncTree_,e,a,o);gd(n.eventQueue_,c),n.server_.merge(e.toString(),t,(u,d)=>{let h=u==="ok";h||en("update at "+e+" failed: "+u);let f=xr(n.serverSyncTree_,o,!h),p=f.length>0?ga(n,e):e;zn(n.eventQueue_,p,f),am(n,i,u,d)}),Mt(t,u=>{let d=Mm(n,ct(e,u));ga(n,d)}),zn(n.eventQueue_,e,[])}}function fR(n){lc(n,"onDisconnectEvents");let e=md(n),t=Ku();Wg(n.onDisconnect_,Oe(),(r,s)=>{let a=_w(r,s,n.serverSyncTree_,e);J2(t,r,a)});let i=[];Wg(t,Oe(),(r,s)=>{i=i.concat(oc(n.serverSyncTree_,r,s));let a=Mm(n,r);ga(n,a)}),n.onDisconnect_=Ku(),zn(n.eventQueue_,Oe(),i)}function pR(n,e,t){let i;Ae(e._path)===".info"?i=Jg(n.infoSyncTree_,e,t):i=Jg(n.serverSyncTree_,e,t),Cw(n.eventQueue_,e._path,i)}function sm(n,e,t){let i;Ae(e._path)===".info"?i=sd(n.infoSyncTree_,e,t):i=sd(n.serverSyncTree_,e,t),Cw(n.eventQueue_,e._path,i)}function gR(n){n.persistentConnection_&&n.persistentConnection_.interrupt(aR)}function lc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Rt(t,...e)}function am(n,e,t,i){e&&ma(()=>{if(t==="ok")e(null);else{let r=(t||"error").toUpperCase(),s=r;i&&(s+=": "+i);let a=new Error(s);a.code=r,e(a)}})}function kw(n,e,t){return Em(n.serverSyncTree_,e,t)||xe.EMPTY_NODE}function Rm(n,e=n.transactionQueueTree_){if(e||bd(n,e),_a(e)){let t=Iw(n,e);ae(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&mR(n,cc(e),t)}else xw(e)&&fd(e,t=>{Rm(n,t)})}function mR(n,e,t){let i=t.map(u=>u.currentWriteId),r=kw(n,e,i),s=r,a=r.hash();for(let u=0;u<t.length;u++){let d=t[u];ae(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;let h=Jt(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}let o=s.val(!0),c=e;n.server_.put(c.toString(),o,u=>{lc(n,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){let h=[];for(let f=0;f<t.length;f++)t[f].status=2,d=d.concat(xr(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&h.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();bd(n,km(n.transactionQueueTree_,e)),Rm(n,n.transactionQueueTree_),zn(n.eventQueue_,e,d);for(let f=0;f<h.length;f++)ma(h[f])}else{if(u==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{en("transaction at "+c.toString()+" failed: "+u);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=u}ga(n,e)}},a)}function ga(n,e){let t=Fw(n,e),i=cc(t),r=Iw(n,t);return bR(n,r,i),i}function bR(n,e,t){if(e.length===0)return;let i=[],r=[],a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){let c=e[o],u=Jt(t,c.path),d=!1,h;if(ae(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,h=c.abortReason,r=r.concat(xr(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=oR)d=!0,h="maxretry",r=r.concat(xr(n.serverSyncTree_,c.currentWriteId,!0));else{let f=kw(n,c.path,a);c.currentInputSnapshot=f;let p=e[o].update(f.val());if(p!==void 0){pd("transaction failed: Data returned ",p,c.path);let g=Et(p);typeof p=="object"&&p!=null&&Jn(p,".priority")||(g=g.updatePriority(f.getPriority()));let y=c.currentWriteId,b=md(n),w=yw(g,f,b);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=w,c.currentWriteId=Pm(n),a.splice(a.indexOf(y),1),r=r.concat(fw(n.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),r=r.concat(xr(n.serverSyncTree_,y,!0))}else d=!0,h="nodata",r=r.concat(xr(n.serverSyncTree_,c.currentWriteId,!0))}zn(n.eventQueue_,t,r),r=[],d&&(e[o].status=2,(function(f){setTimeout(f,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(h==="nodata"?i.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):i.push(()=>e[o].onComplete(new Error(h),!1,null))))}bd(n,n.transactionQueueTree_);for(let o=0;o<i.length;o++)ma(i[o]);Rm(n,n.transactionQueueTree_)}function Fw(n,e){let t,i=n.transactionQueueTree_;for(t=Ae(e);t!==null&&_a(i)===void 0;)i=km(i,t),e=Qe(e),t=Ae(e);return i}function Iw(n,e){let t=[];return Uw(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Uw(n,e,t){let i=_a(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);fd(e,r=>{Uw(n,r,t)})}function bd(n,e){let t=_a(e);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,vw(e,t.length>0?t:void 0)}fd(e,i=>{bd(n,i)})}function Mm(n,e){let t=cc(Fw(n,e)),i=km(n.transactionQueueTree_,e);return KP(i,r=>{pg(n,r)}),pg(n,i),ww(i,r=>{pg(n,r)}),t}function pg(n,e){let t=_a(e);if(t){let i=[],r=[],s=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(ae(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(ae(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(xr(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?vw(e,void 0):t.length=s+1,zn(n.eventQueue_,cc(e),r);for(let a=0;a<i.length;a++)ma(i[a])}}function _R(n){let e="",t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function yR(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):en(`Invalid query segment '${t}' in query '${n}'`)}return e}var A2=function(n,e){let t=vR(n),i=t.namespace;t.domain==="firebase.com"&&Vi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||QI();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new ju(t.host,t.secure,i,r,e,"",i!==t.subdomain),path:new We(t.pathString)}},vR=function(n){let e="",t="",i="",r="",s="",a=!0,o="https",c=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(o=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");d===-1&&(d=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(r=_R(n.substring(d,h)));let f=yR(n.substring(Math.min(n.length,h)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let p=e.slice(0,u);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{let g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),t=e.substring(g+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:t,subdomain:i,secure:a,scheme:o,pathString:r,namespace:s}};var C2="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xR=(function(){let n=0,e=[];return function(t){let i=t===n;n=t;let r,s=new Array(8);for(r=7;r>=0;r--)s[r]=C2.charAt(t%64),t=Math.floor(t/64);ae(t===0,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)a+=C2.charAt(e[r]);return ae(a.length===20,"nextPushId: Length should be 20."),a}})();var ad=class{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vt(this.snapshot.exportVal())}},od=class{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var tc=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var om=class n{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return ke(this._path)?null:pm(this._path)}get ref(){return new vi(this._repo,this._path)}get _queryIdentifier(){let e=h2(this._queryParams),t=hm(e);return t==="{}"?"default":t}get _queryObject(){return h2(this._queryParams)}isEqual(e){if(e=vr(e),!(e instanceof n))return!1;let t=this._repo===e._repo,i=gm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+FU(this._path)}};var vi=class n extends om{constructor(e,t){super(e,t,new Lg,!1)}get parent(){let e=G2(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},nc=class n{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new We(e),i=os(this.ref,e);return new n(this._node.getChild(t),i,lt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new n(r,os(this.ref,i),lt)))}hasChild(e){let t=new We(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Pw(n,e){return n=vr(n),n._checkNotDeleted("ref"),e!==void 0?os(n._root,e):n._root}function os(n,e){return n=vr(n),Ae(n._path)===null?iR("child","path",e,!1):Aw("child","path",e,!1),new vi(n._repo,ct(n._path,e))}function Rw(n,e){n=vr(n),Im("push",n._path),Ew("push",e,n._path,!0);let t=Sw(n._repo),i=xR(t),r=os(n,i),s=os(n,i),a;return e!=null?a=Nm(s,e).then(()=>s):a=Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}function Mw(n){return Im("remove",n._path),Nm(n,null)}function Nm(n,e){n=vr(n),Im("set",n._path),Ew("set",e,n._path,!1);let t=new Uo;return dR(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Nw(n,e){nR("update",e,n._path,!1);let t=new Uo;return hR(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Lm(n){n=vr(n);let e=new tc(()=>{}),t=new ic(e);return uR(n._repo,n,t).then(i=>new nc(i,new vi(n._repo,n._path),n._queryParams.getIndex()))}var ic=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let i=t._queryParams.getIndex();return new ad("value",this,new nc(e.snapshotNode,new vi(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new od(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},cd=class n{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new od(this,e,t):null}createEvent(e,t){ae(e.childName!=null,"Child events should have a childName.");let i=os(new vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ad(e.type,this,new nc(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function uc(n,e,t,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){let c=t,u=(d,h)=>{sm(n._repo,n,o),c(d,h)};u.userCallback=t.userCallback,u.context=t.context,t=u}let a=new tc(t,s||void 0),o=e==="value"?new ic(a):new cd(e,a);return pR(n._repo,n,o),()=>sm(n._repo,n,o)}function _d(n,e,t,i){return uc(n,"value",e,t,i)}function Om(n,e,t,i){return uc(n,"child_added",e,t,i)}function Bm(n,e,t,i){return uc(n,"child_changed",e,t,i)}function Wm(n,e,t,i){return uc(n,"child_moved",e,t,i)}function jm(n,e,t,i){return uc(n,"child_removed",e,t,i)}function Vm(n,e,t){let i=null,r=t?new tc(t):null;e==="value"?i=new ic(r):e&&(i=new cd(e,r)),sm(n._repo,n,i)}TP(vi);UP(vi);var wR="FIREBASE_DATABASE_EMULATOR_HOST",cm={},DR=!1;function ER(n,e,t,i){let r=e.lastIndexOf(":"),s=e.substring(0,r),a=rg(s);n.repoInfo_=new ju(e,a,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),i&&(n.authTokenProvider_=i)}function AR(n,e,t,i,r){let s=i||n.options.databaseURL;s===void 0&&(n.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Rt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let a=A2(s,r),o=a.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[wR]),u?(c=!0,s=`http://${u}?ns=${o.namespace}`,a=A2(s,r),o=a.repoInfo):c=!a.repoInfo.secure;let d=r&&c?new zo(zo.OWNER):new vg(n.name,n.options,e);rR("Invalid Firebase Database URL",a),ke(a.path)||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");let h=TR(o,n,d,new yg(n,t));return new lm(h,n)}function CR(n,e){let t=cm[e];(!t||t[n.key]!==n)&&Vi(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gR(n),delete t[n.key]}function TR(n,e,t,i){let r=cm[e.name];r||(r={},cm[e.name]=r);let s=r[n.toURLString()];return s&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new rm(n,DR,t,i),r[n.toURLString()]=s,s}var lm=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vi(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vi("Cannot call "+e+" on a deleted database.")}};function Lw(n=kx(),e){let t=Cx(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let i=dx("database");i&&Ow(t,...i)}return t}function Ow(n,e,t,i={}){n=vr(n),n._checkNotDeleted("useEmulator");let r=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(r===n._repoInternal.repoInfo_.host&&_x(i,s.repoInfo_.emulatorOptions))return;Vi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Vi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new zo(zo.OWNER);else if(i.mockUserToken){let o=typeof i.mockUserToken=="string"?i.mockUserToken:fx(i.mockUserToken,n.app.options.projectId);a=new zo(o)}rg(e)&&(hx(e),px("Database",!0)),ER(s,r,i,a)}function SR(n){XI(Sx),Ax(new wx("database",(e,{instanceIdentifier:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return AR(i,r,s,t)},"PUBLIC").setMultipleInstances(!0)),No(Kx,Yx,n),No(Kx,Yx,"esm2017")}mm.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};mm.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};SR();var us,ds=(function(n){return n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value",n})(ds||{}),kR=Object.freeze((us={},us[ds.added]=Om,us[ds.removed]=jm,us[ds.changed]=Bm,us[ds.moved]=Wm,us[ds.value]=_d,us));function Bw(n,e){return new ou(function(t){var i=kR[e](n,function(r,s){t.next({snapshot:r,prevKey:s,event:e})},t.error.bind(t));return{unsubscribe:function(){Vm(n,e,i)}}}).pipe(M1(0))}var yd=function(){return yd=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},yd.apply(this,arguments)};function Ww(n,e){return e===void 0&&(e={}),Bw(n,ds.value).pipe(Ut(function(t){return jw(t,e)}))}function jw(n,e){var t;e===void 0&&(e={});var i=n.snapshot.val();return!n.snapshot.exists()||typeof i!="object"?i:yd(yd({},i),e.keyField?(t={},t[e.keyField]=n.snapshot.key,t):null)}var hs=class{constructor(e){return e}},Vw="database",zm=class{constructor(){return Ux(Vw)}};var Hm=new Kr("angularfire2.database-instances");function FR(n,e){let t=Ix(Vw,n,e);return t&&new hs(t)}function IR(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new hs(i)}}var UR={provide:zm,deps:[[new Fo,Hm]]},PR={provide:hs,useFactory:FR,deps:[[new Fo,Hm],Rx]};function zw(n,...e){return No("angularfire",Fx.full,"rtdb"),N1([PR,UR,{provide:Hm,useFactory:IR(n),multi:!0,deps:[mr,ko,Px,Mx,[new Fo,Bx],[new Fo,Ox],...e]}])}var vd=ji(Ww,!0);var Hw=ji(Lm,!0),qw=ji(Lw,!0);var Gw=ji(_d,!0);var $w=ji(Rw,!0,2);var xi=ji(Pw,!0,2);var Xw=ji(Mw,!0,2);var qm=ji(Nw,!0,2);var Cr=class n{db=fe(hs);authService$=fe(Ou);getMyData$=this.authService$.user$.pipe(pr(e=>{if(e){let t=e.uid,i=xi(this.db,`/${t}`);return vd(i)}else return yt(null)}));constructor(){}ngOnInit(){}addItem(e,t){return Z(this,null,function*(){let i=yield Co(this.authService$.user$);if(!i||!i.uid)throw new Error("\uC0AC\uC6A9\uC790 UID\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.");let r=`${i.uid}/${e}`,s=xi(this.db,r);yield $w(s,t)})}addCategory(e){return Z(this,null,function*(){let t=yield Co(this.authService$.user$);if(!t||!t.uid)throw new Error("\uC0AC\uC6A9\uC790 UID\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.");let i=`${t.uid}`,r=xi(this.db,i),s="";yield qm(r,{[e]:s})})}updateItem(e,t){return Z(this,null,function*(){let i=yield Co(this.authService$.user$);if(!i||!i.uid)throw new Error("\uC0AC\uC6A9\uC790 UID\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.");let r=`${i.uid}/${e}`,s=xi(this.db,r);yield qm(s,t)})}deleteItem(e){return Z(this,null,function*(){let t=yield Co(this.authService$.user$);if(!t||!t.uid)throw new Error("\uC0AC\uC6A9\uC790 UID\uB97C \uAC00\uC838\uC62C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4.");let i=`${t.uid}/${e}`,r=xi(this.db,i);yield Xw(r)})}getAllData(){return vd(xi(this.db,"/"))}getUserAllData(e){return vd(xi(this.db,`/${e}`))}getItems(e){let t=xi(this.db,e);return new ou(i=>{Gw(t,r=>{let s=r.val(),a=[];s&&Object.keys(s).forEach(o=>{a.push(Xe({id:o},s[o]))}),i.next(a)},r=>{i.error(r)})})}getItemOnce(e){return Z(this,null,function*(){let t=xi(this.db,e),i=yield Hw(t);return i.exists()?i.val():null})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=uu({token:n,factory:n.\u0275fac,providedIn:"root"})};var Kw=(n,e)=>e.key;function LR(n,e){if(n&1&&(Tn(0,"p"),Me(1,"div",9),Ve(2),Ie()),n&2){let t=mt();Se(2),mi(" ",t.serverError," ")}}function OR(n,e){if(n&1){let t=Bi();Me(0,"li",12)(1,"div",13)(2,"button",10),Pt("click",function(){let r=hi(t).$implicit,s=mt(2).$implicit,a=mt();return fi(a.onUpdate(s.key,r.key,r.value))}),Ve(3,"\uC774\uB984 \uBCC0\uACBD"),Ie(),Me(4,"button",10),Pt("click",function(){let r=hi(t).$implicit,s=mt(2).$implicit,a=mt();return fi(a.onDelete(s.key,r.key))}),Ve(5,"\uC0AD\uC81C"),Ie()(),Me(6,"div"),Ve(7),Me(8,"span",14),Ve(9),Ie()()()}if(n&2){let t=e.$implicit;Se(7),mi(" ",t.key,": "),Se(2),yr(t.value)}}function BR(n,e){if(n&1&&(Tn(0,"br"),Me(1,"ul",11),Zs(2,OR,10,2,"li",12,Kw),Bn(4,"keyvalue"),Ie()),n&2){let t=mt().$implicit;Se(2),Js(Wn(4,0,t.value))}}function WR(n,e){n&1&&(Me(0,"span"),Ve(1," ( \uD30C\uC77C\uC774 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. )"),Ie())}function jR(n,e){if(n&1){let t=Bi();Me(0,"li",7)(1,"strong"),Ve(2),Ie(),Ve(3,": "),Me(4,"button",10),Pt("click",function(){let r=hi(t).$implicit,s=mt();return fi(s.onAdd(r.key))}),Ve(5,"\uC0C8 \uD30C\uC77C \uCD94\uAC00"),Ie(),cn(6,BR,5,2)(7,WR,2,0,"span"),Ie()}if(n&2){let t=e.$implicit;Se(2),yr(t.key),Se(4),ln(t.value&&typeof t.value=="object"?6:7)}}function VR(n,e){n&1&&(Me(0,"li"),Ve(1,"\uB85C\uB529 \uC911\uC774\uAC70\uB098 \uD45C\uC2DC\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),Ie())}function zR(n,e){n&1&&(Me(0,"pre",8),Ve(1),Bn(2,"json"),Ie()),n&2&&(Se(),yr(Wn(2,1,e)))}var xd=class n{constructor(e){this.dataService$=e;this.userData$=this.dataService$.getMyData$}userData$;myform=new Du({category:new Eu("",[vu.required])});serverError=null;ngOnInit(){}onAdd(e){if(typeof e!="string")return;let t=prompt("\uC0C8 \uD30C\uC77C \uC774\uB984\uC744 \uC785\uB825\uD558\uC138\uC694:");if(t){let i=this.myform.value;this.dataService$.addItem(e,t)}}addCategory(){if(this.myform.invalid){this.serverError="form is invalid!";return}let t=this.myform.value.category;this.dataService$.addCategory(t)}onUpdate(e,t,i){let r=prompt("\uC0C8 \uD30C\uC77C \uC774\uB984\uC744 \uC785\uB825\uD558\uC138\uC694:",i);if(typeof e=="string"&&r){let s={};s[t]=r,this.dataService$.updateItem(e,s).catch(a=>console.error("\uC5C5\uB370\uC774\uD2B8 \uC624\uB958:",a))}}onDelete(e,t){if(confirm("\uC815\uB9D0\uB85C \uC774 \uD30C\uC77C\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")){let i=`${e}/${t}`;this.dataService$.deleteItem(i).catch(r=>console.error("\uC0AD\uC81C \uC624\uB958:",r))}}static \u0275fac=function(t){return new(t||n)(Cn(Cr))};static \u0275cmp=gt({type:n,selectors:[["app-data-editer"]],decls:18,vars:11,consts:[[1,"top-container"],[1,"sticky-form",3,"ngSubmit","formGroup"],[1,"form-control-group"],["appearance","outline","floatLabel","always"],["matInput","","type","text","placeholder","Category \uC785\uB825","formControlName","category"],["mat-button","","type","submit","color","primary",3,"disabled"],[2,"list-style-type","none","padding","0"],[2,"margin-bottom","10px","border","1px solid #ccc","padding","10px"],[2,"visibility","hidden"],[1,"alert","alert-danger"],["mat-raised-button","",3,"click"],[2,"list-style-type","disc","margin-left","10px"],[1,"file-item-grouping"],[1,"left-content"],[2,"font-style","italic"]],template:function(t,i){if(t&1&&(Me(0,"div",0)(1,"form",1),Pt("ngSubmit",function(){return i.addCategory()}),Me(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),Ve(5,"\uBC94\uC8FC\uBA85"),Ie(),Tn(6,"input",4),Ie(),Me(7,"button",5),Ve(8," \uBC94\uC8FC \uCD94\uAC00 "),Ie(),cn(9,LR,3,1),Ie()(),Me(10,"ul",6),Zs(11,jR,8,2,"li",7,Kw,!1,VR,2,0,"li"),Bn(14,"async"),Bn(15,"keyvalue"),Ie()(),cn(16,zR,3,3,"pre",8),Bn(17,"async")),t&2){let r;Se(),On("formGroup",i.myform),Se(6),On("disabled",i.myform.invalid),Se(2),ln(i.serverError?9:-1),Se(2),Js(Wn(15,7,Wn(14,5,i.userData$))),Se(5),ln((r=Wn(17,9,i.userData$))?16:-1,r)}},dependencies:[Nu,Mu,Ru,Pu,Uu,Iu,Su,Au,yu,xu,wu,Cu,Tu,mu,bu,_u],styles:[".top-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:20px}.file-item-grouping[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:20px;margin-top:10px}.left-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-right:10px}"]})};var Ed=["*"],qR=["content"],GR=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$R=["mat-drawer","mat-drawer-content","*"];function XR(n,e){if(n&1){let t=Bi();Me(0,"div",1),Pt("click",function(){hi(t);let r=mt();return fi(r._onBackdropClicked())}),Ie()}if(n&2){let t=mt();_r("mat-drawer-shown",t._isShowingBackdrop())}}function KR(n,e){n&1&&(Me(0,"mat-drawer-content"),Zn(1,2),Ie())}var YR=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],QR=["mat-sidenav","mat-sidenav-content","*"];function ZR(n,e){if(n&1){let t=Bi();Me(0,"div",1),Pt("click",function(){hi(t);let r=mt();return fi(r._onBackdropClicked())}),Ie()}if(n&2){let t=mt();_r("mat-drawer-shown",t._isShowingBackdrop())}}function JR(n,e){n&1&&(Me(0,"mat-sidenav-content"),Zn(1,2),Ie())}var eM=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var tM=new Kr("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:nM}),Ym=new Kr("MAT_DRAWER_CONTAINER");function nM(){return!1}var wd=(()=>{class n extends ia{_platform=fe(ku);_changeDetectorRef=fe(Zr);_container=fe(Km);constructor(){let t=fe(pi),i=fe(zx),r=fe(mr);super(t,i,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:t,end:i}=this._container;return t!=null&&t.mode!=="over"&&t.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=gt({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,r){i&2&&(gu("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),_r("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[hn([{provide:ia,useExisting:n}]),Ln],ngContentSelectors:Ed,decls:1,vars:0,template:function(i,r){i&1&&(Yr(),Zn(0))},encapsulation:2,changeDetection:0})}return n})(),Xm=(()=>{class n{_elementRef=fe(pi);_focusTrapFactory=fe(ix);_focusMonitor=fe(tx);_platform=fe(ku);_ngZone=fe(mr);_renderer=fe(z1);_interactivityChecker=fe(nx);_doc=fe(L1);_container=fe(Ym,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=es(t)}_disableClose=!1;get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=es(t)),this._autoFocus=t}_autoFocus;get opened(){return this._opened()}set opened(t){this.toggle(es(t))}_opened=du(!1);_openedVia;_animationStarted=new It;_animationEnd=new It;openedChange=new Zt(!0);_openedStream=this.openedChange.pipe(Mi(t=>t),Ut(()=>{}));openedStart=this._animationStarted.pipe(Mi(()=>this.opened),Jp(void 0));_closedStream=this.openedChange.pipe(Mi(t=>!t),Ut(()=>{}));closedStart=this._animationStarted.pipe(Mi(()=>!this.opened),Jp(void 0));_destroyed=new It;onPositionChanged=new Zt;_content;_modeChanged=new It;_injector=fe(ko);_changeDetectorRef=fe(Zr);constructor(){this.openedChange.pipe(ve(this._destroyed)).subscribe(t=>{t?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let t=this._elementRef.nativeElement;st(t,"keydown").pipe(Mi(i=>i.keyCode===27&&!this.disableClose&&!rx(i)),ve(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(t,"transitionrun",this._handleTransitionEvent),this._renderer.listen(t,"transitionend",this._handleTransitionEvent),this._renderer.listen(t,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{s(),a(),t.removeAttribute("tabindex")},s=this._renderer.listen(t,"blur",r),a=this._renderer.listen(t,"mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":tg(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(t=>t()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);let r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return t===this.opened?Promise.resolve(t?"open":"close"):(this._opened.set(t),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",t),!t&&i&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(fr(1)).subscribe(a=>s(a?"open":"close"))}))}_setIsAnimating(t){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",t)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,r=i.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=t=>{let i=this._elementRef.nativeElement;t.target===i&&this._ngZone.run(()=>{t.type==="transitionrun"?this._animationStarted.next(t):(t.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(t))})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=gt({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(i&1&&Wi(qR,5),i&2){let s;un(s=dn())&&(r._content=s.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){i&2&&(Li("align",null)("tabIndex",r.mode!=="side"?"-1":null),gu("visibility",!r._container&&!r.opened?"hidden":null),_r("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ed,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(Yr(),Me(0,"div",1,0),Zn(2),Ie())},dependencies:[ia],encapsulation:2,changeDetection:0})}return n})(),Km=(()=>{class n{_dir=fe(Io,{optional:!0});_element=fe(pi);_ngZone=fe(mr);_changeDetectorRef=fe(Zr);_animationDisabled=ax();_transitionsEnabled=!1;_allDrawers;_drawers=new W1;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=es(t)}_autosize=fe(tM);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:es(t)}_backdropOverride;backdropClick=new Zt;_start;_end;_left;_right;_destroyed=new It;_doCheckSubject=new It;_contentMargins={left:null,right:null};_contentMarginChanges=new It;get scrollable(){return this._userContent||this._content}_injector=fe(ko);constructor(){let t=fe(ku),i=fe(Hx);this._dir?.change.pipe(ve(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(ve(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&t.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Qs(this._allDrawers),ve(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Qs(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(lu(10),ve(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();t+=r,i-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();i+=r,t-=r}}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ve(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(ve(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t.onPositionChanged.pipe(ve(this._drawers.changes)).subscribe(()=>{tg({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(t){t._modeChanged.pipe(ve(Yp(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=gt({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,s){if(i&1&&(Qr(s,wd,5),Qr(s,Xm,5)),i&2){let a;un(a=dn())&&(r._content=a.first),un(a=dn())&&(r._allDrawers=a)}},viewQuery:function(i,r){if(i&1&&Wi(wd,5),i&2){let s;un(s=dn())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){i&2&&_r("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[hn([{provide:Ym,useExisting:n}])],ngContentSelectors:$R,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(Yr(GR),cn(0,XR,1,2,"div",0),Zn(1),Zn(2,1),cn(3,KR,2,0,"mat-drawer-content")),i&2&&(ln(r.hasBackdrop?0:-1),Se(3),ln(r._content?-1:3))},dependencies:[wd],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),Dd=(()=>{class n extends wd{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275cmp=gt({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[hn([{provide:ia,useExisting:n}]),Ln],ngContentSelectors:Ed,decls:1,vars:0,template:function(i,r){i&1&&(Yr(),Zn(0))},encapsulation:2,changeDetection:0})}return n})(),Qm=(()=>{class n extends Xm{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=es(t)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ig(t)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ig(t)}_fixedBottomGap=0;static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275cmp=gt({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(i,r){i&2&&(Li("tabIndex",r.mode!=="side"?"-1":null)("align",null),gu("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),_r("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[hn([{provide:Xm,useExisting:n}]),Ln],ngContentSelectors:Ed,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,r){i&1&&(Yr(),Me(0,"div",1,0),Zn(2),Ie())},dependencies:[ia],encapsulation:2,changeDetection:0})}return n})(),Yw=(()=>{class n extends Km{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275cmp=gt({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(i,r,s){if(i&1&&(Qr(s,Dd,5),Qr(s,Qm,5)),i&2){let a;un(a=dn())&&(r._content=a.first),un(a=dn())&&(r._allDrawers=a)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,r){i&2&&_r("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[hn([{provide:Ym,useExisting:n},{provide:Km,useExisting:n}]),Ln],ngContentSelectors:QR,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){i&1&&(Yr(YR),cn(0,ZR,1,2,"div",0),Zn(1),Zn(2,1),cn(3,JR,2,0,"mat-sidenav-content")),i&2&&(ln(r.hasBackdrop?0:-1),Se(3),ln(r._content?-1:3))},dependencies:[Dd],styles:[eM],encapsulation:2,changeDetection:0})}return n})(),Qw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=br({type:n});static \u0275inj=gr({imports:[ta,og,og,ta]})}return n})();var Ad=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new It;constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,i=new Set(e.map(s=>this._getConcreteValue(s)));e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}else return e}};var Jm=new Kr("CDK_TREE_NODE_OUTLET_NODE"),Cd=(()=>{class n{viewContainer=fe(hu);_node=fe(Jm,{optional:!0});constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["","cdkTreeNodeOutlet",""]]})}return n})(),Zm=class{$implicit;level;index;count;constructor(e){this.$implicit=e}},Td=(()=>{class n{template=fe(V1);when;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return n})();function Zw(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var ya=(()=>{class n{_differs=fe(K1);_changeDetectorRef=fe(Zr);_elementRef=fe(pi);_dir=fe(Io);_onDestroy=new It;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new hr({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new hr([]);_nodeType=new hr(null);_nodes=new hr(new Map);_keyManagerNodes=new hr([]);_keyManagerFactory=fe(sx);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let t=this._nodeDefs.filter(i=>!i.when);t.length>1,this._defaultNodeDef=t[0]}_setNodeTypeIfUnset(t){this._nodeType.value===null&&this._nodeType.next(t)}_switchDataSource(t){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new Ad(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let t;Vx(this._dataSource)?t=this._dataSource.connect(this):R1(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=yt(this._dataSource)),t&&(this._dataSubscription=this._getRenderData(t).pipe(ve(this._onDestroy)).subscribe(i=>{this._renderDataChanges(i)}))}_getRenderData(t){let i=this._getExpansionModel();return To([t,this._nodeType,i.changed.pipe(Qs(null),So(r=>{this._emitExpansionChanges(r)}))]).pipe(pr(([r,s])=>s===null?yt({renderNodes:r,flattenedNodes:null,nodeType:s}):this._computeRenderingData(r,s).pipe(Ut(a=>An(Xe({},a),{nodeType:s})))))}_renderDataChanges(t){if(t.nodeType===null){this.renderNodeChanges(t.renderNodes);return}this._updateCachedData(t.flattenedNodes),this.renderNodeChanges(t.renderNodes),this._updateKeyManagerItems(t.flattenedNodes)}_emitExpansionChanges(t){if(!t)return;let i=this._nodes.value;for(let r of t.added)i.get(r)?._emitExpansionState(!0);for(let r of t.removed)i.get(r)?._emitExpansionState(!1)}_initializeKeyManager(){let t=To([this._keyManagerNodes,this._nodes]).pipe(Ut(([r,s])=>r.reduce((a,o)=>{let c=s.get(this._getExpansionKey(o));return c&&a.push(c),a},[]))),i={trackBy:r=>this._getExpansionKey(r.data),skipPredicate:r=>!!r.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(t,i)}_initializeDataDiffer(){let t=this.trackBy??((i,r)=>this._getExpansionKey(r));this._dataDiffer=this._differs.find([]).create(t)}_checkTreeControlUsage(){}renderNodeChanges(t,i=this._dataDiffer,r=this._nodeOutlet.viewContainer,s){let a=i.diff(t);!a&&!this._viewInit||(a?.forEachOperation((o,c,u)=>{if(o.previousIndex==null)this.insertNode(t[u],u,r,s);else if(u==null)r.remove(c);else{let d=r.get(c);r.move(d,u)}}),a?.forEachIdentityChange(o=>{let c=o.item;if(o.currentIndex!=null){let u=r.get(o.currentIndex);u.context.$implicit=c}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(t,i){if(this._nodeDefs.length===1)return this._nodeDefs.first;let r=this._nodeDefs.find(s=>s.when&&s.when(i,t))||this._defaultNodeDef;return r}insertNode(t,i,r,s){let a=this._getLevelAccessor(),o=this._getNodeDef(t,i),c=this._getExpansionKey(t),u=new Zm(t);u.index=i,s??=this._parents.get(c)??void 0,a?u.level=a(t):s!==void 0&&this._levels.has(this._getExpansionKey(s))?u.level=this._levels.get(this._getExpansionKey(s))+1:u.level=0,this._levels.set(c,u.level),(r||this._nodeOutlet.viewContainer).createEmbeddedView(o.template,u,i),fs.mostRecentTreeNode&&(fs.mostRecentTreeNode.data=t)}isExpanded(t){return!!(this.treeControl?.isExpanded(t)||this._expansionModel?.isSelected(this._getExpansionKey(t)))}toggle(t){this.treeControl?this.treeControl.toggle(t):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(t))}expand(t){this.treeControl?this.treeControl.expand(t):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(t))}collapse(t){this.treeControl?this.treeControl.collapse(t):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(t))}toggleDescendants(t){this.treeControl?this.treeControl.toggleDescendants(t):this._expansionModel&&(this.isExpanded(t)?this.collapseDescendants(t):this.expandDescendants(t))}expandDescendants(t){if(this.treeControl)this.treeControl.expandDescendants(t);else if(this._expansionModel){let i=this._expansionModel;i.select(this._getExpansionKey(t)),this._getDescendants(t).pipe(fr(1),ve(this._onDestroy)).subscribe(r=>{i.select(...r.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(t){if(this.treeControl)this.treeControl.collapseDescendants(t);else if(this._expansionModel){let i=this._expansionModel;i.deselect(this._getExpansionKey(t)),this._getDescendants(t).pipe(fr(1),ve(this._onDestroy)).subscribe(r=>{i.deselect(...r.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.select(...t))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(t=>this._expansionModel?.deselect(...t))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(t){let i=this._getLevelAccessor(),r=this._expansionModel??this.treeControl?.expansionModel;if(!r)return yt([]);let s=this._getExpansionKey(t),a=r.changed.pipe(pr(c=>c.added.includes(s)?yt(!0):c.removed.includes(s)?yt(!1):P1),Qs(this.isExpanded(t)));if(i)return To([a,this._flattenedNodes]).pipe(Ut(([c,u])=>c?this._findChildrenByLevel(i,u,t,1):[]));let o=this._getChildrenAccessor();if(o)return Fu(o(t)??[]);throw Zw()}_findChildrenByLevel(t,i,r,s){let a=this._getExpansionKey(r),o=i.findIndex(h=>this._getExpansionKey(h)===a),c=t(r),u=c+s,d=[];for(let h=o+1;h<i.length;h++){let f=t(i[h]);if(f<=c)break;f<=u&&d.push(i[h])}return d}_registerNode(t){this._nodes.value.set(this._getExpansionKey(t.data),t),this._nodes.next(this._nodes.value)}_unregisterNode(t){this._nodes.value.delete(this._getExpansionKey(t.data)),this._nodes.next(this._nodes.value)}_getLevel(t){return this._levels.get(this._getExpansionKey(t))}_getSetSize(t){return this._getAriaSet(t).length}_getPositionInSet(t){let i=this._getAriaSet(t),r=this._getExpansionKey(t);return i.findIndex(s=>this._getExpansionKey(s)===r)+1}_getNodeParent(t){let i=this._parents.get(this._getExpansionKey(t.data));return i&&this._nodes.value.get(this._getExpansionKey(i))}_getNodeChildren(t){return this._getDirectChildren(t.data).pipe(Ut(i=>i.reduce((r,s)=>{let a=this._nodes.value.get(this._getExpansionKey(s));return a&&r.push(a),r},[])))}_sendKeydownToKeyManager(t){if(t.target===this._elementRef.nativeElement)this._keyManager.onKeydown(t);else{let i=this._nodes.getValue();for(let[,r]of i)if(t.target===r._elementRef.nativeElement){this._keyManager.onKeydown(t);break}}}_getDescendants(t){if(this.treeControl)return yt(this.treeControl.getDescendants(t));if(this.levelAccessor){let i=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,t,1/0);return yt(i)}if(this.childrenAccessor)return this._getAllChildrenRecursively(t).pipe(Qp((i,r)=>(i.push(...r),i),[]));throw Zw()}_getAllChildrenRecursively(t){return this.childrenAccessor?Fu(this.childrenAccessor(t)).pipe(fr(1),pr(i=>{for(let r of i)this._parents.set(this._getExpansionKey(r),t);return yt(...i).pipe(Zp(r=>Kp(yt([r]),this._getAllChildrenRecursively(r))))})):yt([])}_getExpansionKey(t){return this.expansionKey?.(t)??t}_getAriaSet(t){let i=this._getExpansionKey(t),r=this._parents.get(i),s=r?this._getExpansionKey(r):null;return this._ariaSets.get(s)??[t]}_findParentForNode(t,i,r){if(!r.length)return null;let s=this._levels.get(this._getExpansionKey(t))??0;for(let a=i-1;a>=0;a--){let o=r[a];if((this._levels.get(this._getExpansionKey(o))??0)<s)return o}return null}_flattenNestedNodesWithExpansion(t,i=0){let r=this._getChildrenAccessor();return r?yt(...t).pipe(Zp(s=>{let a=this._getExpansionKey(s);this._parents.has(a)||this._parents.set(a,null),this._levels.set(a,i);let o=Fu(r(s));return Kp(yt([s]),o.pipe(fr(1),So(c=>{this._ariaSets.set(a,[...c??[]]);for(let u of c??[]){let d=this._getExpansionKey(u);this._parents.set(d,s),this._levels.set(d,i+1)}}),pr(c=>c?this._flattenNestedNodesWithExpansion(c,i+1).pipe(Ut(u=>this.isExpanded(s)?u:[])):yt([]))))}),Qp((s,a)=>(s.push(...a),s),[])):yt([...t])}_computeRenderingData(t,i){if(this.childrenAccessor&&i==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(Ut(r=>({renderNodes:r,flattenedNodes:r})));if(this.levelAccessor&&i==="nested"){let r=this.levelAccessor;return yt(t.filter(s=>r(s)===0)).pipe(Ut(s=>({renderNodes:s,flattenedNodes:t})),So(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return i==="flat"?yt({renderNodes:t,flattenedNodes:t}).pipe(So(({flattenedNodes:r})=>{this._calculateParents(r)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...t]),this._flattenNestedNodesWithExpansion(t).pipe(Ut(r=>({renderNodes:t,flattenedNodes:r}))))}_updateCachedData(t){this._flattenedNodes.next(t)}_updateKeyManagerItems(t){this._keyManagerNodes.next(t)}_calculateParents(t){let i=this._getLevelAccessor();if(i){this._clearPreviousCache();for(let r=0;r<t.length;r++){let s=t[r],a=this._getExpansionKey(s);this._levels.set(a,i(s));let o=this._findParentForNode(s,r,t);this._parents.set(a,o);let c=o?this._getExpansionKey(o):null,u=this._ariaSets.get(c)??[];u.splice(r,0,s),this._ariaSets.set(c,u)}}}_forEachExpansionKey(t){let i=[],r=[];this._nodes.value.forEach(s=>{i.push(this._getExpansionKey(s.data)),r.push(this._getDescendants(s.data))}),r.length>0?To(r).pipe(fr(1),ve(this._onDestroy)).subscribe(s=>{s.forEach(a=>a.forEach(o=>i.push(this._getExpansionKey(o)))),t(i)}):t(i)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=gt({type:n,selectors:[["cdk-tree"]],contentQueries:function(i,r,s){if(i&1&&Qr(s,Td,5),i&2){let a;un(a=dn())&&(r._nodeDefs=a)}},viewQuery:function(i,r){if(i&1&&Wi(Cd,7),i&2){let s;un(s=dn())&&(r._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(i,r){i&1&&Pt("keydown",function(a){return r._sendKeydownToKeyManager(a)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,r){i&1&&fu(0,0)},dependencies:[Cd],encapsulation:2})}return n})(),fs=(()=>{class n{_elementRef=fe(pi);_tree=fe(ya);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(t){}get isExpandable(){return this._isExpandable()}set isExpandable(t){this._inputIsExpandable=t,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(t){this._inputIsExpanded=t,t?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new Zt;expandedChange=new Zt;static mostRecentTreeNode=null;_destroyed=new It;_dataChanges=new It;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=fe(Zr);constructor(){n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=rM(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(Ut(()=>this.isExpanded),eg(),ve(this._destroyed)).pipe(ve(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(t){this.expandedChange.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(i,r){i&1&&Pt("click",function(){return r._setActiveItem()})("focus",function(){return r._focusItem()}),i&2&&(pu("tabIndex",r._tabindex),Li("aria-expanded",r._getAriaExpanded())("aria-level",r.level+1)("aria-posinset",r._getPositionInSet())("aria-setsize",r._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",ea],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",ea],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return n})();function rM(n){let e=n.parentElement;for(;e&&!sM(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?Jr(e.getAttribute("aria-level")):0:-1}function sM(n){let e=n.classList;return!!(e?.contains("cdk-nested-tree-node")||e?.contains("cdk-tree"))}var aM=/([A-Za-z%]+)$/,eb=(()=>{class n{_treeNode=fe(fs);_tree=fe(ya);_element=fe(pi);_dir=fe(Io,{optional:!0});_currentPadding;_destroyed=new It;indentUnits="px";get level(){return this._level}set level(t){this._setLevelInput(t)}_level;get indent(){return this._indent}set indent(t){this._setIndentInput(t)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(ve(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let t=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,i=this._level==null?t:this._level;return typeof i=="number"?`${i*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){let i=this._paddingIndent();if(i!==this._currentPadding||t){let r=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",a=s==="paddingLeft"?"paddingRight":"paddingLeft";r.style[s]=i||"",r.style[a]="",this._currentPadding=i}}_setLevelInput(t){this._level=isNaN(t)?null:t,this._setPadding()}_setIndentInput(t){let i=t,r="px";if(typeof t=="string"){let s=t.split(aM);i=s[0],r=s[1]||r}this.indentUnits=r,this._indent=Jr(i),this._setPadding()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",Jr],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return n})(),tb=(()=>{class n{_tree=fe(ya);_treeNode=fe(fs);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(i,r){i&1&&Pt("click",function(a){return r._toggle(),a.stopPropagation()})("keydown.Enter",function(a){return r._toggle(),a.preventDefault()})("keydown.Space",function(a){return r._toggle(),a.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",ea]}})}return n})();var Jw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=br({type:n});static \u0275inj=gr({})}return n})();function oM(n){return!!n._isNoopTreeKeyManager}var tD=(()=>{class n extends fs{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(t){this._tabIndexInputBinding=t}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return oM(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(t){this.isDisabled=t}constructor(){super();let t=fe(new X1("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(t)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(i,r){i&1&&Pt("click",function(){return r._focusItem()}),i&2&&(pu("tabIndex",r._getTabindexAttribute()),Li("aria-expanded",r._getAriaExpanded())("aria-level",r.level+1)("aria-posinset",r._getPositionInSet())("aria-setsize",r._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",t=>t==null?0:Jr(t)],disabled:[2,"disabled","disabled",ea]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[hn([{provide:fs,useExisting:n}]),Ln]})}return n})(),nD=(()=>{class n extends Td{data;static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275dir=Nn({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[hn([{provide:Td,useExisting:n}]),Ln]})}return n})();var iD=(()=>{class n extends eb{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275dir=Nn({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",Jr],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[hn([{provide:eb,useExisting:n}]),Ln]})}return n})(),eD=(()=>{class n{viewContainer=fe(hu);_node=fe(Jm,{optional:!0});static \u0275fac=function(i){return new(i||n)};static \u0275dir=Nn({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[hn([{provide:Cd,useExisting:n}])]})}return n})(),rD=(()=>{class n extends ya{_nodeOutlet=void 0;static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275cmp=gt({type:n,selectors:[["mat-tree"]],viewQuery:function(i,r){if(i&1&&Wi(eD,7),i&2){let s;un(s=dn())&&(r._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[hn([{provide:ya,useExisting:n}]),Ln],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,r){i&1&&fu(0,0)},dependencies:[eD],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return n})(),sD=(()=>{class n extends tb{static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ni(n)))(r||n)}})();static \u0275dir=Nn({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[hn([{provide:tb,useExisting:n}]),Ln]})}return n})();var aD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=br({type:n});static \u0275inj=gr({imports:[Jw,ta,ta]})}return n})();var jI=$I(IF());var yo={};ru(yo,{AbortException:()=>e8,AnnotationEditorLayer:()=>t8,AnnotationEditorParamsType:()=>n8,AnnotationEditorType:()=>R0,AnnotationEditorUIManager:()=>i8,AnnotationLayer:()=>r8,AnnotationMode:()=>s8,ColorPicker:()=>a8,DOMSVGFactory:()=>o8,DrawLayer:()=>c8,FeatureTest:()=>l8,GlobalWorkerOptions:()=>M0,ImageKind:()=>u8,InvalidPDFException:()=>d8,MissingPDFException:()=>h8,OPS:()=>f8,OutputScale:()=>p8,PDFDataRangeTransport:()=>g8,PDFDateString:()=>m8,PDFWorker:()=>b8,PasswordResponses:()=>_8,PermissionFlag:()=>y8,PixelsPerInch:()=>v8,RenderingCancelledException:()=>x8,TextLayer:()=>w8,UnexpectedResponseException:()=>D8,Util:()=>E8,VerbosityLevel:()=>N0,XfaLayer:()=>A8,build:()=>C8,createValidAbsoluteUrl:()=>T8,fetchData:()=>S8,getDocument:()=>L0,getFilenameFromUrl:()=>k8,getPdfFilenameFromUrl:()=>F8,getXfaPageViewport:()=>I8,isDataScheme:()=>U8,isPdfFile:()=>P8,noContextMenu:()=>R8,normalizeUnicode:()=>M8,setLayerDimensions:()=>N8,shadow:()=>L8,version:()=>$l});var Il={};Il.d=(n,e)=>{for(var t in e)Il.o(e,t)&&!Il.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Il.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ye=globalThis.pdfjsLib={};Il.d(ye,{AbortException:()=>or,AnnotationEditorLayer:()=>J5,AnnotationEditorParamsType:()=>be,AnnotationEditorType:()=>we,AnnotationEditorUIManager:()=>Ll,AnnotationLayer:()=>v0,AnnotationMode:()=>Hr,ColorPicker:()=>fp,DOMSVGFactory:()=>Vl,DrawLayer:()=>C0,FeatureTest:()=>jt,GlobalWorkerOptions:()=>Vs,ImageKind:()=>Uf,InvalidPDFException:()=>Lf,MissingPDFException:()=>ar,OPS:()=>li,OutputScale:()=>Nl,PDFDataRangeTransport:()=>Jf,PDFDateString:()=>Bf,PDFWorker:()=>go,PasswordResponses:()=>o5,PermissionFlag:()=>a5,PixelsPerInch:()=>qr,RenderingCancelledException:()=>Ml,TextLayer:()=>Wl,UnexpectedResponseException:()=>_o,Util:()=>he,VerbosityLevel:()=>mp,XfaLayer:()=>np,build:()=>Q5,createValidAbsoluteUrl:()=>d5,fetchData:()=>vp,getDocument:()=>$5,getFilenameFromUrl:()=>y5,getPdfFilenameFromUrl:()=>v5,getXfaPageViewport:()=>x5,isDataScheme:()=>xp,isPdfFile:()=>k0,noContextMenu:()=>Qn,normalizeUnicode:()=>m5,setLayerDimensions:()=>zs,shadow:()=>Pe,version:()=>Y5});var Yt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$F=[1,0,0,1,0,0],lv=[.001,0,0,.001,0,0],i5=1e7,If=1.35,r5=.35,EZ=r5/If,Rn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},s5="pdfjs_internal_editor_",we={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},be={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},a5={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Uf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},At={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var Tl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var mp={ERRORS:0,WARNINGS:1,INFOS:5},li={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},o5={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},bp=mp.WARNINGS;function c5(n){Number.isInteger(n)&&(bp=n)}function l5(){return bp}function _p(n){bp>=mp.INFOS&&console.log(`Info: ${n}`)}function Ee(n){bp>=mp.WARNINGS&&console.log(`Warning: ${n}`)}function it(n){throw new Error(n)}function Ct(n,e){n||it(e)}function u5(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function d5(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=g5(n)}catch{}let i=e?new URL(n,e):new URL(n);if(u5(i))return i}catch{}return null}function Pe(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}var Gr=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})(),Ul=class extends Gr{constructor(e,t){super(e,"PasswordException"),this.code=t}},Pl=class extends Gr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},Lf=class extends Gr{constructor(e){super(e,"InvalidPDFException")}},ar=class extends Gr{constructor(e){super(e,"MissingPDFException")}},_o=class extends Gr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},uv=class extends Gr{constructor(e){super(e,"FormatError")}},or=class extends Gr{constructor(e){super(e,"AbortException")}};function XF(n){(typeof n!="object"||n?.length===void 0)&&it("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let i=[];for(let r=0;r<e;r+=t){let s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function yp(n){typeof n!="string"&&it("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function h5(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function T0(n){let e=Object.create(null);for(let[t,i]of n)e[t]=i;return e}function f5(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function p5(){try{return new Function(""),!0}catch{return!1}}var jt=class{static get isLittleEndian(){return Pe(this,"isLittleEndian",f5())}static get isEvalSupported(){return Pe(this,"isEvalSupported",p5())}static get isOffscreenCanvasSupported(){return Pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Pe(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):Pe(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return Pe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},rv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),he=class{static makeHexColor(e,t,i){return`#${rv[e]}${rv[t]}${rv[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let i=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[i,r]}static applyInverseTransform(e,t){let i=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[r,s]}static getAxialAlignedBoundingBox(e,t){let i=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],r[0],s[0],a[0]),Math.min(i[1],r[1],s[1],a[1]),Math.max(i[0],r[0],s[0],a[0]),Math.max(i[1],r[1],s[1],a[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(i+a)/2,c=Math.sqrt((i+a)**2-4*(i*a-s*r))/2,u=o+c||1,d=o-c||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;let s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static#e(e,t,i,r,s,a,o,c,u,d){if(u<=0||u>=1)return;let h=1-u,f=u*u,p=f*u,g=h*(h*(h*e+3*u*t)+3*f*i)+p*r,m=h*(h*(h*s+3*u*a)+3*f*o)+p*c;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],m)}static#t(e,t,i,r,s,a,o,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,t,i,r,s,a,o,c,-h/d,f);return}let p=d**2-4*h*u;if(p<0)return;let g=Math.sqrt(p),m=2*u;this.#e(e,t,i,r,s,a,o,c,(-d+g)/m,f),this.#e(e,t,i,r,s,a,o,c,(-d-g)/m,f)}static bezierBoundingBox(e,t,i,r,s,a,o,c,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,c)):u=[Math.min(e,o),Math.min(t,c),Math.max(e,o),Math.max(t,c)],this.#t(e,i,s,o,t,r,a,c,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),u),this.#t(e,i,s,o,t,r,a,c,3*(-t+3*(r-a)+c),6*(t-2*r+a),3*(r-t),u),u}};function g5(n){return decodeURIComponent(escape(n))}var sv=null,UF=null;function m5(n){return sv||(sv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,UF=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(sv,(e,t,i)=>t?t.normalize("NFKC"):UF.get(i))}function b5(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return XF(n)}var S0="pdfjs_internal_id_",nr={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function _5(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(XF(n))}var rr="http://www.w3.org/2000/svg",qr=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function vp(n,e="text"){return Z(this,null,function*(){if(Fl(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{let r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})})}var Rl=class n{constructor({viewBox:e,scale:t,rotation:i,offsetX:r=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=r,this.offsetY=s;let o=(e[2]+e[0])/2,c=(e[3]+e[1])/2,u,d,h,f;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let p,g,m,y;u===0?(p=Math.abs(c-e[1])*t+r,g=Math.abs(o-e[0])*t+s,m=(e[3]-e[1])*t,y=(e[2]-e[0])*t):(p=Math.abs(o-e[0])*t+r,g=Math.abs(c-e[1])*t+s,m=(e[2]-e[0])*t,y=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*o-h*t*c,g-d*t*o-f*t*c],this.width=m,this.height=y}get rawDims(){let{viewBox:e}=this;return Pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return he.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=he.applyTransform([e[0],e[1]],this.transform),i=he.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return he.applyInverseTransform([e,t],this.transform)}},Ml=class extends Gr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function xp(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function k0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function y5(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function v5(n,e="document.pdf"){if(typeof n!="string")return e;if(xp(n))return Ee('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(n),s=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch{}return s||e}var Of=class{started=Object.create(null);times=[];time(e){e in this.started&&Ee(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ee(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:i}of this.times)t=Math.max(i.length,t);for(let{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}};function Fl(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Qn(n){n.preventDefault()}function PF(n){console.log("Deprecated API usage: "+n)}var Bf=class{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=this.#e.exec(e);if(!t)return null;let i=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;let u=t[7]||"Z",d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(i,r,s,a,o,c))}};function x5(n,{scale:e=1,rotation:t=0}){let{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Rl({viewBox:s,scale:e,rotation:t})}function F0(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ee(`Not a valid color format: "${n}"`),[0,0,0])}function w5(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let i=window.getComputedStyle(e).color;n.set(t,F0(i))}e.remove()}function at(n){let{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function ir(n){let{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function zs(n,e,t=!1,i=!0){if(e instanceof Rl){let{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=jt.isCSSRoundSupported,c=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${s}px`,d=o?`round(down, ${c}, var(--scale-round-x, 1px))`:`calc(${c})`,h=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}i&&n.setAttribute("data-main-rotation",e.rotation)}var Nl=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},dv=class n{#e=null;#t=null;#n;#i=null;#s=null;static#r=null;constructor(e){this.#n=e,n.#r||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Qn,{signal:t}),e.addEventListener("pointerdown",n.#c,{signal:t});let i=this.#i=document.createElement("div");i.className="buttons",e.append(i);let r=this.#n.toolbarPosition;if(r){let{style:s}=e,a=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#d(),e}get div(){return this.#e}static#c(e){e.stopPropagation()}#l(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#u(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#o(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Qn,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#d(){let{editorType:e,_uiManager:t}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#r[e]),this.#o(i),i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#i.append(i)}get#a(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return Z(this,null,function*(){let t=yield e.render();this.#o(t),this.#i.prepend(t,this.#a),this.#s=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#o(t),this.#i.prepend(t,this.#a)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},hv=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Qn,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#r(),e}#s(e,t){let i=0,r=0;for(let s of e){let a=s.y+s.height;if(a<i)continue;let o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]}show(e,t,i){let[r,s]=this.#s(t,i),{style:a}=this.#t||=this.#i();e.append(this.#t),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#n._signal;e.addEventListener("contextmenu",Qn,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}};function Wf(n,e,t){for(let i of t)e.addEventListener(i,n[i].bind(n))}function D5(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var fv=class{#e=0;get id(){return`${s5}${this.#e++}`}},pv=class n{#e=b5();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;let s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Pe(this,"_isSVGFittingCanvas",s)}#i(e,t){return Z(this,null,function*(){this.#n||=new Map;let i=this.#n.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=yield vp(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){let s=n._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},a.onload=()=>Z(this,null,function*(){let h=i.svgUrl=a.result;o.src=(yield s)?`${h}#svgView(preserveAspectRatio(none))`:h}),o.onerror=a.onerror=d});a.readAsDataURL(r),yield c}else i.bitmap=yield createImageBitmap(r);i.refCounter=1}catch(r){console.error(r),i=null}return this.#n.set(e,i),i&&this.#n.set(i.id,i),i})}getFromFile(e){return Z(this,null,function*(){let{lastModified:t,name:i,size:r,type:s}=e;return this.#i(`${t}_${i}_${r}_${s}`,e)})}getFromUrl(e){return Z(this,null,function*(){return this.#i(e,e)})}getFromBlob(e,t){return Z(this,null,function*(){let i=yield t;return this.#i(e,i)})}getFromId(e){return Z(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){let{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)})}getFromCanvas(e,t){this.#n||=new Map;let i=this.#n.get(e);if(i?.bitmap)return i.refCounter+=1,i;let r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,i),this.#n.set(i.id,i),i}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;let{bitmap:i}=t;if(!t.url&&!t.file){let r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},gv=class{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),this.#t)return;let c={cmd:e,undo:t,post:i,type:s};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(c);return}if(a&&this.#e[this.#i].type===s){o&&(c.undo=this.#e[this.#i].undo),this.#e[this.#i]=c;return}let u=this.#i+1;u===this.#n?this.#e.splice(0,1):(this.#i=u,u<this.#e.length&&this.#e.splice(u)),this.#e.push(c)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}},Hs=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=jt.platform;for(let[i,r,s={}]of e)for(let a of i){let o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let i=this.callbacks.get(this.#e(t));if(!i)return;let{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||(t.stopPropagation(),t.preventDefault()))}},mv=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return w5(e),Pe(this,"_colors",e)}convert(e){let t=F0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return n._colorsMapping.get(i);return t}getHexCode(e){let t=this._colors.get(e);return t?he.makeHexColor(...t):e}},Ll=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#r=null;#c=null;#l=new gv;#u=null;#o=0;#d=new Set;#a=null;#h=null;#p=new Set;#f=!1;#g=!1;#b=!1;#m=null;#_=null;#v=null;#D=null;#x=!1;#w=null;#F=new fv;#T=!1;#E=!1;#S=null;#C=null;#I=null;#P=null;#A=we.NONE;#y=new Set;#k=null;#U=null;#L=null;#j={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#W=[0,0];#N=null;#O=null;#B=null;#R=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,i=o=>o.#O.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:c})=>{if(c instanceof HTMLInputElement){let{type:u}=c;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Hs([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#O.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#O.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:i}]]))}constructor(t,i,r,s,a,o,c,u,d,h,f){let p=this._signal=this.#e.signal;this.#O=t,this.#B=i,this.#s=r,this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:p}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),s._on("setpreference",this.onSetPreference.bind(this),{signal:p}),s._on("switchannotationeditorparams",g=>this.updateParams(g.type,g.value),{signal:p}),this.#ee(),this.#re(),this.#$(),this.#r=a.annotationStorage,this.#m=a.filterFactory,this.#U=o,this.#D=c||null,this.#f=u,this.#g=d,this.#b=h,this.#P=f||null,this.viewParameters={realScale:qr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#R?.resolve(),this.#R=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#y.clear(),this.#l.destroy(),this.#s?.destroy(),this.#w?.hide(),this.#w=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#N&&(clearTimeout(this.#N),this.#N=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#P}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Pe(this,"hcmFilter",this.#U?this.#m.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Pe(this,"direction",getComputedStyle(this.#O).direction)}get highlightColors(){return Pe(this,"highlightColors",this.#D?new Map(this.#D.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#I=t}editAltText(t,i=!1){this.#s?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=i;break}}onPageChanging({pageNumber:t}){this.#o=t-1}focusMainContainer(){this.#O.focus()}findParent(t,i){for(let r of this.#i.values()){let{x:s,y:a,width:o,height:c}=r.div.getBoundingClientRect();if(t>=s&&t<=s+o&&i>=a&&i<=a+c)return r}return null}disableUserSelect(t=!1){this.#B.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*qr.PDF_TO_CSS_UNITS;for(let i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#H({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#G(t){let{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(let r of this.#i.values())if(r.hasTextLayer(t))return r;return null}highlightSelection(t=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,c=i.toString(),d=this.#H(i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();let f=this.#G(d),p=this.#A===we.NONE,g=()=>{f?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:h,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:c}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(we.HIGHLIGHT,g);return}g()}#Z(){let t=document.getSelection();if(!t||t.isCollapsed)return;let r=this.#H(t).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(this.#w||=new hv(this),this.#w.show(r,s,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}#J(){let t=document.getSelection();if(!t||t.isCollapsed){this.#k&&(this.#w?.hide(),this.#k=null,this.#M({hasSelectedText:!1}));return}let{anchorNode:i}=t;if(i===this.#k)return;let s=this.#H(t).closest(".textLayer");if(!s){this.#k&&(this.#w?.hide(),this.#k=null,this.#M({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#k=i,this.#M({hasSelectedText:!0}),!(this.#A!==we.HIGHLIGHT&&this.#A!==we.NONE)&&(this.#A===we.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){let a=this.#A===we.HIGHLIGHT?this.#G(s):null;a?.toggleDrawing();let o=new AbortController,c=this.combinedSignal(o),u=d=>{d.type==="pointerup"&&d.button!==0||(o.abort(),a?.toggleDrawing(!0),d.type==="pointerup"&&this.#q("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}}#q(t=""){this.#A===we.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#Z()}#ee(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#te(){if(this.#v)return;this.#v=new AbortController;let t=this.combinedSignal(this.#v);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ne(){this.#v?.abort(),this.#v=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#q("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let i of this.#y)if(i.div.contains(t)){this.#C=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#C)return;let[t,i]=this.#C;this.#C=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#$(){if(this.#S)return;this.#S=new AbortController;let t=this.combinedSignal(this.#S);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ie(){this.#S?.abort(),this.#S=null}#X(){if(this.#u)return;this.#u=new AbortController;let t=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#K(){this.#u?.abort(),this.#u=null}#re(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#$(),this.#X()}removeEditListeners(){this.#ie(),this.#K()}dragOver(t){for(let{type:i}of t.dataTransfer.items)for(let r of this.#h)if(r.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let i of t.dataTransfer.items)for(let r of this.#h)if(r.isHandlingMimeForPasting(i.type)){r.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let r of this.#y){let s=r.serialize(!0);s&&i.push(s)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){return Z(this,null,function*(){t.preventDefault();let{clipboardData:i}=t;for(let a of i.items)for(let o of this.#h)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=i.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){Ee(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();let s=this.currentLayer;try{let a=[];for(let u of r){let d=yield s.deserialize(u);if(!d)return;a.push(d)}let o=()=>{for(let u of a)this.#Y(u);this.#Q(a)},c=()=>{for(let u of a)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(a){Ee(`paste: "${a.message}".`)}})}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==we.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#q("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#M(t){Object.entries(t).some(([r,s])=>this.#j[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#j,t)}),this.#A===we.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[be.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#te(),this.#X(),this.#M({isEditing:this.#A!==we.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ne(),this.#K(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#h){this.#h=t;for(let i of this.#h)this.#V(i.defaultPropertiesToUpdate)}}getId(){return this.#F.id}get currentLayer(){return this.#i.get(this.#o)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#o}addLayer(t){this.#i.set(t.pageIndex,t),this.#T?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,i=null,r=!1){return Z(this,null,function*(){if(this.#A!==t&&!(this.#R&&(yield this.#R.promise,!this.#R))){if(this.#R=Promise.withResolvers(),this.#A=t,t===we.NONE){this.setEditingState(!1),this.#ae(),this.#R.resolve();return}this.setEditingState(!0),yield this.#se(),this.unselectAll();for(let s of this.#i.values())s.updateMode(t);if(!i){r&&this.addNewEditorFromKeyboard(),this.#R.resolve();return}for(let s of this.#n.values())s.annotationElementId===i?(this.setSelected(s),s.enterInEditMode()):s.unselect();this.#R.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#h){switch(t){case be.CREATE:this.currentLayer.addNewEditor();return;case be.HIGHLIGHT_DEFAULT_COLOR:this.#I?.updateColor(i);break;case be.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#L||=new Map).set(t,i),this.showAllEditors("highlight",i);break}for(let r of this.#y)r.updateParams(t,i);for(let r of this.#h)r.updateDefaultParams(t,i)}}showAllEditors(t,i,r=!1){for(let a of this.#n.values())a.editorType===t&&a.show(i);(this.#L?.get(be.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#V([[be.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#E!==t){this.#E=t;for(let i of this.#i.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#se(){return Z(this,null,function*(){if(!this.#T){this.#T=!0;let t=[];for(let i of this.#i.values())t.push(i.enable());yield Promise.all(t);for(let i of this.#n.values())i.enable()}})}#ae(){if(this.unselectAll(),this.#T){this.#T=!1;for(let t of this.#i.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let i=[];for(let r of this.#n.values())r.pageIndex===t&&i.push(r);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#d.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#d.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#d.has(t)}removeDeletedAnnotationElement(t){this.#d.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#Y(t){let i=this.#i.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#V(t.propertiesToUpdate))}get#oe(){let t=null;for(t of this.#y);return t}updateUI(t){this.#oe===t&&this.#V(t.propertiesToUpdate)}toggleSelected(t){if(this.#y.has(t)){this.#y.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#y.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){for(let i of this.#y)i!==t&&i.unselect();this.#y.clear(),this.#y.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#y.has(t)}get firstSelectedEditor(){return this.#y.values().next().value}unselect(t){t.unselect(),this.#y.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#y.size!==0}get isEnterHandled(){return this.#y.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#M({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#l.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(t){this.#l.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#y],i=()=>{for(let s of t)s.remove()},r=()=>{for(let s of t)this.#Y(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#Q(t){for(let i of this.#y)i.unselect();this.#y.clear();for(let i of t)i.isEmpty()||(this.#y.add(i),i.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#y)t.commit();this.#Q(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==we.NONE))&&this.hasSelection){for(let t of this.#y)t.unselect();this.#y.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#W[0]+=t,this.#W[1]+=i;let[s,a]=this.#W,o=[...this.#y],c=1e3;this.#N&&clearTimeout(this.#N),this.#N=setTimeout(()=>{this.#N=null,this.#W[0]=this.#W[1]=0,this.addCommands({cmd:()=>{for(let u of o)this.#n.has(u.id)&&u.translateInPage(s,a)},undo:()=>{for(let u of o)this.#n.has(u.id)&&u.translateInPage(-s,-a)},mustExec:!1})},c);for(let u of o)u.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#a=new Map;for(let t of this.#y)this.#a.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#a)return!1;this.disableUserSelect(!1);let t=this.#a;this.#a=null;let i=!1;for(let[{x:s,y:a,pageIndex:o},c]of t)c.newX=s,c.newY=a,c.newPageIndex=o,i||=s!==c.savedX||a!==c.savedY||o!==c.savedPageIndex;if(!i)return!1;let r=(s,a,o,c)=>{if(this.#n.has(s.id)){let u=this.#i.get(c);u?s._setParentAndPosition(u,a,o):(s.pageIndex=c,s.x=a,s.y=o)}};return this.addCommands({cmd:()=>{for(let[s,{newX:a,newY:o,newPageIndex:c}]of t)r(s,a,o,c)},undo:()=>{for(let[s,{savedX:a,savedY:o,savedPageIndex:c}]of t)r(s,a,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#a)for(let r of this.#a.keys())r.drag(t,i)}rebuild(t){if(t.parent===null){let i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#y.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#A}get imageManager(){return Pe(this,"imageManager",new pv)}getSelectionBoxes(t){if(!t)return null;let i=document.getSelection();for(let d=0,h=i.rangeCount;d<h;d++)if(!t.contains(i.getRangeAt(d).commonAncestorContainer))return null;let{x:r,y:s,width:a,height:o}=t.getBoundingClientRect(),c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,h,f,p)=>({x:(h-s)/o,y:1-(d+f-r)/a,width:p/o,height:f/a});break;case"180":c=(d,h,f,p)=>({x:1-(d+f-r)/a,y:1-(h+p-s)/o,width:f/a,height:p/o});break;case"270":c=(d,h,f,p)=>({x:1-(h+p-s)/o,y:(d-r)/a,width:p/o,height:f/a});break;default:c=(d,h,f,p)=>({x:(d-r)/a,y:(h-s)/o,width:f/a,height:p/o});break}let u=[];for(let d=0,h=i.rangeCount;d<h;d++){let f=i.getRangeAt(d);if(!f.collapsed)for(let{x:p,y:g,width:m,height:y}of f.getClientRects())m===0||y===0||u.push(c(p,g,m,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#c||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#c?.delete(t)}renderAnnotationElement(t){let i=this.#c?.get(t.data.id);if(!i)return;let r=this.#r.getRawValue(i);r&&(this.#A===we.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}}return n})(),RF=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#s=null;#r=null;#c=!1;#l=null;#u=null;#o=null;#d=null;#a=!1;static#h=null;static _l10n=null;constructor(t){this.#u=t,this.#a=t._uiManager.useNewAltTextFlow,n.#h||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){n._l10n??=t}render(){return Z(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";let i=this.#i=document.createElement("span");t.append(i),this.#a?(t.classList.add("new"),t.setAttribute("data-l10n-id",n.#h.missing),i.setAttribute("data-l10n-id",n.#h["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let r=this.#u._uiManager._signal;t.addEventListener("contextmenu",Qn,{signal:r}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});let s=a=>{a.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#a&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",s,{capture:!0,signal:r}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#c=!0,s(a))},{signal:r}),yield this.#f(),t})}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#c}),this.#c=!1)}isEmpty(){return this.#a?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#a?this.#e!==null||!!this.#o:this.isEmpty()}get guessedText(){return this.#o}setGuessedText(t){return Z(this,null,function*(){this.#e===null&&(this.#o=t,this.#d=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#f())})}toggleAltTextBadge(t=!1){if(!this.#a||this.#e){this.#l?.remove(),this.#l=null;return}if(!this.#l){let i=this.#l=document.createElement("div");i.className="noAltTextBadge",this.#u.div.append(i)}this.#l.classList.toggle("hidden",!t)}serialize(t){let i=this.#e;return!t&&this.#o===i&&(i=this.#d),{altText:i,decorative:this.#t,guessedText:this.#o,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i,guessedText:r,textWithDisclaimer:s,cancel:a=!1}){r&&(this.#o=r,this.#d=s),!(this.#e===t&&this.#t===i)&&(a||(this.#e=t,this.#t=i),this.#f())}toggle(t=!1){this.#n&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#n.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#l?.remove(),this.#l=null}#f(){return Z(this,null,function*(){let t=this.#n;if(!t)return;if(this.#a){if(t.classList.toggle("done",!!this.#e),t.setAttribute("data-l10n-id",n.#h[this.#p]),this.#i?.setAttribute("data-l10n-id",n.#h[`${this.#p}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=this.#s;if(!i){this.#s=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${this.#u.id}`;let s=100,a=this.#u._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s?.classList.remove("show")},{signal:a})}this.#t?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=this.#e),i.parentNode||t.append(i),this.#u.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),Ge=class n{#e=null;#t=null;#n=null;#i=!1;#s=!1;#r=null;#c=null;#l=null;#u="";#o=!1;#d=null;#a=!1;#h=!1;#p=!1;#f=null;#g=0;#b=0;#m=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#v=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new mv;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=Ll.TRANSLATE_SMALL,i=Ll.TRANSLATE_BIG;return Pe(this,"_resizerKeyboardManager",new Hs([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];let[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new bv({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(n._l10n??=e,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let i=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){it("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(e){this.#_=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#v}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#L(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#o?this.#o=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){let[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}#D([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this.fixAndSetPosition()}translate(e,t){this.#D(this.parentDimensions,e,t)}translateInPage(e,t){this.#d||=[this.x,this.y],this.#D(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#d||=[this.x,this.y];let[i,r]=this.parentDimensions;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this,[o,c]=this.getBaseTranslation();s+=o,a+=c,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#d&&(this.#d[0]!==this.x||this.#d[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:i}=n,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,i]=this.pageDimensions,{x:r,y:s,width:a,height:o}=this;if(a*=t,o*=i,r*=t,s*=i,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),s=Math.max(0,Math.min(i-o,s));break;case 90:r=Math.max(0,Math.min(t-o,r)),s=Math.min(i,Math.max(a,s));break;case 180:r=Math.min(t,Math.max(a,r)),s=Math.min(i,Math.max(o,s));break;case 270:r=Math.min(t,Math.max(o,r)),s=Math.max(0,Math.min(i-a,s));break}this.x=r/=t,this.y=s/=i;let[c,u]=this.getBaseTranslation();r+=c,s+=u;let{style:d}=this.div;d.left=`${(100*r).toFixed(2)}%`,d.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}static#x(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#x(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#x(e,t,360-this.parentRotation)}#w(e){switch(e){case 90:{let[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){let[i,r]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:i}=e,r=i.endsWith("%"),s=!this.#s&&t.endsWith("%");if(r&&s)return;let[a,o]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!this.#s&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#F(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let i of e){let r=document.createElement("div");this.#r.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#T.bind(this,i),{signal:t}),r.addEventListener("contextmenu",Qn,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#r)}#T(e,t){t.preventDefault();let{isMac:i}=jt.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#n?.toggle(!1);let r=this._isDraggable;this._isDraggable=!1;let s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#S.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Qn,{signal:a});let o=this.x,c=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let p=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=h,this.div.style.cursor=f,this.#E(o,c,u,d)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})}#E(e,t,i,r){let s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===t&&o===i&&c===r||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=s,this.y=a;let[u,d]=this.parentDimensions;this.setDims(u*o,d*c),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=r,this.x=e,this.y=t;let[u,d]=this.parentDimensions;this.setDims(u*i,d*r),this.fixAndSetPosition()},mustExec:!0})}#S(e,t){let[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,u=n.MIN_SIZE/i,d=n.MIN_SIZE/r,h=M=>Math.round(M*1e4)/1e4,f=this.#w(this.rotation),p=(M,U)=>[f[0]*M+f[2]*U,f[1]*M+f[3]*U],g=this.#w(360-this.rotation),m=(M,U)=>[g[0]*M+g[2]*U,g[1]*M+g[3]*U],y,b,w=!1,_=!1;switch(e){case"topLeft":w=!0,y=(M,U)=>[0,0],b=(M,U)=>[M,U];break;case"topMiddle":y=(M,U)=>[M/2,0],b=(M,U)=>[M/2,U];break;case"topRight":w=!0,y=(M,U)=>[M,0],b=(M,U)=>[0,U];break;case"middleRight":_=!0,y=(M,U)=>[M,U/2],b=(M,U)=>[0,U/2];break;case"bottomRight":w=!0,y=(M,U)=>[M,U],b=(M,U)=>[0,0];break;case"bottomMiddle":y=(M,U)=>[M/2,U],b=(M,U)=>[M/2,0];break;case"bottomLeft":w=!0,y=(M,U)=>[0,U],b=(M,U)=>[M,0];break;case"middleLeft":_=!0,y=(M,U)=>[0,U/2],b=(M,U)=>[M,U/2];break}let D=y(o,c),A=b(o,c),T=p(...A),E=h(s+T[0]),k=h(a+T[1]),S=1,C=1,[L,x]=this.screenToPageTranslation(t.movementX,t.movementY);if([L,x]=m(L/i,x/r),w){let M=Math.hypot(o,c);S=C=Math.max(Math.min(Math.hypot(A[0]-D[0]-L,A[1]-D[1]-x)/M,1/o,1/c),u/o,d/c)}else _?S=Math.max(u,Math.min(1,Math.abs(A[0]-D[0]-L)))/o:C=Math.max(d,Math.min(1,Math.abs(A[1]-D[1]-x)))/c;let B=h(o*S),q=h(c*C);T=p(...b(B,q));let H=E-T[0],I=k-T[1];this.width=B,this.height=q,this.x=H,this.y=I,this.setDims(i*B,r*q),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return Z(this,null,function*(){return this._editToolbar||this.#h?this._editToolbar:(this._editToolbar=new dv(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){let t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return Z(this,null,function*(){this.#n||(RF.initialize(n._l10n),this.#n=new RF(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return Z(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#P();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[i,r]=this.getInitialTranslation();return this.translate(i,r),Wf(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=jt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#o=!0,this._isDraggable){this.#I(e);return}this.#C(e)}get isSelected(){return this._uiManager.isSelected(this)}#C(e){let{isMac:t}=jt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(e){let{isSelected:t}=this;this._uiManager.setUpDragSession();let i=new AbortController,r=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),this.#g=e.clientX,this.#b=e.clientY;let a=o=>{let{clientX:c,clientY:u}=o,[d,h]=this.screenToPageTranslation(c-this.#g,u-this.#b);this.#g=c,this.#b=u,this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",a,{passive:!0,capture:!0,signal:r})}let s=()=>{i.abort(),t&&this.div.classList.remove("moving"),this.#o=!1,this._uiManager.endDragSession()||this.#C(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){let r=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/r,d=t/r,h=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(i){case 0:return[h+u+o,a-f-d-g+c,h+u+p+o,a-f-d+c];case 90:return[h+d+o,a-f+u+c,h+d+g+o,a-f+u+p+c];case 180:return[h-u-p+o,a-f+d+c,h-u+o,a-f+d+g+c];case 270:return[h-d-g+o,a-f-u-p+c,h-d+o,a-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[i,r,s,a]=e,o=s-i,c=a-r;switch(this.rotation){case 0:return[i,t-a,o,c];case 90:return[i,t-r,c,o];case 180:return[s,t-r,o,c];case 270:return[s,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#P(){if(this.#l||!this.div)return;this.#l=new AbortController;let e=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#P()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){it("An editor must be serializable")}static deserialize(e,t,i){return Z(this,null,function*(){let r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});r.rotation=e.rotation,r.#e=e.accessibilityData;let[s,a]=r.pageDimensions,[o,c,u,d]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=c/a,r.width=u/s,r.height=d/a,r})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#L(),this.removeEditToolbar(),this.#m){for(let e of this.#m.values())clearTimeout(e);this.#m=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#r.classList.remove("hidden"),Wf(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#r.children;if(!this.#t){this.#t=Array.from(t);let a=this.#A.bind(this),o=this.#y.bind(this),c=this._uiManager._signal;for(let u of this.#t){let d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",this.#k.bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",n._l10nResizer[d])}}let i=this.#t[0],r=0;for(let a of t){if(a===i)break;r++}let s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)this.#r.append(this.#r.firstChild);else if(s>r)for(let o=0;o<s-r;o++)this.#r.firstChild.before(this.#r.lastChild);let a=0;for(let o of t){let u=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",n._l10nResizer[u])}}this.#U(0),this.#p=!0,this.#r.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#A(e){n._resizerKeyboardManager.exec(this,e)}#y(e){this.#p&&e.relatedTarget?.parentNode!==this.#r&&this.#L()}#k(e){this.#u=this.#p?e:""}#U(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#S(this.#u,{movementX:e,movementY:t})}#L(){if(this.#p=!1,this.#U(-1),this.#c){let{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#c;this.#E(e,t,i,r),this.#c=null}}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#a}set isEditing(e){this.#a=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#s=!0;let i=e/t,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#m||=new Map;let{action:i}=e,r=this.#m.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#m.delete(i),this.#m.size===0&&(this.#m=null)},n._telemetryTimeout),this.#m.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},bv=class extends Ge{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},MF=3285377520,Yn=4294901760,Fi=65535,jf=class{constructor(e){this.h1=e?e&4294967295:MF,this.h2=e?e&4294967295:MF}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,y=e.length;m<y;m++){let b=e.charCodeAt(m);b<=255?t[i++]=b:(t[i++]=b>>>8,t[i++]=b&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r),o=0,c=0,u=this.h1,d=this.h2,h=3432918353,f=461845907,p=h&Fi,g=f&Fi;for(let m=0;m<r;m++)m&1?(o=a[m],o=o*h&Yn|o*p&Fi,o=o<<15|o>>>17,o=o*f&Yn|o*g&Fi,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[m],c=c*h&Yn|c*p&Fi,c=c<<15|c>>>17,c=c*f&Yn|c*g&Fi,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*h&Yn|o*p&Fi,o=o<<15|o>>>17,o=o*f&Yn|o*g&Fi,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Yn|e*36045&Fi,t=t*4283543511&Yn|((t<<16|e>>>16)*2950163797&Yn)>>>16,e^=t>>>1,e=e*444984403&Yn|e*60499&Fi,t=t*3301882366&Yn|((t<<16|e>>>16)*3120437893&Yn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},_v=Object.freeze({map:null,hash:"",transfer:void 0}),Ol=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(e,t){let i=this.#n.get(e),r=!1;if(i!==void 0)for(let[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,this.#n.set(e,t);r&&this.#i(),t instanceof Ge&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?T0(this.#n):null}setAll(e){for(let[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Vf(this)}get serializable(){if(this.#n.size===0)return _v;let e=new Map,t=new jf,i=[],r=Object.create(null),s=!1;for(let[a,o]of this.#n){let c=o instanceof Ge?o.serialize(!1,r):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||=!!c.bitmap)}if(s)for(let a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:_v}get editorStats(){let e=null,t=new Map;for(let i of this.#n.values()){if(!(i instanceof Ge))continue;let r=i.telemetryFinalData;if(!r)continue;let{type:s}=r;t.has(s)||t.set(s,Object.getPrototypeOf(i).constructor),e||=Object.create(null);let a=e[s]||=new Map;for(let[o,c]of Object.entries(r)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));let d=u.get(c)??0;u.set(c,d+1)}}for(let[i,r]of t)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof Ge)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},Vf=class extends Ol{#e;constructor(e){super();let{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){it("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Pe(this,"modifiedIds",{ids:new Set,hash:""})}},yv=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return Z(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(Ct(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{yield o.load(),this.#e.add(r),t?.(e)}catch{Ee(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}it("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return Z(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(r){throw Ee(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return Pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Yt||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Pe(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ct(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){let s=i.shift();setTimeout(s.callback,0)}}let{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(D,A){return D.charCodeAt(A)<<24|D.charCodeAt(A+1)<<16|D.charCodeAt(A+2)<<8|D.charCodeAt(A+3)&255}function r(D,A,T,E){let k=D.substring(0,A),S=D.substring(A+T);return k+E+S}let s,a,o=this._document.createElement("canvas");o.width=1,o.height=1;let c=o.getContext("2d"),u=0;function d(D,A){if(++u>30){Ee("Load test font never loaded."),A();return}if(c.font="30px "+D,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(d.bind(null,D,A))}let h=`lt${Date.now()}${this.loadTestFontId++}`,f=this._loadTestFont;f=r(f,976,h.length,h);let g=16,m=1482184792,y=i(f,g);for(s=0,a=h.length-3;s<a;s+=4)y=y-m+i(h,s)|0;s<h.length&&(y=y-m+i(h+"XXX",s)|0),f=r(f,g,4,h5(y));let b=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${h}";src:${b}}`;this.insertRule(w);let _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(let D of[e.loadedName,h]){let A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=D,_.append(A)}this._document.body.append(_),d(h,()=>{_.remove(),t.complete()})}},vv=class{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(let r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=`url(data:${this.mimetype};base64,${_5(this.data)});`,t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(s){Ee(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(s,a){};let r=[];for(let s=0,a=i.length;s<a;)switch(i[s++]){case nr.BEZIER_CURVE_TO:{let[o,c,u,d,h,f]=i.slice(s,s+6);r.push(p=>p.bezierCurveTo(o,c,u,d,h,f)),s+=6}break;case nr.MOVE_TO:{let[o,c]=i.slice(s,s+2);r.push(u=>u.moveTo(o,c)),s+=2}break;case nr.LINE_TO:{let[o,c]=i.slice(s,s+2);r.push(u=>u.lineTo(o,c)),s+=2}break;case nr.QUADRATIC_CURVE_TO:{let[o,c,u,d]=i.slice(s,s+4);r.push(h=>h.quadraticCurveTo(o,c,u,d)),s+=4}break;case nr.RESTORE:r.push(o=>o.restore());break;case nr.SAVE:r.push(o=>o.save());break;case nr.SCALE:Ct(r.length===2,"Scale command is only valid at the third position.");break;case nr.TRANSFORM:{let[o,c,u,d,h,f]=i.slice(s,s+6);r.push(p=>p.transform(o,c,u,d,h,f)),s+=6}break;case nr.TRANSLATE:{let[o,c]=i.slice(s,s+2);r.push(u=>u.translate(o,c)),s+=2}break}return this.compiledGlyphs[t]=function(a,o){r[0](a),r[1](a),a.scale(o,-o);for(let c=2,u=r.length;c<u;c++)r[c](a)}}},zf=class{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){it("Abstract method `_createCanvas` called.")}},xv=class extends zf{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let i=this._document.createElement("canvas");return i.width=e,i.height=t,i}},Hf=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return Z(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetch(e){return Z(this,null,function*(){it("Abstract method `_fetch` called.")})}},qf=class extends Hf{_fetch(e){return Z(this,null,function*(){let t=yield vp(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):yp(t)})}},Gf=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}},wv=class extends Gf{#e;#t;#n;#i;#s;#r;#c=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#i=e,this.#s=t}get#l(){return this.#t||=new Map}get#u(){return this.#r||=new Map}get#o(){if(!this.#n){let e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let i=this.#s.createElementNS(rr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(rr,"defs"),e.append(i),i.append(this.#n),this.#s.body.append(e)}return this.#n}#d(e){if(e.length===1){let c=e[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=c[h]/255;let d=u.join(",");return[d,d,d]}let[t,i,r]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let c=0;c<256;c++)s[c]=t[c]/255,a[c]=i[c]/255,o[c]=r[c]/255;return[s.join(","),a.join(","),o.join(",")]}#a(e){if(this.#e===void 0){this.#e="";let t=this.#s.URL;t!==this.#s.baseURI&&(xp(t)?Ee('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;let[i,r,s]=this.#d(e),a=e.length===1?i:`${i}${r}${s}`;if(t=this.#l.get(a),t)return this.#l.set(e,t),t;let o=`g_${this.#i}_transfer_map_${this.#c++}`,c=this.#a(o);this.#l.set(e,c),this.#l.set(a,c);let u=this.#f(o);return this.#b(i,r,s,u),c}addHCMFilter(e,t){let i=`${e}-${t}`,r="base",s=this.#u.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#u.set(r,s)),!e||!t))return s.url;let a=this.#_(e);e=he.makeHexColor(...a);let o=this.#_(t);if(t=he.makeHexColor(...o),this.#o.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;let c=new Array(256);for(let p=0;p<=255;p++){let g=p/255;c[p]=g<=.03928?g/12.92:((g+.055)/1.055)**2.4}let u=c.join(","),d=`g_${this.#i}_hcm_filter`,h=s.filter=this.#f(d);this.#b(u,u,u,h),this.#p(h);let f=(p,g)=>{let m=a[p]/255,y=o[p]/255,b=new Array(g+1);for(let w=0;w<=g;w++)b[w]=m+w/g*(y-m);return b.join(",")};return this.#b(f(0,5),f(1,5),f(2,5),h),s.url=this.#a(d),s.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;let[i]=this.#d([e]),r=`alpha_${i}`;if(t=this.#l.get(r),t)return this.#l.set(e,t),t;let s=`g_${this.#i}_alpha_map_${this.#c++}`,a=this.#a(s);this.#l.set(e,a),this.#l.set(r,a);let o=this.#f(s);return this.#m(i,o),a}addLuminosityFilter(e){let t=this.#l.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#d([e]),r=`luminosity_${i}`):r="luminosity",t=this.#l.get(r),t)return this.#l.set(e,t),t;let s=`g_${this.#i}_luminosity_map_${this.#c++}`,a=this.#a(s);this.#l.set(e,a),this.#l.set(r,a);let o=this.#f(s);return this.#h(o),e&&this.#m(i,o),a}addHighlightHCMFilter(e,t,i,r,s){let a=`${t}-${i}-${r}-${s}`,o=this.#u.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#u.set(e,o)),!t||!i))return o.url;let[c,u]=[t,i].map(this.#_.bind(this)),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[r,s].map(this.#_.bind(this));h<d&&([d,h,f,p]=[h,d,p,f]),this.#o.style.color="";let g=(b,w,_)=>{let D=new Array(256),A=(h-d)/_,T=b/255,E=(w-b)/(255*_),k=0;for(let S=0;S<=_;S++){let C=Math.round(d+S*A),L=T+S*E;for(let x=k;x<=C;x++)D[x]=L;k=C+1}for(let S=k;S<256;S++)D[S]=D[k-1];return D.join(",")},m=`g_${this.#i}_hcm_${e}_filter`,y=o.filter=this.#f(m);return this.#p(y),this.#b(g(f[0],p[0],5),g(f[1],p[1],5),g(f[2],p[2],5),y),o.url=this.#a(m),o.url}destroy(e=!1){e&&this.#u.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#c=0)}#h(e){let t=this.#s.createElementNS(rr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){let t=this.#s.createElementNS(rr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#f(e){let t=this.#s.createElementNS(rr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#o.append(t),t}#g(e,t,i){let r=this.#s.createElementNS(rr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#b(e,t,i,r){let s=this.#s.createElementNS(rr,"feComponentTransfer");r.append(s),this.#g(s,"feFuncR",e),this.#g(s,"feFuncG",t),this.#g(s,"feFuncB",i)}#m(e,t){let i=this.#s.createElementNS(rr,"feComponentTransfer");t.append(i),this.#g(i,"feFuncA",e)}#_(e){return this.#o.style.color=e,F0(getComputedStyle(this.#o).getPropertyValue("color"))}},$f=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return Z(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${e}`;return this._fetch(i).catch(r=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetch(e){return Z(this,null,function*(){it("Abstract method `_fetch` called.")})}},Xf=class extends $f{_fetch(e){return Z(this,null,function*(){let t=yield vp(e,"arraybuffer");return new Uint8Array(t)})}};Yt&&(Pf=Promise.withResolvers(),Rf=null,Z(null,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),i=yield import("./chunk-ALIQTIYY.js"),r=yield import("./chunk-NYZOWURK.js"),s,a;return new Map(Object.entries({fs:e,http:t,https:i,url:r,canvas:s,path2d:a}))}).then(e=>{Rf=e,Pf.resolve()},e=>{Ee(`loadPackages: ${e}`),Rf=new Map,Pf.resolve()}));var Pf,Rf,Ii=class{static get promise(){return Pf.promise}static get(e){return Rf?.get(e)}};function KF(n){return Z(this,null,function*(){let t=yield Ii.get("fs").promises.readFile(n);return new Uint8Array(t)})}var Dv=class extends Gf{},Ev=class extends zf{_createCanvas(e,t){return Ii.get("canvas").createCanvas(e,t)}},Av=class extends Hf{_fetch(e){return Z(this,null,function*(){return KF(e)})}},Cv=class extends $f{_fetch(e){return Z(this,null,function*(){return KF(e)})}},on={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Tv(n,e){if(!e)return;let t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}var Bl=class{getPattern(){it("Abstract method `getPattern` called.")}},Sv=class extends Bl{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===on.STROKE||r===on.FILL){let a=t.current.getClippedPathBoundingBox(r,at(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),i=he.transform(i,[1,0,0,1,a[0],a[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Tv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");let h=new DOMMatrix(i);s.setTransform(h)}else Tv(e,this._bbox),s=this._createGradient(e);return s}};function av(n,e,t,i,r,s,a,o){let c=e.coords,u=e.colors,d=n.data,h=n.width*4,f;c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f),c[i+1]>c[r+1]&&(f=i,i=r,r=f,f=a,a=o,o=f),c[t+1]>c[i+1]&&(f=t,t=i,i=f,f=s,s=a,a=f);let p=(c[t]+e.offsetX)*e.scaleX,g=(c[t+1]+e.offsetY)*e.scaleY,m=(c[i]+e.offsetX)*e.scaleX,y=(c[i+1]+e.offsetY)*e.scaleY,b=(c[r]+e.offsetX)*e.scaleX,w=(c[r+1]+e.offsetY)*e.scaleY;if(g>=w)return;let _=u[s],D=u[s+1],A=u[s+2],T=u[a],E=u[a+1],k=u[a+2],S=u[o],C=u[o+1],L=u[o+2],x=Math.round(g),B=Math.round(w),q,H,I,M,U,P,N,G;for(let Y=x;Y<=B;Y++){if(Y<y){let le=Y<g?0:(g-Y)/(g-y);q=p-(p-m)*le,H=_-(_-T)*le,I=D-(D-E)*le,M=A-(A-k)*le}else{let le;Y>w?le=1:y===w?le=0:le=(y-Y)/(y-w),q=m-(m-b)*le,H=T-(T-S)*le,I=E-(E-C)*le,M=k-(k-L)*le}let K;Y<g?K=0:Y>w?K=1:K=(g-Y)/(g-w),U=p-(p-b)*K,P=_-(_-S)*K,N=D-(D-C)*K,G=A-(A-L)*K;let de=Math.round(Math.min(q,U)),ge=Math.round(Math.max(q,U)),ce=h*Y+de*4;for(let le=de;le<=ge;le++)K=(q-le)/(q-U),K<0?K=0:K>1&&(K=1),d[ce++]=H-(H-P)*K|0,d[ce++]=I-(I-N)*K|0,d[ce++]=M-(M-G)*K|0,d[ce++]=255}}function E5(n,e,t){let i=e.coords,r=e.colors,s,a;switch(e.type){case"lattice":let o=e.verticesPerRow,c=Math.floor(i.length/o)-1,u=o-1;for(s=0;s<c;s++){let d=s*o;for(let h=0;h<u;h++,d++)av(n,t,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),av(n,t,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case"triangles":for(s=0,a=i.length;s<a;s+=3)av(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}var kv=class extends Bl{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){let o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,g=d/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/g},y=h+4,b=f+4,w=i.getCanvas("mesh",y,b),_=w.context,D=_.createImageData(h,f);if(t){let T=D.data;for(let E=0,k=T.length;E<k;E+=4)T[E]=t[0],T[E+1]=t[1],T[E+2]=t[2],T[E+3]=255}for(let T of this._figures)E5(D,T,m);return _.putImageData(D,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:c-2*g,scaleX:p,scaleY:g}}getPattern(e,t,i,r){Tv(e,this._bbox);let s;if(r===on.SHADING)s=he.singularValueDecompose2dScale(at(e));else if(s=he.singularValueDecompose2dScale(t.baseTransform),this.matrix){let o=he.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}let a=this._createMeshCanvas(s,r===on.SHADING?null:this._background,t.cachedCanvases);return r!==on.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}},Fv=class extends Bl{getPattern(){return"hotpink"}};function A5(n){switch(n[0]){case"RadialAxial":return new Sv(n);case"Mesh":return new kv(n);case"Dummy":return new Fv}throw new Error(`Unknown IR type: ${n[0]}`)}var NF={COLORED:1,UNCOLORED:2},C5=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,r,s,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(t){let{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:c}=this,{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),_p("TilingType: "+a);let h=i[0],f=i[1],p=i[2],g=i[3],m=p-h,y=g-f,b=he.singularValueDecompose2dScale(this.matrix),w=he.singularValueDecompose2dScale(this.baseTransform),_=b[0]*w[0],D=b[1]*w[1],A=m,T=y,E=!1,k=!1,S=Math.ceil(u*_),C=Math.ceil(d*D),L=Math.ceil(m*_),x=Math.ceil(y*D);S>=L?A=u:E=!0,C>=x?T=d:k=!0;let B=this.getSizeAndScale(A,this.ctx.canvas.width,_),q=this.getSizeAndScale(T,this.ctx.canvas.height,D),H=t.cachedCanvases.getCanvas("pattern",B.size,q.size),I=H.context,M=c.createCanvasGraphics(I);if(M.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(M,s,o),I.translate(-B.scale*h,-q.scale*f),M.transform(B.scale,0,0,q.scale,0,0),I.save(),this.clipBbox(M,h,f,p,g),M.baseTransform=at(M.ctx),M.executeOperatorList(r),M.endDrawing(),I.restore(),E||k){let U=H.canvas;E&&(A=u),k&&(T=d);let P=this.getSizeAndScale(A,this.ctx.canvas.width,_),N=this.getSizeAndScale(T,this.ctx.canvas.height,D),G=P.size,Y=N.size,K=t.cachedCanvases.getCanvas("pattern-workaround",G,Y),de=K.context,ge=E?Math.floor(m/u):0,ce=k?Math.floor(y/d):0;for(let le=0;le<=ge;le++)for(let De=0;De<=ce;De++)de.drawImage(U,G*le,Y*De,G,Y,0,0,G,Y);return{canvas:K.canvas,scaleX:P.scale,scaleY:N.scale,offsetX:h,offsetY:f}}return{canvas:H.canvas,scaleX:B.scale,scaleY:q.scale,offsetX:h,offsetY:f}}getSizeAndScale(t,i,r){let s=Math.max(n.MAX_PATTERN_SIZE,i),a=Math.ceil(t*r);return a>=s?a=s:r=a/t,{scale:r,size:a}}clipBbox(t,i,r,s,a){let o=s-i,c=a-r;t.ctx.rect(i,r,o,c),t.current.updateRectMinMax(at(t.ctx),[i,r,s,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,r){let s=t.ctx,a=t.current;switch(i){case NF.COLORED:let o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case NF.UNCOLORED:let c=he.makeHexColor(r[0],r[1],r[2]);s.fillStyle=c,s.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new uv(`Unsupported paint type: ${i}`)}}getPattern(t,i,r,s){let a=r;s!==on.SHADING&&(a=he.transform(a,i.baseTransform),this.matrix&&(a=he.transform(a,this.matrix)));let o=this.createPatternCanvas(i),c=new DOMMatrix(a);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);let u=t.createPattern(o.canvas,"repeat");return u.setTransform(c),u}}return n})();function T5({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){let o=jt.isLittleEndian?4278190080:255,[c,u]=a?[s,o]:[o,s],d=i>>3,h=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<r;g++){for(let y=e+d;e<y;e++){let b=e<f?n[e]:255;t[p++]=b&128?u:c,t[p++]=b&64?u:c,t[p++]=b&32?u:c,t[p++]=b&16?u:c,t[p++]=b&8?u:c,t[p++]=b&4?u:c,t[p++]=b&2?u:c,t[p++]=b&1?u:c}if(h===0)continue;let m=e<f?n[e++]:255;for(let y=0;y<h;y++)t[p++]=m&1<<7-y?u:c}return{srcPos:e,destPos:p}}var LF=16,OF=100,S5=15,BF=10,WF=1e3,Dn=16;function k5(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},n.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},n.transform=function(i,r,s,a,o,c){e.transform(i,r,s,a,o,c),this.__originalTransform(i,r,s,a,o,c)},n.setTransform=function(i,r,s,a,o,c){e.setTransform(i,r,s,a,o,c),this.__originalSetTransform(i,r,s,a,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var Iv=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function Cf(n,e,t,i,r,s,a,o,c,u){let[d,h,f,p,g,m]=at(n);if(h===0&&f===0){let w=a*d+g,_=Math.round(w),D=o*p+m,A=Math.round(D),T=(a+c)*d+g,E=Math.abs(Math.round(T)-_)||1,k=(o+u)*p+m,S=Math.abs(Math.round(k)-A)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),_,A),n.drawImage(e,t,i,r,s,0,0,E,S),n.setTransform(d,h,f,p,g,m),[E,S]}if(d===0&&p===0){let w=o*f+g,_=Math.round(w),D=a*h+m,A=Math.round(D),T=(o+u)*f+g,E=Math.abs(Math.round(T)-_)||1,k=(a+c)*h+m,S=Math.abs(Math.round(k)-A)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,_,A),n.drawImage(e,t,i,r,s,0,0,S,E),n.setTransform(d,h,f,p,g,m),[S,E]}n.drawImage(e,t,i,r,s,a,o,c,u);let y=Math.hypot(d,h),b=Math.hypot(f,p);return[y*c,b*u]}function F5(n){let{width:e,height:t}=n;if(e>WF||t>WF)return null;let i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1,a=new Uint8Array(s*(t+1)),o,c,u,d=e+7&-8,h=new Uint8Array(d*t),f=0;for(let b of n.data){let w=128;for(;w>0;)h[f++]=b&w?0:255,w>>=1}let p=0;for(f=0,h[f]!==0&&(a[0]=1,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(a[c]=h[f]?2:1,++p),f++;for(h[f]!==0&&(a[c]=2,++p),o=1;o<t;o++){f=o*d,u=o*s,h[f-d]!==h[f]&&(a[u]=h[f]?1:8,++p);let b=(h[f]?4:0)+(h[f-d]?8:0);for(c=1;c<e;c++)b=(b>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),r[b]&&(a[u+c]=r[b],++p),f++;if(h[f-d]!==h[f]&&(a[u+c]=h[f]?2:4,++p),p>i)return null}for(f=d*(t-1),u=o*s,h[f]!==0&&(a[u]=8,++p),c=1;c<e;c++)h[f]!==h[f+1]&&(a[u+c]=h[f]?4:8,++p),f++;if(h[f]!==0&&(a[u+c]=4,++p),p>i)return null;let g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(o=0;p&&o<=t;o++){let b=o*s,w=b+e;for(;b<w&&!a[b];)b++;if(b===w)continue;m.moveTo(b%s,o);let _=b,D=a[b];do{let A=g[D];do b+=A;while(!a[b]);let T=a[b];T!==5&&T!==10?(D=T,a[b]=0):(D=T&51*D>>4,a[b]&=D>>2|D<<2),m.lineTo(b%s,b/s|0),a[b]||--p}while(_!==b);--o}return h=null,a=null,function(b){b.save(),b.scale(1/e,-1/t),b.translate(0,-t),b.fill(m),b.beginPath(),b.restore()}}var Kf=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=$F,this.textMatrixScale=1,this.fontMatrix=lv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Kt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=he.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){let i=he.applyTransform(t,e),r=he.applyTransform(t.slice(2),e),s=he.applyTransform([t[0],t[3]],e),a=he.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],r[0],s[0],a[0]),this.minY=Math.min(this.minY,i[1],r[1],s[1],a[1]),this.maxX=Math.max(this.maxX,i[0],r[0],s[0],a[0]),this.maxY=Math.max(this.maxY,i[1],r[1],s[1],a[1])}updateScalingPathMinMax(e,t){he.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,r,s,a,o,c,u,d){let h=he.bezierBoundingBox(t,i,r,s,a,o,c,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=on.FILL,t=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(e===on.STROKE){t||it("Stroke bounding box must include transform.");let r=he.singularValueDecompose2dScale(t),s=r[0]*this.lineWidth/2,a=r[1]*this.lineWidth/2;i[0]-=s,i[1]-=a,i[2]+=s,i[3]+=a}return i}updateClipFromPath(){let e=he.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=on.FILL,t=null){return he.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function jF(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,i=e.width,r=t%Dn,s=(t-r)/Dn,a=r===0?s:s+1,o=n.createImageData(i,Dn),c=0,u,d=e.data,h=o.data,f,p,g,m;if(e.kind===Uf.GRAYSCALE_1BPP){let y=d.byteLength,b=new Uint32Array(h.buffer,0,h.byteLength>>2),w=b.length,_=i+7>>3,D=4294967295,A=jt.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?Dn:r,u=0,p=0;p<g;p++){let T=y-c,E=0,k=T>_?i:T*8-7,S=k&-8,C=0,L=0;for(;E<S;E+=8)L=d[c++],b[u++]=L&128?D:A,b[u++]=L&64?D:A,b[u++]=L&32?D:A,b[u++]=L&16?D:A,b[u++]=L&8?D:A,b[u++]=L&4?D:A,b[u++]=L&2?D:A,b[u++]=L&1?D:A;for(;E<k;E++)C===0&&(L=d[c++],C=128),b[u++]=L&C?D:A,C>>=1}for(;u<w;)b[u++]=0;n.putImageData(o,0,f*Dn)}}else if(e.kind===Uf.RGBA_32BPP){for(p=0,m=i*Dn*4,f=0;f<s;f++)h.set(d.subarray(c,c+m)),c+=m,n.putImageData(o,0,p),p+=Dn;f<a&&(m=i*r*4,h.set(d.subarray(c,c+m)),n.putImageData(o,0,p))}else if(e.kind===Uf.RGB_24BPP)for(g=Dn,m=i*g,f=0;f<a;f++){for(f>=s&&(g=r,m=i*g),u=0,p=m;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;n.putImageData(o,0,f*Dn)}else throw new Error(`bad image kind: ${e.kind}`)}function VF(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,i=e.width,r=t%Dn,s=(t-r)/Dn,a=r===0?s:s+1,o=n.createImageData(i,Dn),c=0,u=e.data,d=o.data;for(let h=0;h<a;h++){let f=h<s?Dn:r;({srcPos:c}=T5({src:u,srcPos:c,dest:d,width:i,height:f,nonBlackColor:0})),n.putImageData(o,0,h*Dn)}}function Sl(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Tf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Yt){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function zF(n,e){if(e)return!0;let t=he.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*qr.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}var I5=["butt","round","square"],U5=["miter","round","bevel"],P5={},HF={},po=class n{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},c,u){this.ctx=e,this.current=new Kf(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Iv(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){let s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){let c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),Tf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,i,r){let s=e.argsArray,a=e.fnArray,o=t||0,c=s.length;if(c===o)return o;let u=c-o>BF&&typeof i=="function",d=u?Date.now()+S5:0,h=0,f=this.commonObjs,p=this.objs,g;for(;;){if(r!==void 0&&o===r.nextBreakPoint)return r.breakIt(o,i),o;if(g=a[o],g!==li.dependency)this[g].apply(this,s[o]);else for(let m of s[o]){let y=m.startsWith("g_")?f:p;if(!y.has(m))return y.get(m,i),o}if(o++,o===c)return o;if(u&&++h>BF){if(Date.now()>d)return i(),o;h=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let i=e.width??e.displayWidth,r=e.height??e.displayHeight,s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,c=r,u="prescale1",d,h;for(;s>2&&o>1||a>2&&c>1;){let f=o,p=c;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,o,c,0,0,f,p),e=d.canvas,o=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e){let t=this.ctx,{width:i,height:r}=e,s=this.current.fillColor,a=this.current.patternFill,o=at(t),c,u,d,h;if((e.bitmap||e.data)&&e.count>1){let k=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),c=this._cachedBitmapsMap.get(k),c||(c=new Map,this._cachedBitmapsMap.set(k,c));let S=c.get(u);if(S&&!a){let C=Math.round(Math.min(o[0],o[2])+o[4]),L=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:S,offsetX:C,offsetY:L}}d=S}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),VF(h.context,e));let f=he.transform(o,[1/i,0,0,-1/r,0,0]);f=he.transform(f,[1,0,0,1,0,-r]);let[p,g,m,y]=he.getAxialAlignedBoundingBox([0,0,i,r],f),b=Math.round(m-p)||1,w=Math.round(y-g)||1,_=this.cachedCanvases.getCanvas("fillCanvas",b,w),D=_.context,A=p,T=g;D.translate(-A,-T),D.transform(...f),d||(d=this._scaleImage(h.canvas,ir(D)),d=d.img,c&&a&&c.set(u,d)),D.imageSmoothingEnabled=zF(at(D),e.interpolate),Cf(D,d,0,0,d.width,d.height,0,0,i,r),D.globalCompositeOperation="source-in";let E=he.transform(ir(D),[1,0,0,1,-A,-T]);return D.fillStyle=a?s.getPattern(t,this,E,on.FILL):s,D.fillRect(0,0,i,r),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(A),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=I5[e]}setLineJoin(e){this.ctx.lineJoin=U5[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;let s=this.ctx;s.setTransform(...at(this.suspendedCtx)),Sl(this.suspendedCtx,s),k5(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){let s=r[0],a=r[1],o=r[2]-s,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,i,o,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,c,u,d,h){let f=e.canvas,p=c-d,g=u-h;if(a){let y=he.makeHexColor(...a);if(p<0||g<0||p+i>f.width||g+r>f.height){let b=this.cachedCanvases.getCanvas("maskExtension",i,r),w=b.context;w.drawImage(f,-p,-g),w.globalCompositeOperation="destination-atop",w.fillStyle=y,w.fillRect(0,0,i,r),w.globalCompositeOperation="source-over",f=b.canvas,p=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let b=new Path2D;b.rect(p,g,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=y,e.fillRect(p,g,i,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));let m=new Path2D;m.rect(c,u,i,r),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,i,r,c,u,i,r),t.restore()}save(){this.inSMaskMode?(Sl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Sl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,r,s,a){this.ctx.transform(e,t,i,r,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){let r=this.ctx,s=this.current,a=s.x,o=s.y,c,u,d=at(r),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?i.slice(0):null;for(let p=0,g=0,m=e.length;p<m;p++)switch(e[p]|0){case li.rectangle:a=t[g++],o=t[g++];let y=t[g++],b=t[g++],w=a+y,_=o+b;r.moveTo(a,o),y===0||b===0?r.lineTo(w,_):(r.lineTo(w,o),r.lineTo(w,_),r.lineTo(a,_)),h||s.updateRectMinMax(d,[a,o,w,_]),r.closePath();break;case li.moveTo:a=t[g++],o=t[g++],r.moveTo(a,o),h||s.updatePathMinMax(d,a,o);break;case li.lineTo:a=t[g++],o=t[g++],r.lineTo(a,o),h||s.updatePathMinMax(d,a,o);break;case li.curveTo:c=a,u=o,a=t[g+4],o=t[g+5],r.bezierCurveTo(t[g],t[g+1],t[g+2],t[g+3],a,o),s.updateCurvePathMinMax(d,c,u,t[g],t[g+1],t[g+2],t[g+3],a,o,f),g+=6;break;case li.curveTo2:c=a,u=o,r.bezierCurveTo(a,o,t[g],t[g+1],t[g+2],t[g+3]),s.updateCurvePathMinMax(d,c,u,a,o,t[g],t[g+1],t[g+2],t[g+3],f),a=t[g+2],o=t[g+3],g+=4;break;case li.curveTo3:c=a,u=o,a=t[g+2],o=t[g+3],r.bezierCurveTo(t[g],t[g+1],a,o,a,o),s.updateCurvePathMinMax(d,c,u,t[g],t[g+1],a,o,a,o,f),g+=4;break;case li.closePath:r.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,ir(t),on.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,i=this.current.fillColor,r=this.current.patternFill,s=!1;r&&(t.save(),t.fillStyle=i.getPattern(t,this,ir(t),on.FILL),s=!0);let a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P5}eoClip(){this.pendingClip=HF}beginText(){this.current.textMatrix=$F,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||lv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ee("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;let s=i.loadedName||"sans-serif",a=i.systemFontInfo?.css||`"${s}", ${i.fallbackName}`,o="normal";i.black?o="900":i.bold&&(o="bold");let c=i.italic?"italic":"normal",u=t;t<LF?u=LF:t>OF&&(u=OF),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,r,s,a){this.current.textMatrix=[e,t,i,r,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,r){let s=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&Kt.FILL_STROKE_MASK,h=!!(c&Kt.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile,p;(o.disableFontFace||h||f)&&(p=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||f?(s.save(),s.translate(t,i),s.beginPath(),p(s,u),r&&s.setTransform(...r),(d===Kt.FILL||d===Kt.FILL_STROKE)&&s.fill(),(d===Kt.STROKE||d===Kt.FILL_STROKE)&&s.stroke(),s.restore()):((d===Kt.FILL||d===Kt.FILL_STROKE)&&s.fillText(e,t,i),(d===Kt.STROKE||d===Kt.FILL_STROKE)&&s.strokeText(e,t,i)),h&&(this.pendingTextPaths||=[]).push({transform:at(s),x:t,y:i,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Pe(this,"isFontSubpixelAAEnabled",i)}showText(e){let t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);let r=t.fontSize;if(r===0)return;let s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=i.vertical,p=f?1:-1,g=i.defaultVMetrics,m=r*t.fontMatrix[0],y=t.textRenderingMode===Kt.FILL&&!i.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(d,-1):s.scale(d,1);let b;if(t.patternFill){s.save();let T=t.fillColor.getPattern(s,this,ir(s),on.FILL);b=at(s),s.restore(),s.fillStyle=T}let w=t.lineWidth,_=t.textMatrixScale;if(_===0||w===0){let T=t.textRenderingMode&Kt.FILL_STROKE_MASK;(T===Kt.STROKE||T===Kt.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=_;if(a!==1&&(s.scale(a,a),w/=a),s.lineWidth=w,i.isInvalidPDFjsFont){let T=[],E=0;for(let k of e)T.push(k.unicode),E+=k.width;s.fillText(T.join(""),0,0),t.x+=E*m*d,s.restore(),this.compose();return}let D=0,A;for(A=0;A<h;++A){let T=e[A];if(typeof T=="number"){D+=p*T*r/1e3;continue}let E=!1,k=(T.isSpace?c:0)+o,S=T.fontChar,C=T.accent,L,x,B=T.width;if(f){let H=T.vmetric||g,I=-(T.vmetric?H[1]:B*.5)*m,M=H[2]*m;B=H?-H[0]:B,L=I/a,x=(D+M)/a}else L=D/a,x=0;if(i.remeasure&&B>0){let H=s.measureText(S).width*1e3/r*a;if(B<H&&this.isFontSubpixelAAEnabled){let I=B/H;E=!0,s.save(),s.scale(I,1),L/=I}else B!==H&&(L+=(B-H)/2e3*r/a)}if(this.contentVisible&&(T.isInFont||i.missingFile)){if(y&&!C)s.fillText(S,L,x);else if(this.paintChar(S,L,x,b),C){let H=L+r*C.offset.x/a,I=x-r*C.offset.y/a;this.paintChar(C.fontChar,H,I,b)}}let q=f?B*m-k*u:B*m+k*u;D+=q,E&&s.restore()}f?t.y-=D:t.x+=D*d,s.restore(),this.compose()}showType3Text(e){let t=this.ctx,i=this.current,r=i.font,s=i.fontSize,a=i.fontDirection,o=r.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*a,h=i.fontMatrix||lv,f=e.length,p=i.textRenderingMode===Kt.INVISIBLE,g,m,y,b;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(d,a),g=0;g<f;++g){if(m=e[g],typeof m=="number"){b=o*m*s/1e3,this.ctx.translate(b,0),i.x+=b*d;continue}let w=(m.isSpace?u:0)+c,_=r.charProcOperatorList[m.operatorListId];if(!_){Ee(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(s,s),t.transform(...h),this.executeOperatorList(_),this.restore()),y=he.applyTransform([m.width,0],h)[0]*s+w,t.translate(y,0),i.x+=y*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,r,s,a){this.ctx.rect(i,r,s-i,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let i=e[1],r=this.baseTransform||at(this.ctx),s={createCanvasGraphics:a=>new n(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new C5(e,i,this.ctx,s,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=he.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=he.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=A5(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,ir(t),on.SHADING);let r=ir(t);if(r){let{width:s,height:a}=t.canvas,[o,c,u,d]=he.getAxialAlignedBoundingBox([0,0,s,a],r);this.ctx.fillRect(o,c,u-o,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){it("Should not call beginInlineImage")}beginImageData(){it("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=at(this.ctx),t)){let i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.current.updateRectMinMax(at(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||_p("TODO: Support non-isolated groups."),e.knockout&&Ee("Knockout groups not supported.");let i=at(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=he.getAxialAlignedBoundingBox(e.bbox,at(t)),s=[0,0,t.canvas.width,t.canvas.height];r=he.intersect(r,s)||[0,0,0,0];let a=Math.floor(r[0]),o=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-a,1),u=Math.max(Math.ceil(r[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);let h=this.cachedCanvases.getCanvas(d,c,u),f=h.context;f.translate(-a,-o),f.transform(...i),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Sl(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let r=at(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);let s=he.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,i,r,s){if(this.#e(),Tf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;let[c,u]=he.singularValueDecompose2dScale(at(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),f=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);let{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),Tf(this.ctx)}else Tf(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new Kf(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=F5(e)),r.compiled)){r.compiled(i);return}let s=this._createMaskCanvas(e),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,r=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);let o=this.ctx;o.save();let c=at(o);o.transform(t,i,r,s,0,0);let u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let d=0,h=a.length;d<h;d+=2){let f=he.transform(c,[t,i,r,s,a[d],a[d+1]]),[p,g]=he.applyTransform([0,0],f);o.drawImage(u.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(let s of e){let{data:a,width:o,height:c,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,c),h=d.context;h.save();let f=this.getObject(a,s);VF(h,f),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,ir(t),on.FILL):i,h.fillRect(0,0,o,c),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Cf(t,d.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){Ee("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,r){if(!this.contentVisible)return;let s=this.getObject(e);if(!s){Ee("Dependent image isn't ready yet");return}let a=s.width,o=s.height,c=[];for(let u=0,d=r.length;u<d;u+=2)c.push({transform:[t,0,0,i,r[u],r[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,i=e.height,r=this.ctx;if(this.save(),!Yt){let{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none")}r.scale(1/t,-1/i);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{let c=this.cachedCanvases.getCanvas("inlineImage",t,i).context;jF(c,e),s=this.applyTransferMapsToCanvas(c)}let a=this._scaleImage(s,ir(r));r.imageSmoothingEnabled=zF(at(r),e.interpolate),Cf(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let i=this.ctx,r;if(e.bitmap)r=e.bitmap;else{let s=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",s,a).context;jF(c,e),r=this.applyTransferMapsToCanvas(c)}for(let s of t)i.save(),i.transform(...s.transform),i.scale(1,-1),Cf(i,r,s.x,s.y,s.w,s.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let i=this.ctx;this.pendingClip&&(t||(this.pendingClip===HF?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform(),a,o;if(i===0&&r===0){let c=Math.abs(t),u=Math.abs(s);if(c===u)if(e===0)a=o=1/c;else{let d=c*e;a=o=d<1?1/d:1}else if(e===0)a=1/c,o=1/u;else{let d=c*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{let c=Math.abs(t*s-i*r),u=Math.hypot(t,i),d=Math.hypot(r,s);if(e===0)a=d/c,o=u/c;else{let h=e*c;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:i}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=i||1,r===1&&s===1){t.stroke();return}let a=t.getLineDash();if(e&&t.save(),t.scale(r,s),a.length>0){let o=Math.max(r,s);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in li)po.prototype[n]!==void 0&&(po.prototype[li[n]]=po.prototype[n]);var Vs=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},Sf={UNKNOWN:0,DATA:1,ERROR:2},xt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Pn(n){switch(n instanceof Error||typeof n=="object"&&n!==null||it('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new or(n.message);case"MissingPDFException":return new ar(n.message);case"PasswordException":return new Ul(n.message,n.code);case"UnexpectedResponseException":return new _o(n.message,n.status);case"UnknownErrorException":return new Pl(n.message,n.details);default:return new Pl(n.message,n.toString())}}var Bs=class{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#i(e);return}if(e.callback){let i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Sf.DATA)r.resolve(e.data);else if(e.callback===Sf.ERROR)r.reject(Pn(e.reason));else throw new Error("Unexpected callback case");return}let t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){let i=this.sourceName,r=e.sourceName,s=this.comObj;new Promise(function(a){a(t(e.data))}).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:Sf.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:Sf.ERROR,callbackId:e.callbackId,reason:Pn(a)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){let i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){let r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){let s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{let d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},r),d.promise},pull:u=>{let d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,c.postMessage({sourceName:a,targetName:o,stream:xt.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Ct(u instanceof Error,"cancel must have a valid reason");let d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:xt.CANCEL,streamId:s,reason:Pn(u)}),d.promise}},i)}#n(e){let t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;let f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:xt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:xt.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ct(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:xt.ERROR,streamId:t,reason:Pn(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(u){u(o(e.data,c))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:xt.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:i,targetName:r,stream:xt.START_COMPLETE,streamId:t,reason:Pn(u)})})}#i(e){let t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case xt.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Pn(e.reason));break;case xt.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Pn(e.reason));break;case xt.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,new Promise(function(c){c(o.onPull?.())}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:xt.PULL_COMPLETE,streamId:t,reason:Pn(c)})});break;case xt.ENQUEUE:if(Ct(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case xt.CLOSE:if(Ct(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#s(a,t);break;case xt.ERROR:Ct(a,"error should have stream controller"),a.controller.error(Pn(e.reason)),this.#s(a,t);break;case xt.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Pn(e.reason)),this.#s(a,t);break;case xt.CANCEL:if(!o)break;new Promise(function(c){c(o.onCancel?.(Pn(e.reason)))}).then(function(){s.postMessage({sourceName:i,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:xt.CANCEL_COMPLETE,streamId:t,reason:Pn(c)})}),o.sinkCapability.reject(Pn(e.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#s(e,t){return Z(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.#e?.abort(),this.#e=null}},Uv=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return T0(this.#e)}has(e){return this.#e.has(e)}},fo=Symbol("INTERNAL"),Pv=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){this.#e=!!(e&Rn.DISPLAY),this.#t=!!(e&Rn.PRINT),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==fo&&it("Internal method `_setVisible` called."),this.#n=i,this.#i=t}},Rv=class{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=Rn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(let i of e.groups)this.#t.set(i.id,new Pv(t,i));if(e.baseState==="OFF")for(let i of this.#t.values())i._setVisible(fo,!1);for(let i of e.on)this.#t.get(i)._setVisible(fo,!0);for(let i of e.off)this.#t.get(i)._setVisible(fo,!1);this.#n=this.getHash()}}#s(e){let t=e.length;if(t<2)return!0;let i=e[0];for(let r=1;r<t;r++){let s=e[r],a;if(Array.isArray(s))a=this.#s(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return Ee(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return _p("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ee(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return Ee(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ee(`Unknown optional content policy ${e.policy}.`),!0}return Ee(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){let r=this.#t.get(e);if(!r){Ee(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(let s of r.rbGroups)for(let a of s)a!==e&&this.#t.get(a)?._setVisible(fo,!1,!0);r._setVisible(fo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(let r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}let s=this.#t.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?T0(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new jf;for(let[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}},Mv=class{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){let c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Ct(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new Nv(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new Lv(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},Nv=class{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=k0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(let s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return Z(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},Lv=class{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return Z(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function R5(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let d=o(t);return d=unescape(d),d=c(d),d=u(d),s(d)}if(t=a(n),t){let d=u(t);return s(d)}if(t=i("filename","i").exec(n),t){t=t[1];let d=o(t);return d=u(d),s(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{let f=new TextDecoder(d,{fatal:!0}),p=yp(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function a(d){let h=[],f,p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,y,b]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[y,b]}let g=[];for(let m=0;m<h.length&&m in h;++m){let[y,b]=h[m];b=o(b),y&&(b=unescape(b),m===0&&(b=c(b))),g.push(b)}return g.join("")}function o(d){if(d.startsWith('"')){let h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){let p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){let h=d.indexOf("'");if(h===-1)return d;let f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return r(f,g)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,y){return String.fromCharCode(parseInt(y,16))}),r(f,g);try{g=atob(g)}catch{}return r(f,g)})}return""}function I0(n,e){let t=new Headers;if(!n||!e||typeof e!="object")return t;for(let i in e){let r=e[i];r!==void 0&&t.append(i,r)}return t}function U0({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){let r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function P0(n){let e=n.get("Content-Disposition");if(e){let t=R5(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(k0(t))return t}return null}function wp(n,e){return n===404||n===0&&e.startsWith("file:")?new ar('Missing PDF "'+e+'".'):new _o(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function YF(n){return n===200||n===206}function QF(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function ZF(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ee(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var Yf=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=I0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ov(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new Bv(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Ov=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;let i=new Headers(e.headers),r=t.url;fetch(r,QF(i,this._withCredentials,this._abortController)).then(s=>{if(!YF(s.status))throw wp(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();let a=s.headers,{allowRangeRequests:o,suggestedLength:c}=U0({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=P0(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new or("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Z(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:ZF(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},Bv=class{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;let r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;let s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);let a=r.url;fetch(a,QF(s,this._withCredentials,this._abortController)).then(o=>{if(!YF(o.status))throw wp(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return Z(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:ZF(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},ov=200,cv=206;function M5(n){let e=n.response;return typeof e!="string"?e:yp(e).buffer}var Wv=class{constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=I0(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){let r={begin:e,end:t};for(let s in i)r[s]=i[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=cv):r.expectedStatus=ov,t.responseType="arraybuffer",e.onError&&(t.onerror=function(s){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){let i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){let i=this.pendingRequests[e];if(!i)return;let r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError?.(r.status);return}let s=r.status||ov;if(!(s===ov&&i.expectedStatus===cv)&&s!==i.expectedStatus){i.onError?.(r.status);return}let o=M5(r);if(s===cv){let c=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);i.onDone({begin:parseInt(u[1],10),chunk:o})}else o?i.onDone({begin:0,chunk:o}):i.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},jv=class{constructor(e){this._source=e,this._manager=new Wv(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Vv(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let i=new zv(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Vv=class{constructor(e,t){this._manager=e;let i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(a=>{let[o,...c]=a.split(": ");return[o,c.join(": ")]})),{allowRangeRequests:r,suggestedLength:s}=U0({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=P0(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=wp(e,this._url),this._headersCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return Z(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},zv=class{constructor(e,t,i){this._manager=e;let r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=wp(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return Z(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},N5=/^[a-z][a-z0-9\-+.]+:/i;function L5(n){if(N5.test(n))return new URL(n);let e=Ii.get("url");return new URL(e.pathToFileURL(n))}function JF(n,e,t){return n.protocol==="http:"?Ii.get("http").request(n,{headers:e},t):Ii.get("https").request(n,{headers:e},t)}var Hv=class{constructor(e){this.source=e,this.url=L5(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=I0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new $v(this):new qv(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=this.isFsUrl?new Xv(this,e,t):new Gv(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Qf=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return Z(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new or("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},Zf=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return Z(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},qv=class extends Qf{constructor(e){super(e);let t=Object.fromEntries(e.headers),i=r=>{if(r.statusCode===404){let c=new ar(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(r);let s=new Headers(this._readableStream.headers),{allowRangeRequests:a,suggestedLength:o}=U0({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=P0(s)};this._request=JF(this._url,t,i),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}},Gv=class extends Zf{constructor(e,t,i){super(e);let r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${i-1}`;let s=a=>{if(a.statusCode===404){let o=new ar(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(a)};this._request=JF(this._url,r,s),this._request.on("error",a=>{this._storedError=a}),this._request.end()}},$v=class extends Qf{constructor(e){super(e);let t=Ii.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new ar(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}},Xv=class extends Zf{constructor(e,t,i){super(e);let r=Ii.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}},O5=1e5,wn=30,B5=.8,Wl=class n{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#r=null;#c=0;#l=0;#u=null;#o=null;#d=0;#a=0;#h=Object.create(null);#p=[];#f=null;#g=[];#b=new WeakMap;#m=null;static#_=new Map;static#v=new Map;static#D=new WeakMap;static#x=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#f=e;else if(typeof e=="object")this.#f=new ReadableStream({start(c){c.enqueue(e),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#o=t,this.#a=i.scale*(globalThis.devicePixelRatio||1),this.#d=i.rotation,this.#r={div:null,properties:null,ctx:null};let{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;this.#m=[1,0,0,-1,-a,o+s],this.#l=r,this.#c=s,n.#I(),zs(t,i),this.#e.promise.finally(()=>{n.#w.delete(this),this.#r=null,this.#h=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:e,isFirefox:t}=jt.platform;return Pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){let e=()=>{this.#u.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#h,t.styles),this.#F(t.items),e()},this.#e.reject)};return this.#u=this.#f.getReader(),n.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==this.#d&&(t?.(),this.#d=r,zs(this.#o,{rotation:r})),i!==this.#a){t?.(),this.#a=i;let s={div:null,properties:null,ctx:n.#S(this.#s)};for(let a of this.#g)s.properties=this.#b.get(a),s.div=a,this.#E(s)}}cancel(){let e=new or("TextLayer task cancelled.");this.#u?.cancel(e).catch(()=>{}),this.#u=null,this.#e.reject(e)}get textDivs(){return this.#g}get textContentItemsStr(){return this.#p}#F(e){if(this.#n)return;this.#r.ctx??=n.#S(this.#s);let t=this.#g,i=this.#p;for(let r of e){if(t.length>O5){Ee("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){let s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id!==null&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#T(r)}}#T(e){let t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#g.push(t);let r=he.transform(this.#m,e.transform),s=Math.atan2(r[1],r[0]),a=this.#h[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#i&&a.fontSubstitution||a.fontFamily;o=n.fontFamilyMap.get(o)||o;let c=Math.hypot(r[2],r[3]),u=c*n.#P(o,this.#s),d,h;s===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(s),h=r[5]-u*Math.cos(s));let f="calc(var(--scale-factor)*",p=t.style;this.#t===this.#o?(p.left=`${(100*d/this.#l).toFixed(2)}%`,p.top=`${(100*h/this.#c).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(n.#x*c).toFixed(2)}px)`,p.fontFamily=o,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let m=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);m!==y&&Math.max(m,y)/Math.min(m,y)>1.5&&(g=!0)}if(g&&(i.canvasWidth=a.vertical?e.height:e.width),this.#b.set(t,i),this.#r.div=t,this.#r.properties=i,this.#E(this.#r),i.hasText&&this.#t.append(t),i.hasEOL){let m=document.createElement("br");m.setAttribute("role","presentation"),this.#t.append(m)}}#E(e){let{div:t,properties:i,ctx:r}=e,{style:s}=t,a="";if(n.#x>1&&(a=`scale(${1/n.#x})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:o}=s,{canvasWidth:c,fontSize:u}=i;n.#C(r,u*this.#a,o);let{width:d}=r.measureText(t.textContent);d>0&&(a=`scaleX(${c*this.#a/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#w.size>0)){this.#_.clear();for(let{canvas:e}of this.#v.values())e.remove();this.#v.clear()}}static#S(e=null){let t=this.#v.get(e||="");if(!t){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(e,t),this.#D.set(t,{size:0,family:""})}return t}static#C(e,t,i){let r=this.#D.get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)}static#I(){if(this.#x!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#x=e.getBoundingClientRect().height,e.remove()}static#P(e,t){let i=this.#_.get(e);if(i)return i;let r=this.#S(t);r.canvas.width=r.canvas.height=wn,this.#C(r,wn,e);let s=r.measureText(""),a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){let d=a/(a+o);return this.#_.set(e,d),r.canvas.width=r.canvas.height=0,d}r.strokeStyle="red",r.clearRect(0,0,wn,wn),r.strokeText("g",0,0);let c=r.getImageData(0,0,wn,wn).data;o=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){o=Math.ceil(d/4/wn);break}r.clearRect(0,0,wn,wn),r.strokeText("A",0,wn),c=r.getImageData(0,0,wn,wn).data,a=0;for(let d=0,h=c.length;d<h;d+=4)if(c[d]>0){a=wn-Math.floor(d/4/wn);break}r.canvas.width=r.canvas.height=0;let u=a?a/(a+o):B5;return this.#_.set(e,u),u}},jl=class n{static textContent(e){let t=[],i={items:t,styles:Object.create(null)};function r(s){if(!s)return;let a=null,o=s.name;if(o==="#text")a=s.value;else if(n.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(let c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},W5=65536,j5=100,V5=5e3,z5=Yt?Ev:xv,H5=Yt?Av:qf,q5=Yt?Dv:wv,G5=Yt?Cv:Xf;function $5(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new Kv,{docId:t}=e,i=n.url?X5(n.url):null,r=n.data?K5(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof Jf?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:W5,d=n.worker instanceof go?n.worker:null,h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!xp(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,m=n.CMapReaderFactory||H5,y=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,b=n.StandardFontDataFactory||G5,w=n.stopAtErrors!==!0,_=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,D=n.isEvalSupported!==!1,A=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Yt,T=typeof n.isChrome=="boolean"?n.isChrome:!jt.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,E=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,k=typeof n.disableFontFace=="boolean"?n.disableFontFace:Yt,S=n.fontExtraProperties===!0,C=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,x=n.disableRange===!0,B=n.disableStream===!0,q=n.disableAutoFetch===!0,H=n.pdfBug===!0,I=n.CanvasFactory||z5,M=n.FilterFactory||q5,U=n.enableHWA===!0,P=c?c.length:n.length??NaN,N=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Yt&&!k,G=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===qf&&b===Xf&&p&&y&&Fl(p,document.baseURI)&&Fl(y,document.baseURI);n.canvasFactory&&PF("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&PF("`filterFactory`-instance option, please use `FilterFactory` instead.");let Y=null;c5(h);let K={canvasFactory:new I({ownerDocument:L,enableHWA:U}),filterFactory:new M({docId:t,ownerDocument:L}),cMapReaderFactory:G?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:G?null:new b({baseUrl:y})};if(!d){let ce={verbosity:h,port:Vs.workerPort};d=ce.port?go.fromPort(ce):new go(ce),e._worker=d}let de={docId:t,apiVersion:"4.8.69",data:r,password:o,disableAutoFetch:q,rangeChunkSize:u,length:P,docBaseUrl:f,enableXfa:C,evaluatorOptions:{maxImageSize:_,disableFontFace:k,ignoreErrors:w,isEvalSupported:D,isOffscreenCanvasSupported:A,isChrome:T,canvasMaxAreaInBytes:E,fontExtraProperties:S,useSystemFonts:N,cMapUrl:G?p:null,standardFontDataUrl:G?y:null}},ge={disableFontFace:k,fontExtraProperties:S,ownerDocument:L,pdfBug:H,styleElement:Y,loadingParams:{disableAutoFetch:q,enableXfa:C}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");let ce=d.messageHandler.sendWithPromise("GetDocRequest",de,r?[r.buffer]:null),le;if(c)le=new Mv(c,{disableRange:x,disableStream:B});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let De;Yt?De=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Fl(i)?Yf:Hv:De=Fl(i)?Yf:jv,le=new De({url:i,length:P,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:x,disableStream:B})}return ce.then(De=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");let Re=new Bs(t,De,d.port),wt=new Jv(Re,e,le,ge,K);e._transport=wt,Re.send("Ready",null)})}).catch(e._capability.reject),e}function X5(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Yt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function K5(n){if(Yt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return yp(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function qF(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var Kv=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return Z(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},Jf=class{constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){it("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Yv=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},Qv=class{#e=null;#t=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new Of:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new ep,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Rl({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return Z(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:r=Hr.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){this._stats?.time("Overall");let f=this._transport.getRenderingIntent(i,r,d,h),{renderingIntent:p,cacheKey:g}=f;this.#t=!1,this.#i(),o||=this._transport.getOptionalContentConfig(p);let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);let y=!!(p&Rn.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));let b=D=>{m.renderTasks.delete(w),(this._maybeCleanupAfterRender||y)&&(this.#t=!0),this.#n(!y),D?(w.capability.reject(D),this._abortOperatorList({intentState:m,reason:D instanceof Error?D:new Error(D)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new t0({callback:b,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||=new Set).add(w);let _=w.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([D,A])=>{if(this.destroyed){b();return}if(this._stats?.time("Rendering"),!(A.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:D,optionalContentConfig:A}),w.operatorListChanged()}).catch(b),_}getOperatorList({intent:e="display",annotationMode:t=Hr.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}let a=this._transport.getRenderingIntent(e,t,i,r,!0),o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>jl.textContent(i));let t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:c,done:u}){if(u){i(o);return}o.lang??=c.lang,Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},r)}let a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new Of),t}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},V5),!1;for(let{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){let{map:s,transfer:a}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),u=this._intentStates.get(t);u.streamReader=c;let d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(let f of u.renderTasks)f.operatorListChanged();this.#n(!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof Ml){let r=j5;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new or(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}},Zv=class{#e=new Map;#t=Promise.resolve();postMessage(e,t){let i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let[r]of this.#e)r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:s}=i;if(s.aborted){Ee("LoopbackPort - cannot use an `aborted` signal.");return}let a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(let[,e]of this.#e)e?.();this.#e.clear()}},gp,Ws,js,mo,Mf,bo,Nf,rt=class rt{constructor({name:e=null,port:t=null,verbosity:i=l5()}={}){dr(this,mo);if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(zt(rt,js)?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(zt(rt,js)||su(rt,js,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Yt?Promise.all([Ii.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Bs("main","worker",e),this._messageHandler.on("ready",function(){}),au(this,mo,Mf).call(this)}_initialize(){if(zt(rt,Ws)||zt(rt,bo,Nf)){this._setupFakeWorker();return}let{workerSrc:e}=rt;try{rt._isSameOrigin(window.location.href,e)||(e=rt._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),i=new Bs("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}this._messageHandler=i,this._port=t,this._webWorker=t,au(this,mo,Mf).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{this._setupFakeWorker()}});let a=()=>{let o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{_p("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){zt(rt,Ws)||(Ee("Setting up fake worker."),su(rt,Ws,!0)),rt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new Zv;this._port=t;let i=`fake${I1(rt,gp)._++}`,r=new Bs(i+"_worker",i,t);e.setup(r,t),this._messageHandler=new Bs(i,i+"_worker",t),au(this,mo,Mf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),zt(rt,js)?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=zt(this,js)?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new rt(e)}static get workerSrc(){if(Vs.workerSrc)return Vs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pe(this,"_setupFakeWorkerGlobal",Z(this,null,function*(){return zt(this,bo,Nf)?zt(this,bo,Nf):(yield import(this.workerSrc)).WorkerMessageHandler}))}};gp=new WeakMap,Ws=new WeakMap,js=new WeakMap,mo=new WeakSet,Mf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},bo=new WeakSet,Nf=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},dr(rt,bo),dr(rt,gp,0),dr(rt,Ws,!1),dr(rt,js),Yt&&(su(rt,Ws,!0),Vs.workerSrc||="./pdf.worker.mjs"),rt._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}let r=new URL(t,i);return i.origin===r.origin},rt._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var go=rt,Jv=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,i,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new ep,this.fontLoader=new yv({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#r(e,t=null){let i=this.#e.get(e);if(i)return i;let r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return Pe(this,"annotationStorage",new Ol)}getRenderingIntent(e,t=Hr.ENABLE,i=null,r=!1,s=!1){let a=Rn.DISPLAY,o=_v;switch(e){case"any":a=Rn.ANY;break;case"display":break;case"print":a=Rn.PRINT;break;default:Ee(`getRenderingIntent - invalid intent: ${e}`)}let c=a&Rn.PRINT&&i instanceof Vf?i:this.annotationStorage;switch(t){case Hr.DISABLE:a+=Rn.ANNOTATIONS_DISABLE;break;case Hr.ENABLE:break;case Hr.ENABLE_FORMS:a+=Rn.ANNOTATIONS_FORMS;break;case Hr.ENABLE_STORAGE:a+=Rn.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Ee(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Rn.IS_EDITING),s&&(a+=Rn.OPLIST);let{ids:u,hash:d}=c.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Wl.cleanup(),this._networkStream?.cancelAllRequests(new or("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Ct(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",i=>Z(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{t.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}})),e.on("GetRangeReader",(i,r)=>{Ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Ct(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Yv(i,this))}),e.on("DocException",function(i){let r;switch(i.name){case"PasswordException":r=new Ul(i.message,i.code);break;case"InvalidPDFException":r=new Lf(i.message);break;case"MissingPDFException":r=new ar(i.message);break;case"UnexpectedResponseException":r=new _o(i.message,i.status);break;case"UnknownErrorException":r=new Pl(i.message,i.details);break;default:it("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",i=>{if(this.#s=Promise.withResolvers(),t.onPassword){let r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};try{t.onPassword(r,i.code)}catch(s){this.#s.reject(s)}}else this.#s.reject(new Ul(i.message,i.code));return this.#s.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":let{disableFontFace:a,fontExtraProperties:o,pdfBug:c}=this._params;if("error"in s){let f=s.error;Ee(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}let u=c&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,d=new vv(s,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!o&&d.data&&(d.data=null),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":let{imageRef:h}=s;Ct(h,"The imageRef must be defined.");for(let f of this.#t.values())for(let[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{if(this.destroyed)return;let o=this.#t.get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":o.objs.resolve(i,a),a?.dataLen>i5&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>Z(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)})),e.on("FetchStandardFontData",i=>Z(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ee("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,i=this.#n.get(t);if(i)return i;let r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#i.set(s.refStr,e);let a=new Qv(t,s,this,this._params.pdfBug);return this.#t.set(t,a),a});return this.#n.set(t,r),r}getPageIndex(e){return qF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new Rv(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new Uv(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return Z(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Wl.cleanup()}})}cachedPageNumber(e){if(!qF(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}},kf=Symbol("INITIAL_DATA"),ep=class{#e=Object.create(null);#t(e){return this.#e[e]||=An(Xe({},Promise.withResolvers()),{data:kf})}get(e,t=null){if(t){let r=this.#t(e);return r.promise.then(()=>t(r.data)),null}let i=this.#e[e];if(!i||i.data===kf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){let t=this.#e[e];return!!t&&t.data!==kf}resolve(e,t=null){let i=this.#t(e);i.data=t,i.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==kf&&(yield[e,t])}}},e0=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},t0=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new e0(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:r,transform:s,background:a}=this.params;this.gfx=new po(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new Ml(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return Z(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},Y5="4.8.69",Q5="3634dab10";function GF(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function kl(n){return Math.max(0,Math.min(255,255*n))}var tp=class{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=kl(e),[e,e,e]}static G_HTML([e]){let t=GF(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(kl)}static RGB_HTML(e){return`#${e.map(GF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[kl(1-Math.min(1,e+r)),kl(1-Math.min(1,i+r)),kl(1-Math.min(1,t+r))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){let r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}},n0=class{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){it("Abstract method `_createSVG` called.")}},Vl=class extends n0{_createSVG(e){return document.createElementNS(rr,e)}},np=class{static setupStorage(e,t,i,r,s){let a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(let o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{let c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){let{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(let[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){let t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});let o=s!=="richText",c=e.div;if(c.append(a),e.viewport){let h=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=h}o&&c.setAttribute("class","xfaLayer xfaFont");let u=[];if(r.children.length===0){if(r.value){let h=document.createTextNode(r.value);a.append(h),o&&jl.shouldBuildText(r.name)&&u.push(h)}return{textDivs:u}}let d=[[r,-1,a]];for(;d.length>0;){let[h,f,p]=d.at(-1);if(f+1===h.children.length){d.pop();continue}let g=h.children[++d.at(-1)[1]];if(g===null)continue;let{name:m}=g;if(m==="#text"){let b=document.createTextNode(g.value);u.push(b),p.append(b);continue}let y=g?.attributes?.xmlns?document.createElementNS(g.attributes.xmlns,m):document.createElement(m);if(p.append(y),g.attributes&&this.setAttributes({html:y,element:g,storage:t,intent:s,linkService:i}),g.children?.length>0)d.push([g,-1,y]);else if(g.value){let b=document.createTextNode(g.value);o&&jl.shouldBuildText(m)&&u.push(b),y.append(b)}}for(let h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},Gl=1e3,Z5=9,qs=new WeakSet;function sr(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var i0=class{static create(e){switch(e.data.annotationType){case At.LINK:return new ip(e);case At.TEXT:return new r0(e);case At.WIDGET:switch(e.data.fieldType){case"Tx":return new s0(e);case"Btn":return e.data.radioButton?new rp(e):e.data.checkBox?new o0(e):new c0(e);case"Ch":return new l0(e);case"Sig":return new a0(e)}return new cr(e);case At.POPUP:return new zl(e);case At.FREETEXT:return new sp(e);case At.LINE:return new d0(e);case At.SQUARE:return new h0(e);case At.CIRCLE:return new f0(e);case At.POLYLINE:return new ap(e);case At.CARET:return new g0(e);case At.INK:return new Hl(e);case At.POLYGON:return new p0(e);case At.HIGHLIGHT:return new op(e);case At.UNDERLINE:return new m0(e);case At.SQUIGGLY:return new b0(e);case At.STRIKEOUT:return new _0(e);case At.STAMP:return new cp(e);case At.FILEATTACHMENT:return new y0(e);default:return new _t(e)}}},_t=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){let{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;i?.splice(0,4,...e);let{width:u,height:d}=sr(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,r===0?(t.width=`${100*u/s}%`,t.height=`${100*d/a}%`):this.setRotation(r)}_createContainer(e){let{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof cr||(s.tabIndex=Gl);let{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof zl){let{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}let{width:o,height:c}=sr(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;let m=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(m>0||y>0){let w=`calc(${m}px * var(--scale-factor)) / calc(${y}px * var(--scale-factor))`;a.borderRadius=w}else if(this instanceof rp){let w=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case Tl.SOLID:a.borderStyle="solid";break;case Tl.DASHED:a.borderStyle="dashed";break;case Tl.BEVELED:Ee("Unimplemented border style: beveled");break;case Tl.INSET:Ee("Unimplemented border style: inset");break;case Tl.UNDERLINE:a.borderBottomStyle="solid";break;default:break}let b=t.borderColor||null;b?(this.#t=!0,a.borderColor=he.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):a.borderWidth=0}let u=he.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;a.left=`${100*(u[0]-f)/d}%`,a.top=`${100*(u[1]-p)/h}%`;let{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/d}%`,a.height=`${100*c/h}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:a}=sr(this.data.rect),o,c;e%180===0?(o=100*s/i,c=100*a/r):(o=100*a/i,c=100*s/r),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,i,r)=>{let s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=tp[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:tp[`${a}_rgb`](o)})};return Pe(this,"_commonActions",{display:t=>{let{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){let i=this._commonActions;for(let r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let i=this._commonActions;for(let[r,s]of Object.entries(t)){let a=i[r];if(a){let o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,i,r,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){let[m,y,b,w]=e.subarray(2,6);if(r===m&&s===y&&t===b&&i===w)return}let{style:a}=this.container,o;if(this.#t){let{borderColor:m,borderWidth:y}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}let c=r-t,u=s-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);let f=d.createElement("defs");h.append(f);let p=d.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,y=e.length;m<y;m+=8){let b=e[m],w=e[m+1],_=e[m+2],D=e[m+3],A=d.createElement("rect"),T=(_-t)/c,E=(s-w)/u,k=(b-_)/c,S=(w-D)/u;A.setAttribute("x",T),A.setAttribute("y",E),A.setAttribute("width",k),A.setAttribute("height",S),p.append(A),o?.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${E}" width="${k}" height="${S}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){let{data:e}=this,t=this.#n=new zl({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){it("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let i=[];if(this._fieldObjects){let r=this._fieldObjects[e];if(r)for(let{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;let c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!qs.has(u)){Ee(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:u})}return i}for(let r of document.getElementsByName(e)){let{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&qs.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},ip=class extends _t{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#n(i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let r of Object.keys(t.actions)){let s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ee('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();let{fields:r,refs:s,include:a}=t,o=[];if(r.length!==0||s.length!==0){let d=new Set(s);for(let h of r){let f=this._fieldObjects[h]||[];for(let{id:p}of f)d.add(p)}for(let h of Object.values(this._fieldObjects))for(let f of h)d.has(f.id)===a&&o.push(f)}else for(let d of Object.values(this._fieldObjects))o.push(...d);let c=this.annotationStorage,u=[];for(let d of o){let{id:h}=d;switch(u.push(h),d.type){case"text":{let p=d.defaultValue||"";c.setValue(h,{value:p});break}case"checkbox":case"radiobutton":{let p=d.defaultValue===d.exportValues;c.setValue(h,{value:p});break}case"combobox":case"listbox":{let p=d.defaultValue||"";c.setValue(h,{value:p});break}default:continue}let f=document.querySelector(`[data-element-id="${h}"]`);if(f){if(!qs.has(f)){Ee(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;f.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}}},r0=class extends _t{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},cr=class extends _t{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return jt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}})})}_setEventListeners(e,t,i,r){for(let[s,a]of i)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,a,r),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":he.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Z5,s=e.style,a,o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){let u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(If*r))||1,h=u/d;a=Math.min(r,c(h/If))}else{let u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(u/If))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=he.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},s0=class extends cr{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){let s=this.annotationStorage;for(let a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let r=e.getValue(t,{value:this.data.fieldValue}),s=r.value||"",a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=r.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));let c={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=o??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",o??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),qs.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Gl,this._setRequired(i,this.data.required),a&&(i.maxLength=a),i.addEventListener("input",d=>{e.setValue(t,{value:d.target.value}),this.setPropertyOnSiblings(i,"value",d.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",d=>{let h=this.data.defaultFieldValue??"";i.value=c.userValue=h,c.formattedValue=null});let u=d=>{let{formattedValue:h}=c;h!=null&&(d.target.value=h),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",h=>{if(c.focused)return;let{target:f}=h;c.userValue&&(f.value=c.userValue),c.lastCommittedValue=f.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);let f={value(p){c.userValue=p.detail.value??"",e.setValue(t,{value:c.userValue.toString()}),p.target.value=c.userValue},formattedValue(p){let{formattedValue:g}=p.detail;c.formattedValue=g,g!=null&&p.target!==document.activeElement&&(p.target.value=g),e.setValue(t,{formattedValue:g})},selRange(p){p.target.setSelectionRange(...p.detail.selRange)},charLimit:p=>{let{charLimit:g}=p.detail,{target:m}=p;if(g===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",g);let y=c.userValue;!y||y.length<=g||(y=y.slice(0,g),m.value=c.userValue=y,e.setValue(t,{value:y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("keydown",h=>{c.commitKey=1;let f=-1;if(h.key==="Escape"?f=0:h.key==="Enter"&&!this.data.multiLine?f=2:h.key==="Tab"&&(c.commitKey=3),f===-1)return;let{value:p}=h.target;c.lastCommittedValue!==p&&(c.lastCommittedValue=p,c.userValue=p,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,willCommit:!0,commitKey:f,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});let d=u;u=null,i.addEventListener("blur",h=>{if(!c.focused||!h.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);let{value:f}=h.target;c.userValue=f,c.lastCommittedValue!==f&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:c.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}),d(h)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",h=>{c.lastCommittedValue=null;let{data:f,target:p}=h,{value:g,selectionStart:m,selectionEnd:y}=p,b=m,w=y;switch(h.inputType){case"deleteWordBackward":{let _=g.substring(0,m).match(/\w*[^\w]*$/);_&&(b-=_[0].length);break}case"deleteWordForward":{let _=g.substring(m).match(/^[^\w]*\w*/);_&&(w+=_[0].length);break}case"deleteContentBackward":m===y&&(b-=1);break;case"deleteContentForward":m===y&&(w+=1);break}h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,change:f||"",willCommit:!1,selStart:b,selEnd:w}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(u&&i.addEventListener("blur",u),this.data.comb){let h=(this.data.rect[2]-this.data.rect[0])/a;i.classList.add("comb"),i.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},a0=class extends cr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},o0=class extends cr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,i=t.id,r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let s=document.createElement("input");return qs.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=Gl,s.addEventListener("change",a=>{let{name:o,checked:c}=a.target;for(let u of this._getElementsByName(o,i)){let d=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{let o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{let o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},rp=class extends cr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,i=t.id,r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(let a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});let s=document.createElement("input");if(qs.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=Gl,s.addEventListener("change",a=>{let{name:o,checked:c}=a.target;for(let u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{let o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){let a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{let c={value:u=>{let d=a===u.detail.value;for(let h of this._getElementsByName(u.target.name)){let f=d&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},c0=class extends ip{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}},l0=class extends cr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");qs.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Gl;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{let h=this.data.defaultFieldValue;for(let f of r.options)f.selected=f.value===h});for(let d of this.data.options){let h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),r.append(h)}let a=null;if(s){let d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),a=()=>{d.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}let o=d=>{let h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]},c=o(!1),u=d=>{let h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{let h={value(f){a?.();let p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(let m of r.options)m.selected=g.has(m.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){let p=r.options,g=f.detail.remove;p[g].selected=!1,r.remove(g),p.length>0&&Array.prototype.findIndex.call(p,y=>y.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(f){let{index:p,displayValue:g,exportValue:m}=f.detail.insert,y=r.children[p],b=document.createElement("option");b.textContent=g,b.value=m,y?y.before(b):r.append(b),e.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},items(f){let{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(let g of p){let{displayValue:m,exportValue:y}=g,b=document.createElement("option");b.textContent=m,b.value=y,r.append(b)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},indices(f){let p=new Set(f.detail.indices);for(let g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{let h=o(!0),f=o(!1);e.setValue(t,{value:h}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}},zl=class extends _t{constructor(e){let{data:t,elements:i}=e;super(e,{isRenderable:_t._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new u0({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${S0}${i}`).join(",")),this.container}},u0=class{#e=this.#F.bind(this);#t=this.#C.bind(this);#n=this.#S.bind(this);#i=this.#E.bind(this);#s=null;#r=null;#c=null;#l=null;#u=null;#o=null;#d=null;#a=!1;#h=null;#p=null;#f=null;#g=null;#b=null;#m=null;#_=!1;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:u,parentRect:d,open:h}){this.#r=e,this.#b=r,this.#c=a,this.#g=o,this.#o=c,this.#s=t,this.#f=u,this.#d=d,this.#u=i,this.#l=Bf.toDateObject(s),this.trigger=i.flatMap(f=>f.getElementsToTriggerPopup());for(let f of this.trigger)f.addEventListener("click",this.#i),f.addEventListener("mouseenter",this.#n),f.addEventListener("mouseleave",this.#t),f.classList.add("popupTriggerArea");for(let f of i)f.container?.addEventListener("keydown",this.#e);this.#r.hidden=!0,h&&this.#E()}render(){if(this.#h)return;let e=this.#h=document.createElement("div");if(e.className="popup",this.#s){let s=e.style.outlineColor=he.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=he.makeHexColor(...this.#s.map(o=>Math.floor(.7*(255-o)+o)))}let t=document.createElement("span");t.className="header";let i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=this.#b,e.append(t),this.#l){let s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),t.append(s)}let r=this.#v;if(r)np.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let s=this._formatContents(this.#c);e.append(s)}this.#r.append(e)}get#v(){let e=this.#g,t=this.#c;return e?.str&&(!t?.str||t.str===e.str)&&this.#g.html||null}get#D(){return this.#v?.attributes?.style?.fontSize||0}get#x(){return this.#v?.attributes?.style?.color||null}#w(e){let t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#x,fontSize:this.#D?`calc(${this.#D}px * var(--scale-factor))`:""}};for(let s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i}_formatContents({str:e,dir:t}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;let r=e.split(/(?:\r\n?|\n)/);for(let s=0,a=r.length;s<a;++s){let o=r[s];i.append(document.createTextNode(o)),s<a-1&&i.append(document.createElement("br"))}return i}#F(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#a)&&this.#E()}updateEdited({rect:e,popupContent:t}){this.#m||={contentsObj:this.#c,richText:this.#g},e&&(this.#p=null),t&&(this.#g=this.#w(t),this.#c=null),this.#h?.remove(),this.#h=null}resetEdited(){this.#m&&({contentsObj:this.#c,richText:this.#g}=this.#m,this.#m=null,this.#h?.remove(),this.#h=null,this.#p=null)}#T(){if(this.#p!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#o,a=!!this.#d,o=a?this.#d:this.#f;for(let g of this.#u)if(!o||he.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}let c=he.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=c[0]+d,f=c[1];this.#p=[100*(h-r)/t,100*(f-s)/i];let{style:p}=this.#r;p.left=`${this.#p[0]}%`,p.top=`${this.#p[1]}%`}#E(){this.#a=!this.#a,this.#a?(this.#S(),this.#r.addEventListener("click",this.#i),this.#r.addEventListener("keydown",this.#e)):(this.#C(),this.#r.removeEventListener("click",this.#i),this.#r.removeEventListener("keydown",this.#e))}#S(){this.#h||this.render(),this.isVisible?this.#a&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#C(){this.#r.classList.remove("focused"),!(this.#a||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#_=this.isVisible,this.#_&&(this.#r.hidden=!0)}maybeShow(){this.#_&&(this.#h||this.#S(),this.#_=!1,this.#r.hidden=!1)}get isVisible(){return this.#r.hidden===!1}},sp=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=we.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},d0=class extends _t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:i}=sr(e.rect),r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},h0=class extends _t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:i}=sr(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",t-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},f0=class extends _t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:i}=sr(e.rect),r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",i/2),a.setAttribute("rx",t/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},ap=class extends _t{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:i,popupRef:r}}=this;if(!t)return this.container;let{width:s,height:a}=sr(e),o=this.svgFactory.create(s,a,!0),c=[];for(let d=0,h=t.length;d<h;d+=2){let f=t[d]-e[0],p=e[3]-t[d+1];c.push(`${f},${p}`)}c=c.join(" ");let u=this.#e=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},p0=class extends ap{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},g0=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},Hl=class extends _t{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?we.HIGHLIGHT:we.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:i,popupRef:r}}=this,{width:s,height:a}=sr(e),o=this.svgFactory.create(s,a,!0);for(let c of t){let u=[];for(let h=0,f=c.length;h<f;h+=2){let p=c[h]-e[0],g=e[3]-c[h+1];u.push(`${p},${g}`)}u=u.join(" ");let d=this.svgFactory.createElement(this.svgElementName);this.#e.push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(o),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},op=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=we.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},m0=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},b0=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},_0=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},cp=class extends _t{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=we.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},y0=class extends _t{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",Xe({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:r}=jt.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},v0=class{#e=null;#t=null;#n=new Map;#i=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o}){this.div=e,this.#e=t,this.#t=i,this.#i=o||null,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}#s(e,t){return Z(this,null,function*(){let i=e.firstChild||e,r=i.id=`${S0}${t}`,s=yield this.#i?.getAriaAttributes(r);if(s)for(let[a,o]of s)i.setAttribute(a,o);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)})}render(e){return Z(this,null,function*(){let{annotations:t}=e,i=this.div;zs(i,this.viewport);let r=new Map,s={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Vl,annotationStorage:e.annotationStorage||new Ol,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let a of t){if(a.noHTML)continue;let o=a.annotationType===At.POPUP;if(o){let d=r.get(a.id);if(!d)continue;s.elements=d}else{let{width:d,height:h}=sr(a.rect);if(d<=0||h<=0)continue}s.data=a;let c=i0.create(s);if(!c.isRenderable)continue;if(!o&&a.popupRef){let d=r.get(a.popupRef);d?d.push(c):r.set(a.popupRef,[c])}let u=c.render();a.hidden&&(u.style.visibility="hidden"),yield this.#s(u,a.id),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#r()})}update({viewport:e}){let t=this.div;this.viewport=e,zs(t,{rotation:e.rotation}),this.#r(),t.hidden=!1}#r(){if(!this.#t)return;let e=this.div;for(let[t,i]of this.#t){let r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";let{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},Ff=/\r\n?|\n/g,x0=class n extends Ge{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=s=>s.isEmpty(),i=Ll.TRANSLATE_SMALL,r=Ll.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Hs([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=we.FREETEXT;constructor(e){super(An(Xe({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||Ge._defaultLineColor,this.#s=e.fontSize||n._defaultFontSize}static initialize(e,t){Ge.initialize(e,t);let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case be.FREETEXT_SIZE:n._defaultFontSize=t;break;case be.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case be.FREETEXT_SIZE:this.#r(t);break;case be.FREETEXT_COLOR:this.#c(t);break}}static get defaultPropertiesToUpdate(){return[[be.FREETEXT_SIZE,n._defaultFontSize],[be.FREETEXT_COLOR,n._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[be.FREETEXT_SIZE,this.#s],[be.FREETEXT_COLOR,this.#e]]}#r(e){let t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#s)*this.parentScale),this.#s=r,this.#u()},i=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#c(e){let t=r=>{this.#e=this.editorDiv.style.color=r},i=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(we.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let e=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#l(){let e=[];this.editorDiv.normalize();let t=null;for(let i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(n.#o(i)),t=i);return e.join(`
`)}#u(){let[e,t]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:r,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#l().trimEnd();if(e===t)return;let i=r=>{if(this.#t=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Wf(this,this.div,["dblclick","keydown"]),this.width){let[r,s]=this.parentDimensions;if(this.annotationElementId){let{position:a}=this._initialData,[o,c]=this.getInitialTranslation();[o,c]=this.pageTranslationToScreen(o,c);let[u,d]=this.pageDimensions,[h,f]=this.pageTranslation,p,g;switch(this.rotation){case 0:p=e+(a[0]-h)/u,g=t+this.height-(a[1]-f)/d;break;case 90:p=e+(a[0]-h)/u,g=t-(a[1]-f)/d,[o,c]=[c,-o];break;case 180:p=e-this.width+(a[0]-h)/u,g=t-(a[1]-f)/d,[o,c]=[-o,-c];break;case 270:p=e+(a[0]-h-this.height*d)/u,g=t+(a[1]-f-this.width*u)/d,[o,c]=[-c,o];break}this.setAt(p*r,g*s,o,c)}else this.setAt(e*r,t*s,this.width*r,this.height*s);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#o(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ff,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();let r=n.#h(t.getData("text")||"").replaceAll(Ff,`
`);if(!r)return;let s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();let a=s.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}let{startContainer:o,startOffset:c}=a,u=[],d=[];if(o.nodeType===Node.TEXT_NODE){let p=o.parentElement;if(d.push(o.nodeValue.slice(c).replaceAll(Ff,"")),p!==this.editorDiv){let g=u;for(let m of this.editorDiv.childNodes){if(m===p){g=d;continue}g.push(n.#o(m))}}u.push(o.nodeValue.slice(0,c).replaceAll(Ff,""))}else if(o===this.editorDiv){let p=u,g=0;for(let m of this.editorDiv.childNodes)g++===c&&(p=d),p.push(n.#o(m))}this.#t=`${u.join(`
`)}${r}${d.join(`
`)}`,this.#d();let h=new Range,f=u.reduce((p,g)=>p+g.length,0);for(let{firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){let g=p.nodeValue.length;if(f<=g){h.setStart(p,f),h.setEnd(p,f);break}f-=g}s.removeAllRanges(),s.addRange(h)}#d(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#a(){return this.#t.replaceAll("\xA0"," ")}static#h(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){return Z(this,null,function*(){let r=null;if(e instanceof sp){let{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:c,rotation:u,id:d,popupRef:h},textContent:f,textPosition:p,parent:{page:{pageNumber:g}}}=e;if(!f||f.length===0)return null;r=e={annotationType:we.FREETEXT,color:Array.from(o),fontSize:a,value:f.join(`
`),position:p,pageIndex:g-1,rect:c.slice(0),rotation:u,id:d,deleted:!1,popupRef:h}}let s=yield Ys(n,this,"deserialize").call(this,e,t,i);return s.#s=e.fontSize,s.#e=he.makeHexColor(...e.color),s.#t=n.#h(e.value),s.annotationElementId=e.id||null,s._initialData=r,s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let t=n._internalPadding*this.parentScale,i=this.getRect(t,t),r=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),s={annotationType:we.FREETEXT,color:r,fontSize:this.#s,value:this.#a(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?s:this.annotationElementId&&!this.#p(s)?null:(s.id=this.annotationElementId,s)}#p(e){let{value:t,fontSize:i,color:r,pageIndex:s}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((a,o)=>a!==r[o])||e.pageIndex!==s}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:i}=t;i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,t.replaceChildren();for(let s of this.#t.split(`
`)){let a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),t.append(a)}let r=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},lp=class{toSVGPath(){it("Abstract method `toSVGPath` must be implemented.")}get box(){it("Abstract getter `box` must be implemented.")}serialize(e,t){it("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){it("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){it("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}},up=class n{#e;#t=[];#n;#i;#s=[];#r=new Float64Array(18);#c;#l;#u;#o;#d;#a;#h=[];static#p=8;static#f=2;static#g=n.#p+n.#f;constructor({x:e,y:t},i,r,s,a,o=0){this.#e=i,this.#a=s*r,this.#i=a,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=o,this.#o=n.#p*r,this.#u=n.#g*r,this.#d=r,this.#h.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#b(){let e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[i,r,s,a]=this.#e;return[(this.#c+(e[0]-t[0])/2-i)/s,(this.#l+(e[1]-t[1])/2-r)/a,(this.#c+(t[0]-e[0])/2-i)/s,(this.#l+(t[1]-e[1])/2-r)/a]}add({x:e,y:t}){this.#c=e,this.#l=t;let[i,r,s,a]=this.#e,[o,c,u,d]=this.#r.subarray(8,12),h=e-u,f=t-d,p=Math.hypot(h,f);if(p<this.#u)return!1;let g=p-this.#o,m=g/p,y=m*h,b=m*f,w=o,_=c;o=u,c=d,u+=y,d+=b,this.#h?.push(e,t);let D=-b/g,A=y/g,T=D*this.#a,E=A*this.#a;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([u+T,d+E],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([u-T,d-E],16),isNaN(this.#r[6])?(this.#s.length===0&&(this.#r.set([o+T,c+E],2),this.#s.push(NaN,NaN,NaN,NaN,(o+T-i)/s,(c+E-r)/a),this.#r.set([o-T,c-E],14),this.#t.push(NaN,NaN,NaN,NaN,(o-T-i)/s,(c-E-r)/a)),this.#r.set([w,_,o,c,u,d],6),!this.isEmpty()):(this.#r.set([w,_,o,c,u,d],6),Math.abs(Math.atan2(_-c,w-o)-Math.atan2(b,y))<Math.PI/2?([o,c,u,d]=this.#r.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((o+u)/2-i)/s,((c+d)/2-r)/a),[o,c,w,_]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((w+o)/2-i)/s,((_+c)/2-r)/a),!0):([w,_,o,c,u,d]=this.#r.subarray(0,6),this.#s.push(((w+5*o)/6-i)/s,((_+5*c)/6-r)/a,((5*o+u)/6-i)/s,((5*c+d)/6-r)/a,((o+u)/2-i)/s,((c+d)/2-r)/a),[u,d,o,c,w,_]=this.#r.subarray(12,18),this.#t.push(((w+5*o)/6-i)/s,((_+5*c)/6-r)/a,((5*o+u)/6-i)/s,((5*c+d)/6-r)/a,((o+u)/2-i)/s,((c+d)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#s,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#m();let i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#v(i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#_(i),i.join(" ")}#m(){let[e,t,i,r]=this.#e,[s,a,o,c]=this.#b();return`M${(this.#r[2]-e)/i} ${(this.#r[3]-t)/r} L${(this.#r[4]-e)/i} ${(this.#r[5]-t)/r} L${s} ${a} L${o} ${c} L${(this.#r[16]-e)/i} ${(this.#r[17]-t)/r} L${(this.#r[14]-e)/i} ${(this.#r[15]-t)/r} Z`}#_(e){let t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#v(e){let[t,i,r,s]=this.#e,a=this.#r.subarray(4,6),o=this.#r.subarray(16,18),[c,u,d,h]=this.#b();e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${c} ${u} L${d} ${h} L${(o[0]-t)/r} ${(o[1]-i)/s}`)}newFreeDrawOutline(e,t,i,r,s,a){return new dp(e,t,i,r,s,a)}getOutlines(){let e=this.#s,t=this.#t,i=this.#r,[r,s,a,o]=this.#e,c=new Float64Array((this.#h?.length??0)+2);for(let h=0,f=c.length-2;h<f;h+=2)c[h]=(this.#h[h]-r)/a,c[h+1]=(this.#h[h+1]-s)/o;if(c[c.length-2]=(this.#c-r)/a,c[c.length-1]=(this.#l-s)/o,isNaN(i[6])&&!this.isEmpty())return this.#D(c);let u=new Float64Array(this.#s.length+24+this.#t.length),d=e.length;for(let h=0;h<d;h+=2){if(isNaN(e[h])){u[h]=u[h+1]=NaN;continue}u[h]=e[h],u[h+1]=e[h+1]}d=this.#w(u,d);for(let h=t.length-6;h>=6;h-=6)for(let f=0;f<6;f+=2){if(isNaN(t[h+f])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[h+f],u[d+1]=t[h+f+1],d+=2}return this.#x(u,d),this.newFreeDrawOutline(u,c,this.#e,this.#d,this.#n,this.#i)}#D(e){let t=this.#r,[i,r,s,a]=this.#e,[o,c,u,d]=this.#b(),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(h,e,this.#e,this.#d,this.#n,this.#i)}#x(e,t){let i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#w(e,t){let i=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[s,a,o,c]=this.#e,[u,d,h,f]=this.#b();return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c],t),t+=24}},dp=class extends lp{#e;#t=null;#n;#i;#s;#r;#c;constructor(e,t,i,r,s,a){super(),this.#c=e,this.#s=t,this.#e=i,this.#r=r,this.#n=s,this.#i=a,this.#o(a);let{x:o,y:c,width:u,height:d}=this.#t;for(let h=0,f=e.length;h<f;h+=2)e[h]=(e[h]-o)/u,e[h+1]=(e[h+1]-c)/d;for(let h=0,f=t.length;h<f;h+=2)t[h]=(t[h]-o)/u,t[h+1]=(t[h+1]-c)/d}toSVGPath(){let e=[`M${this.#c[4]} ${this.#c[5]}`];for(let t=6,i=this.#c.length;t<i;t+=6){if(isNaN(this.#c[t])){e.push(`L${this.#c[t+4]} ${this.#c[t+5]}`);continue}e.push(`C${this.#c[t]} ${this.#c[t+1]} ${this.#c[t+2]} ${this.#c[t+3]} ${this.#c[t+4]} ${this.#c[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){let a=i-e,o=r-t,c,u;switch(s){case 0:c=this.#l(this.#c,e,r,a,-o),u=this.#l(this.#s,e,r,a,-o);break;case 90:c=this.#u(this.#c,e,t,a,o),u=this.#u(this.#s,e,t,a,o);break;case 180:c=this.#l(this.#c,i,t,-a,o),u=this.#l(this.#s,i,t,-a,o);break;case 270:c=this.#u(this.#c,i,r,-a,-o),u=this.#u(this.#s,i,r,-a,-o);break}return{outline:Array.from(c),points:[Array.from(u)]}}#l(e,t,i,r,s){let a=new Float64Array(e.length);for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}#u(e,t,i,r,s){let a=new Float64Array(e.length);for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}#o(e){let t=this.#c,i=t[4],r=t[5],s=i,a=r,o=i,c=r,u=i,d=r,h=e?Math.max:Math.min;for(let y=6,b=t.length;y<b;y+=6){if(isNaN(t[y]))s=Math.min(s,t[y+4]),a=Math.min(a,t[y+5]),o=Math.max(o,t[y+4]),c=Math.max(c,t[y+5]),d<t[y+5]?(u=t[y+4],d=t[y+5]):d===t[y+5]&&(u=h(u,t[y+4]));else{let w=he.bezierBoundingBox(i,r,...t.slice(y,y+6));s=Math.min(s,w[0]),a=Math.min(a,w[1]),o=Math.max(o,w[2]),c=Math.max(c,w[3]),d<w[3]?(u=w[2],d=w[3]):d===w[3]&&(u=h(u,w[2]))}i=t[y+4],r=t[y+5]}let f=s-this.#n,p=a-this.#n,g=o-s+2*this.#n,m=c-a+2*this.#n;this.#t={x:f,y:p,width:g,height:m,lastPoint:[u,d]}}get box(){return this.#t}newOutliner(e,t,i,r,s,a=0){return new up(e,t,i,r,s,a)}getNewOutline(e,t){let{x:i,y:r,width:s,height:a}=this.#t,[o,c,u,d]=this.#e,h=s*u,f=a*d,p=i*u+o,g=r*d+c,m=this.newOutliner({x:this.#s[0]*h+p,y:this.#s[1]*f+g},this.#e,this.#r,e,this.#i,t??this.#n);for(let y=2;y<this.#s.length;y+=2)m.add({x:this.#s[y]*h+p,y:this.#s[y+1]*f+g});return m.getOutlines()}get mustRemoveSelfIntersections(){return!0}},hp=class{#e;#t=[];#n=[];constructor(e,t=0,i=0,r=!0){let s=1/0,a=-1/0,o=1/0,c=-1/0,d=10**-4;for(let{x:b,y:w,width:_,height:D}of e){let A=Math.floor((b-t)/d)*d,T=Math.ceil((b+_+t)/d)*d,E=Math.floor((w-t)/d)*d,k=Math.ceil((w+D+t)/d)*d,S=[A,E,k,!0],C=[T,E,k,!1];this.#t.push(S,C),s=Math.min(s,A),a=Math.max(a,T),o=Math.min(o,E),c=Math.max(c,k)}let h=a-s+2*i,f=c-o+2*i,p=s-i,g=o-i,m=this.#t.at(r?-1:-2),y=[m[0],m[2]];for(let b of this.#t){let[w,_,D]=b;b[0]=(w-p)/h,b[1]=(_-g)/f,b[2]=(D-g)/f}this.#e={x:p,y:g,width:h,height:f,lastPoint:y}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#l(t)),this.#r(t)):(this.#c(t),e.push(...this.#l(t)));return this.#i(e)}#i(e){let t=[],i=new Set;for(let a of e){let[o,c,u]=a;t.push([o,c,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){let c=t[a][2],u=t[a+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}let r=[],s;for(;i.size>0;){let a=i.values().next().value,[o,c,u,d,h]=a;i.delete(a);let f=o,p=c;for(s=[o,u],r.push(s);;){let g;if(i.has(d))g=d;else if(i.has(h))g=h;else break;i.delete(g),[o,c,u,d,h]=g,f!==o&&(s.push(f,p,o,p===c?c:u),f=o),p=p===c?u:c}s.push(f,p)}return new w0(r,this.#e)}#s(e){let t=this.#n,i=0,r=t.length-1;for(;i<=r;){let s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1}#r([,e,t]){let i=this.#s(e);this.#n.splice(i,0,[e,t])}#c([,e,t]){let i=this.#s(e);for(let r=i;r<this.#n.length;r++){let[s,a]=this.#n[r];if(s!==e)break;if(s===e&&a===t){this.#n.splice(r,1);return}}for(let r=i-1;r>=0;r--){let[s,a]=this.#n[r];if(s!==e)break;if(s===e&&a===t){this.#n.splice(r,1);return}}}#l(e){let[t,i,r]=e,s=[[t,i,r]],a=this.#s(r);for(let o=0;o<a;o++){let[c,u]=this.#n[o];for(let d=0,h=s.length;d<h;d++){let[,f,p]=s[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=c,p>u&&s.push([t,u,p])}}}return s}},w0=class extends lp{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){let a=t[s],o=t[s+1];a===i?(e.push(`V${o}`),r=o):o===r&&(e.push(`H${a}`),i=a)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){let a=[],o=i-e,c=r-t;for(let u of this.#t){let d=new Array(u.length);for(let h=0;h<u.length;h+=2)d[h]=e+u[h]*o,d[h+1]=r-u[h+1]*c;a.push(d)}return a}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}},ql=class extends up{newFreeDrawOutline(e,t,i,r,s,a){return new D0(e,t,i,r,s,a)}get classNamesForDrawing(){return["highlight","free"]}},D0=class extends dp{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,i,r,s,a=0){return new ql(e,t,i,r,s,a)}},fp=class n{#e=null;#t=null;#n;#i=null;#s=!1;#r=!1;#c=null;#l;#u=null;#o=null;#d;static#a=null;static get _keyboardManager(){return Pe(this,"_keyboardManager",new Hs([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#d=be.HIGHLIGHT_COLOR,this.#c=e):(this.#r=!0,this.#d=be.HIGHLIGHT_DEFAULT_COLOR),this.#o=e?._uiManager||t,this.#l=this.#o._eventBus,this.#n=e?.color||this.#o?.highlightColors.values().next().value||"#FFFF98",n.#a||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#o._signal;e.addEventListener("click",this.#g.bind(this),{signal:t}),e.addEventListener("keydown",this.#f.bind(this),{signal:t});let i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,e.append(i),e}renderMainDropdown(){let e=this.#i=this.#h();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#h(){let e=document.createElement("div"),t=this.#o._signal;e.addEventListener("contextmenu",Qn,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,r]of this.#o.highlightColors){let s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",n.#a[i]);let a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.setAttribute("aria-selected",r===this.#n),s.addEventListener("click",this.#p.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#f.bind(this),{signal:t}),e}#p(e,t){t.stopPropagation(),this.#l.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#g(e);return}let t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#m){this.#g(e);return}if(e.target===this.#e){this.#i.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#i?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#g(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#g(e);return}this.#i.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#g(e);return}this.#i.lastChild?.focus()}#f(e){n._keyboardManager.exec(this,e)}#g(e){if(this.#m){this.hideDropdown();return}if(this.#s=e.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#b.bind(this),{signal:this.#o.combinedSignal(this.#u)})),this.#i){this.#i.classList.remove("hidden");return}let t=this.#i=this.#h();this.#e.append(t)}#b(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#m(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#c?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#i)return;let t=this.#o.highlightColors.values();for(let i of this.#i.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}},pp=class n extends Ge{#e=null;#t=0;#n;#i=null;#s=null;#r=null;#c=null;#l=0;#u=null;#o=null;#d=null;#a=!1;#h=null;#p;#f=null;#g="";#b;#m="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=we.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return Pe(this,"_keyboardManager",new Hs([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(An(Xe({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#b=e.thickness||n._defaultThickness,this.#p=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#m=e.methodOfCreation||"",this.#g=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#a=!0,this.#v(e),this.#T()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#c=e.focusNode,this.#l=e.focusOffset,this.#_(),this.#T(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#a?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#b,methodOfCreation:this.#m}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#_(){let e=new hp(this.#n,.001);this.#o=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#o.box;let t=new hp(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();let{lastPoint:i}=this.#r.box;this.#h=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#v({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#o=e;let r=1.5;if(this.#r=e.getNewOutline(this.#b/2+r,.0025),t>=0)this.#d=t,this.#i=i,this.parent.drawLayer.finalizeLine(t,e),this.#f=this.parent.drawLayer.drawOutline(this.#r);else if(this.parent){let d=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#d,e),this.parent.drawLayer.updateBox(this.#d,n.#E(this.#o.box,(d-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#r),this.parent.drawLayer.updateBox(this.#f,n.#E(this.#r.box,d))}let{x:s,y:a,width:o,height:c}=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=c;break;case 90:{let[d,h]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*h/d,this.height=c*d/h;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=c;break;case 270:{let[d,h]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*h/d,this.height=c*d/h;break}}let{lastPoint:u}=this.#r.box;this.#h=[(u[0]-s)/o,(u[1]-a)/c]}static initialize(e,t){Ge.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case be.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case be.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#h}updateParams(e,t){switch(e){case be.HIGHLIGHT_COLOR:this.#D(t);break;case be.HIGHLIGHT_THICKNESS:this.#x(t);break}}static get defaultPropertiesToUpdate(){return[[be.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[be.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[be.HIGHLIGHT_COLOR,this.color||n._defaultColor],[be.HIGHLIGHT_THICKNESS,this.#b||n._defaultThickness],[be.HIGHLIGHT_FREE,this.#a]]}#D(e){let t=(s,a)=>{this.color=s,this.parent?.drawLayer.changeColor(this.#d,s),this.#s?.updateColor(s),this.#p=a,this.parent?.drawLayer.changeOpacity(this.#d,a)},i=this.color,r=this.#p;this.addCommands({cmd:t.bind(this,e,n._defaultOpacity),undo:t.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#x(e){let t=this.#b,i=r=>{this.#b=r,this.#w(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return Z(this,null,function*(){let e=yield Ys(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#s=new fp({editor:this}),e.addColorPicker(this.#s)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#I())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#I())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#F(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#T(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#F():e&&(this.#T(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){if(!this.#a)return;this.#v({highlightOutlines:this.#o.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#F(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#T(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=e.drawLayer.draw(this.#o,this.color,this.#p),this.#f=e.drawLayer.drawOutline(this.#r),this.#u&&(this.#u.style.clipPath=this.#i))}static#E({x:e,y:t,width:i,height:r},s){switch(s){case 90:return{x:1-t-r,y:e,width:r,height:i};case 180:return{x:1-e-i,y:1-t-r,width:i,height:r};case 270:return{x:t,y:1-e-i,width:r,height:i}}return{x:e,y:t,width:i,height:r}}rotate(e){let{drawLayer:t}=this.parent,i;this.#a?(e=(e-this.rotation+360)%360,i=n.#E(this.#o.box,e)):i=n.#E(this,e),t.rotate(this.#d,e),t.rotate(this.#f,e),t.updateBox(this.#d,i),t.updateBox(this.#f,n.#E(this.#r.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#g&&(e.setAttribute("aria-label",this.#g),e.setAttribute("role","mark")),this.#a?e.classList.add("free"):this.div.addEventListener("keydown",this.#S.bind(this),{signal:this._uiManager._signal});let t=this.#u=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;let[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),Wf(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#f,"hovered")}#S(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#c,this.#l)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#a||this.#C(!1))}get _mustFixPosition(){return!this.#a}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#d,e),this.parent.drawLayer.show(this.#f,e))}#I(){return this.#a?this.rotation:0}#P(){if(this.#a)return null;let[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#n,a=new Float32Array(s.length*8),o=0;for(let{x:c,y:u,width:d,height:h}of s){let f=c*e+i,p=(1-u-h)*t+r;a[o]=a[o+4]=f,a[o+1]=a[o+3]=p,a[o+2]=a[o+6]=f+d*e,a[o+5]=a[o+7]=p+h*t,o+=8}return a}#A(e){return this.#o.serialize(e,this.#I())}static startHighlighting(e,t,{target:i,x:r,y:s}){let{x:a,y:o,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),f=g=>{g.preventDefault(),g.stopPropagation()},p=g=>{d.abort(),this.#k(e,g)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",f,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Qn,{signal:h}),i.addEventListener("pointermove",this.#y.bind(this,e),{signal:h}),this._freeHighlight=new ql({x:r,y:s},[a,o,c,u],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#y(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#k(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){return Z(this,null,function*(){let r=null;if(e instanceof op){let{data:{quadPoints:g,rect:m,rotation:y,id:b,color:w,opacity:_,popupRef:D},parent:{page:{pageNumber:A}}}=e;r=e={annotationType:we.HIGHLIGHT,color:Array.from(w),opacity:_,quadPoints:g,boxes:null,pageIndex:A-1,rect:m.slice(0),rotation:y,id:b,deleted:!1,popupRef:D}}else if(e instanceof Hl){let{data:{inkLists:g,rect:m,rotation:y,id:b,color:w,borderStyle:{rawWidth:_},popupRef:D},parent:{page:{pageNumber:A}}}=e;r=e={annotationType:we.HIGHLIGHT,color:Array.from(w),thickness:_,inkLists:g,boxes:null,pageIndex:A-1,rect:m.slice(0),rotation:y,id:b,deleted:!1,popupRef:D}}let{color:s,quadPoints:a,inkLists:o,opacity:c}=e,u=yield Ys(n,this,"deserialize").call(this,e,t,i);u.color=he.makeHexColor(...s),u.#p=c||1,o&&(u.#b=e.thickness),u.annotationElementId=e.id||null,u._initialData=r;let[d,h]=u.pageDimensions,[f,p]=u.pageTranslation;if(a){let g=u.#n=[];for(let m=0;m<a.length;m+=8)g.push({x:(a[m]-f)/d,y:1-(a[m+1]-p)/h,width:(a[m+2]-a[m])/d,height:(a[m+1]-a[m+5])/h});u.#_(),u.#T(),u.rotate(u.rotation)}else if(o){u.#a=!0;let g=o[0],m={x:g[0]-f,y:h-(g[1]-p)},y=new ql(m,[0,0,d,h],1,u.#b/2,!0,.001);for(let _=0,D=g.length;_<D;_+=2)m.x=g[_]-f,m.y=h-(g[_+1]-p),y.add(m);let{id:b,clipPathId:w}=t.drawLayer.draw(y,u.color,u._defaultOpacity,!0);u.#v({highlightOutlines:y.getOutlines(),highlightId:b,clipPathId:w}),u.#T()}return u})}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();let t=this.getRect(0,0),i=Ge._colorManager.convert(this.color),r={annotationType:we.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#b,quadPoints:this.#P(),outlines:this.#A(t),pageIndex:this.pageIndex,rect:t,rotation:this.#I(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#U(r)?null:(r.id=this.annotationElementId,r)}#U(e){let{color:t}=this._initialData;return e.color.some((i,r)=>i!==t[r])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},E0=class n extends Ge{#e=0;#t=0;#n=null;#i=new Path2D;#s=!1;#r=null;#c=!1;#l=!1;#u=null;#o=null;#d=0;#a=0;#h=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=we.INK;constructor(e){super(An(Xe({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Ge.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case be.INK_THICKNESS:n._defaultThickness=t;break;case be.INK_COLOR:n._defaultColor=t;break;case be.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case be.INK_THICKNESS:this.#p(t);break;case be.INK_COLOR:this.#f(t);break;case be.INK_OPACITY:this.#g(t);break}}static get defaultPropertiesToUpdate(){return[[be.INK_THICKNESS,n._defaultThickness],[be.INK_COLOR,n._defaultColor||Ge._defaultLineColor],[be.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[be.INK_THICKNESS,this.thickness||n._defaultThickness],[be.INK_COLOR,this.color||n._defaultColor||Ge._defaultLineColor],[be.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#p(e){let t=r=>{this.thickness=r,this.#R()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(e){let t=r=>{this.color=r,this.#E()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(e){let t=r=>{this.opacity=r,this.#E()};e/=100;let i=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:be.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#A()),this.isAttachedToDOM||(this.parent.add(this),this.#y()),this.#R()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#u?.disconnect(),this.#u=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,i=this.width*e,r=this.height*t;this.setDimensions(i,r)}enableEditMode(){this.#s||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#S())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#C())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#b(){let{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#m(){let{ctx:e,color:t,opacity:i,thickness:r,parentScale:s,scaleFactor:a}=this;e.lineWidth=r*s/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${D5(i)}`}#_(e,t){this.canvas.addEventListener("contextmenu",Qn,{signal:this._uiManager._signal}),this.#C(),this.#r=new AbortController;let i=this._uiManager.combinedSignal(this.#r);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#l||(this.#l=!0,this.#y(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||Ge._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#c=!1,this.#m(),this.#h=()=>{this.#w(),this.#h&&window.requestAnimationFrame(this.#h)},window.requestAnimationFrame(this.#h)}#v(e,t){let[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===r)return;let s=this.currentPath,a=this.#i;if(s.push([e,t]),this.#c=!0,s.length<=2){a.moveTo(...s[0]),a.lineTo(e,t);return}s.length===3&&(this.#i=a=new Path2D,a.moveTo(...s[0])),this.#F(a,...s.at(-3),...s.at(-2),e,t)}#D(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#i.lineTo(...e)}#x(e,t){this.#h=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#v(e,t),this.#D();let i;if(this.currentPath.length!==1)i=this.#T();else{let c=[e,t];i=[[c,c.slice(),c.slice(),c]]}let r=this.#i,s=this.currentPath;this.currentPath=[],this.#i=new Path2D;let a=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},o=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#A()),this.#R())};this.addCommands({cmd:a,undo:o,mustExec:!0})}#w(){if(!this.#c)return;this.#c=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),i=t.map(d=>d[0]),r=t.map(d=>d[1]),s=Math.min(...i)-e,a=Math.max(...i)+e,o=Math.min(...r)-e,c=Math.max(...r)+e,{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(let d of this.bezierPath2D)u.stroke(d);u.stroke(this.#i),u.restore()}#F(e,t,i,r,s,a,o){let c=(t+r)/2,u=(i+s)/2,d=(r+a)/2,h=(s+o)/2;e.bezierCurveTo(c+2*(r-c)/3,u+2*(s-u)/3,d+2*(r-d)/3,h+2*(s-h)/3,d,h)}#T(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],i,[r,s]=e[0];for(i=1;i<e.length-2;i++){let[f,p]=e[i],[g,m]=e[i+1],y=(f+g)/2,b=(p+m)/2,w=[r+2*(f-r)/3,s+2*(p-s)/3],_=[y+2*(f-y)/3,b+2*(p-b)/3];t.push([[r,s],w,_,[y,b]]),[r,s]=[y,b]}let[a,o]=e[i],[c,u]=e[i+1],d=[r+2*(a-r)/3,s+2*(o-s)/3],h=[c+2*(a-c)/3,u+2*(o-u)/3];return t.push([[r,s],d,h,[c,u]]),t}#E(){if(this.isEmpty()){this.#U();return}this.#m();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#U();for(let i of this.bezierPath2D)t.stroke(i)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#R(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#S(){if(this.#o)return;this.#o=new AbortController;let e=this._uiManager.combinedSignal(this.#o);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#C(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#s||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#_(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#v(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#I(e)}canvasPointerleave(e){this.#I(e)}#I(e){this.#r?.abort(),this.#r=null,this.#S(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Qn)},10),this.#x(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#A(){this.#u=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#u.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#u?.disconnect(),this.#u=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#s}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[i,r,s,a]=this.#b();if(this.setAt(i,r,0,0),this.setDims(s,a),this.#P(),this.width){let[o,c]=this.parentDimensions;this.setAspectRatio(this.width*o,this.height*c),this.setAt(e*o,t*c,this.width*o,this.height*c),this.#l=!0,this.#y(),this.setDims(this.width*o,this.height*c),this.#E(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#A(),this.div}#y(){if(!this.#l)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#U()}setDimensions(e,t){let i=Math.round(e),r=Math.round(t);if(this.#d===i&&this.#a===r)return;this.#d=i,this.#a=r,this.canvas.style.visibility="hidden";let[s,a]=this.parentDimensions;this.width=e/s,this.height=t/a,this.fixAndSetPosition(),this.#s&&this.#k(e,t),this.#y(),this.#E(),this.canvas.style.visibility="visible",this.fixDims()}#k(e,t){let i=this.#B(),r=(e-i)/this.#t,s=(t-i)/this.#e;this.scaleFactor=Math.min(r,s)}#U(){let e=this.#B()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#L(e){let t=new Path2D;for(let i=0,r=e.length;i<r;i++){let[s,a,o,c]=e[i];i===0&&t.moveTo(...s),t.bezierCurveTo(a[0],a[1],o[0],o[1],c[0],c[1])}return t}static#j(e,t,i){let[r,s,a,o]=t;switch(i){case 0:for(let c=0,u=e.length;c<u;c+=2)e[c]+=r,e[c+1]=o-e[c+1];break;case 90:for(let c=0,u=e.length;c<u;c+=2){let d=e[c];e[c]=e[c+1]+r,e[c+1]=d+s}break;case 180:for(let c=0,u=e.length;c<u;c+=2)e[c]=a-e[c],e[c+1]+=s;break;case 270:for(let c=0,u=e.length;c<u;c+=2){let d=e[c];e[c]=a-e[c+1],e[c+1]=o-d}break;default:throw new Error("Invalid rotation")}return e}static#W(e,t,i){let[r,s,a,o]=t;switch(i){case 0:for(let c=0,u=e.length;c<u;c+=2)e[c]-=r,e[c+1]=o-e[c+1];break;case 90:for(let c=0,u=e.length;c<u;c+=2){let d=e[c];e[c]=e[c+1]-s,e[c+1]=d-r}break;case 180:for(let c=0,u=e.length;c<u;c+=2)e[c]=a-e[c],e[c+1]-=s;break;case 270:for(let c=0,u=e.length;c<u;c+=2){let d=e[c];e[c]=o-e[c+1],e[c+1]=a-d}break;default:throw new Error("Invalid rotation")}return e}#N(e,t,i,r){let s=[],a=this.thickness/2,o=e*t+a,c=e*i+a;for(let u of this.paths){let d=[],h=[];for(let f=0,p=u.length;f<p;f++){let[g,m,y,b]=u[f];if(g[0]===b[0]&&g[1]===b[1]&&p===1){let C=e*g[0]+o,L=e*g[1]+c;d.push(C,L),h.push(C,L);break}let w=e*g[0]+o,_=e*g[1]+c,D=e*m[0]+o,A=e*m[1]+c,T=e*y[0]+o,E=e*y[1]+c,k=e*b[0]+o,S=e*b[1]+c;f===0&&(d.push(w,_),h.push(w,_)),d.push(D,A,T,E,k,S),h.push(D,A),f===p-1&&h.push(k,S)}s.push({bezier:n.#j(d,r,this.rotation),points:n.#j(h,r,this.rotation)})}return s}#O(){let e=1/0,t=-1/0,i=1/0,r=-1/0;for(let s of this.paths)for(let[a,o,c,u]of s){let d=he.bezierBoundingBox(...a,...o,...c,...u);e=Math.min(e,d[0]),i=Math.min(i,d[1]),t=Math.max(t,d[2]),r=Math.max(r,d[3])}return[e,i,t,r]}#B(){return this.#s?Math.ceil(this.thickness*this.parentScale):0}#R(e=!1){if(this.isEmpty())return;if(!this.#s){this.#E();return}let t=this.#O(),i=this.#B();this.#t=Math.max(Ge.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(Ge.MIN_SIZE,t[3]-t[1]);let r=Math.ceil(i+this.#t*this.scaleFactor),s=Math.ceil(i+this.#e*this.scaleFactor),[a,o]=this.parentDimensions;this.width=r/a,this.height=s/o,this.setAspectRatio(r,s);let c=this.translationX,u=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#y(),this.#E(),this.#d=r,this.#a=s,this.setDims(r,s);let d=e?i/this.scaleFactor/2:0;this.translate(c-this.translationX-d,u-this.translationY-d)}static deserialize(e,t,i){return Z(this,null,function*(){if(e instanceof Hl)return null;let r=yield Ys(n,this,"deserialize").call(this,e,t,i);r.thickness=e.thickness,r.color=he.makeHexColor(...e.color),r.opacity=e.opacity;let[s,a]=r.pageDimensions,o=r.width*s,c=r.height*a,u=r.parentScale,d=e.thickness/2;r.#s=!0,r.#d=Math.round(o),r.#a=Math.round(c);let{paths:h,rect:f,rotation:p}=e;for(let{bezier:m}of h){m=n.#W(m,f,p);let y=[];r.paths.push(y);let b=u*(m[0]-d),w=u*(m[1]-d);for(let D=2,A=m.length;D<A;D+=6){let T=u*(m[D]-d),E=u*(m[D+1]-d),k=u*(m[D+2]-d),S=u*(m[D+3]-d),C=u*(m[D+4]-d),L=u*(m[D+5]-d);y.push([[b,w],[T,E],[k,S],[C,L]]),b=C,w=L}let _=this.#L(y);r.bezierPath2D.push(_)}let g=r.#O();return r.#t=Math.max(Ge.MIN_SIZE,g[2]-g[0]),r.#e=Math.max(Ge.MIN_SIZE,g[3]-g[1]),r.#k(o,c),r})}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=Ge._colorManager.convert(this.ctx.strokeStyle);return{annotationType:we.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#N(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},A0=class n extends Ge{#e=null;#t=null;#n=null;#i=null;#s=null;#r="";#c=null;#l=null;#u=null;#o=!1;#d=!1;static _type="stamp";static _editorType=we.STAMP;constructor(e){super(An(Xe({},e),{name:"stampEditor"})),this.#i=e.bitmapUrl,this.#s=e.bitmapFile}static initialize(e,t){Ge.initialize(e,t)}static get supportedTypes(){return Pe(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return Pe(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(we.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#a(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#o=e.isSvg),e.file&&(this.#r=e.file.name),this.#f()}#h(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#c){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return Z(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:r,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=yield i.guess({name:"altText",request:{data:r,width:s,height:a,channels:r.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");let c=o.output;return yield this.setGuessedAltText(c),t&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c})}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#a(i,!0)).finally(()=>this.#h());return}if(this.#i){let i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#a(r)).finally(()=>this.#h());return}if(this.#s){let i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(r=>this.#a(r)).finally(()=>this.#h());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(i=>{e.addEventListener("change",()=>Z(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let r=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#a(r)}i()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#h()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#c?.remove(),this.#c=null,this.#l?.disconnect(),this.#l=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#c===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#f():this.#p(),this.width&&!this.annotationElementId){let[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r)}return this.div}#f(){let{div:e}=this,{width:t,height:i}=this.#e,[r,s]=this.pageDimensions,a=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>a*r||i>a*s){let d=Math.min(a*r/t,a*s/i);t*=d,i*=d}let[o,c]=this.parentDimensions;this.setDims(t*o/r,i*c/s),this._uiManager.enableWaiting(!1);let u=this.#c=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(t,i),this.#v(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&u.setAttribute("aria-label",this.#r)}copyCanvas(e,t,i=!1){e||(e=224);let{width:r,height:s}=this.#e,a=new Nl,o=this.#e,c=r,u=s,d=null;if(t){if(r>t||s>t){let T=Math.min(t/r,t/s);c=Math.floor(r*T),u=Math.floor(s*T)}d=document.createElement("canvas");let f=d.width=Math.ceil(c*a.sx),p=d.height=Math.ceil(u*a.sy);this.#o||(o=this.#b(f,p));let g=d.getContext("2d");g.filter=this._uiManager.hcmFilter;let m="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",y="#42414d");let b=15,w=b*a.sx,_=b*a.sy,D=new OffscreenCanvas(w*2,_*2),A=D.getContext("2d");A.fillStyle=m,A.fillRect(0,0,w*2,_*2),A.fillStyle=y,A.fillRect(0,0,w,_),A.fillRect(w,_,w,_),g.fillStyle=g.createPattern(D,"repeat"),g.fillRect(0,0,f,p),g.drawImage(o,0,0,o.width,o.height,0,0,f,p)}let h=null;if(i){let f,p;if(a.symmetric&&o.width<e&&o.height<e)f=o.width,p=o.height;else if(o=this.#e,r>e||s>e){let y=Math.min(e/r,e/s);f=Math.floor(r*y),p=Math.floor(s*y),this.#o||(o=this.#b(f,p))}let m=new OffscreenCanvas(f,p).getContext("2d",{willReadFrequently:!0});m.drawImage(o,0,0,o.width,o.height,0,0,f,p),h={width:f,height:p,data:m.getImageData(0,0,f,p).data}}return{canvas:d,width:c,height:u,imageData:h}}#g(e,t){let[i,r]=this.parentDimensions;this.width=e/i,this.height=t/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);let s=200;this.#u=setTimeout(()=>{this.#u=null,this.#m(e,t)},s)}#b(e,t){let{width:i,height:r}=this.#e,s=i,a=r,o=this.#e;for(;s>2*e||a>2*t;){let c=s,u=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));let d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(o,0,0,c,u,0,0,s,a),o=d.transferToImageBitmap()}return o}#m(e,t){let i=new Nl,r=Math.ceil(e*i.sx),s=Math.ceil(t*i.sy),a=this.#c;if(!a||a.width===r&&a.height===s)return;a.width=r,a.height=s;let o=this.#o?this.#e:this.#b(r,s),c=a.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(o,0,0,o.width,o.height,0,0,r,s)}getImageForAltText(){return this.#c}#_(e){if(e){if(this.#o){let r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#o){let[t,i]=this.pageDimensions,r=Math.round(this.width*t*qr.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*qr.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),a.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this._uiManager._signal&&(this.#l=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#g(t.width,t.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(e,t,i){return Z(this,null,function*(){let r=null;if(e instanceof cp){let{data:{rect:g,rotation:m,id:y,structParent:b,popupRef:w},container:_,parent:{page:{pageNumber:D}}}=e,A=_.querySelector("canvas"),T=i.imageManager.getFromCanvas(_.id,A);A.remove();let E=(yield t._structTree.getAriaAttributes(`${S0}${y}`))?.get("aria-label")||"";r=e={annotationType:we.STAMP,bitmapId:T.id,bitmap:T.bitmap,pageIndex:D-1,rect:g.slice(0),rotation:m,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:E},isSvg:!1,structParent:b,popupRef:w}}let s=yield Ys(n,this,"deserialize").call(this,e,t,i),{rect:a,bitmap:o,bitmapUrl:c,bitmapId:u,isSvg:d,accessibilityData:h}=e;u&&i.imageManager.isValidId(u)?(s.#t=u,o&&(s.#e=o)):s.#i=c,s.#o=d;let[f,p]=s.pageDimensions;return s.width=(a[2]-a[0])/f,s.height=(a[3]-a[1])/p,s.annotationElementId=e.id||null,h&&(s.altTextData=h),s._initialData=r,s.#d=!!r,s})}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let i={annotationType:we.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#o,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#_(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){let o=this.#D(i);if(o.isSame)return null;o.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,t===null)return i;t.stamps||=new Map;let a=this.#o?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:a,serialized:i}),i.bitmap=this.#_(!1);else if(this.#o){let o=t.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#_(!1))}return i}#D(e){let{rect:t,pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=e.rect.every((c,u)=>Math.abs(c-t[u])<1),a=e.pageIndex===i,o=(e.accessibilityData?.alt||"")===r;return{isSame:s&&a&&o,isSameAltText:o}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}},J5=(()=>{class n{#e;#t=!1;#n=null;#i=null;#s=null;#r=new Map;#c=!1;#l=!1;#u=!1;#o=null;#d=null;#a;static _initialized=!1;static#h=new Map([x0,E0,A0,pp].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:r,structTreeLayer:s,accessibilityManager:a,annotationLayer:o,drawLayer:c,textLayer:u,viewport:d,l10n:h}){let f=[...n.#h.values()];if(!n._initialized){n._initialized=!0;for(let p of f)p.initialize(h,t)}t.registerEditorTypes(f),this.#a=t,this.pageIndex=i,this.div=r,this.#e=a,this.#n=o,this.viewport=d,this.#o=u,this.drawLayer=c,this._structTree=s,this.#a.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===we.NONE}updateToolbar(t){this.#a.updateToolbar(t)}updateMode(t=this.#a.getMode()){switch(this.#m(),t){case we.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case we.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case we.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let r of n.#h.values())i.toggle(`${r._type}Editing`,t===r._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#o?.div}addInkEditorIfNeeded(t){if(this.#a.getMode()!==we.INK)return;if(!t){for(let r of this.#r.values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#a.setEditingState(t)}addCommands(t){this.#a.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){return Z(this,null,function*(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let r of this.#r.values())r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#a.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));if(!this.#n)return;let i=this.#n.getEditableAnnotations();for(let r of i){if(r.hide(),this.#a.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;let s=yield this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}})}disable(){this.#u=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,i=new Map;for(let s of this.#r.values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){t.set(s.annotationElementId,s);continue}else i.set(s.annotationElementId,s);this.getEditableAnnotation(s.annotationElementId)?.show(),s.remove()}if(this.#n){let s=this.#n.getEditableAnnotations();for(let a of s){let{id:o}=a.data;if(this.#a.isDeletedAnnotationElement(o))continue;let c=i.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=t.get(o),c&&(this.#a.addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}this.#m(),this.isEmpty&&(this.div.hidden=!0);let{classList:r}=this.div;for(let s of n.#h.values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#u=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#a.getActive()!==t&&this.#a.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#o?.div&&!this.#d){this.#d=new AbortController;let t=this.#a.combinedSignal(this.#d);this.#o.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#o.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#o?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#o.div.classList.remove("highlighting"))}#p(t){this.#a.unselectAll();let{target:i}=t;if(i===this.#o.div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&this.#o.div.contains(i)){let{isMac:r}=jt.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#a.showAllEditors("highlight",!0,!0),this.#o.div.classList.add("free"),this.toggleDrawing(),pp.startHighlighting(this,this.#a.direction==="ltr",{target:this.#o.div,x:t.x,y:t.y}),this.#o.div.addEventListener("pointerup",()=>{this.#o.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let t=this.#a.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#r.set(t.id,t);let{annotationElementId:i}=t;i&&this.#a.isDeletedAnnotationElement(i)&&this.#a.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#u&&t.annotationElementId&&this.#a.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#a.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#a.addDeletedAnnotationElement(t.annotationElementId),Ge.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#a.addEditor(t),this.attach(t),!t.isAttachedToDOM){let i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#a.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:i}=document;t.div.contains(i)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let i=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:i,undo:r,mustExec:!1})}getNextId(){return this.#a.getId()}get#f(){return n.#h.get(this.#a.getMode())}combinedSignal(t){return this.#a.combinedSignal(t)}#g(t){let i=this.#f;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#a.updateToolbar(t),this.#a.updateMode(t);let{offsetX:r,offsetY:s}=this.#b(),a=this.getNextId(),o=this.#g(Xe({parent:this,id:a,x:r,y:s,uiManager:this.#a,isCentered:!0},i));o&&this.add(o)}deserialize(t){return Z(this,null,function*(){return(yield n.#h.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#a))||null})}createAndAddNewEditor(t,i,r={}){let s=this.getNextId(),a=this.#g(Xe({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#a,isCentered:i},r));return a&&this.add(a),a}#b(){let{x:t,y:i,width:r,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,t),o=Math.max(0,i),c=Math.min(window.innerWidth,t+r),u=Math.min(window.innerHeight,i+s),d=(a+c)/2-t,h=(o+u)/2-i,[f,p]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:f,offsetY:p}}addNewEditor(){this.createAndAddNewEditor(this.#b(),!0)}setSelected(t){this.#a.setSelected(t)}toggleSelected(t){this.#a.toggleSelected(t)}unselect(t){this.#a.unselect(t)}pointerup(t){let{isMac:i}=jt.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&this.#c){if(this.#c=!1,!this.#t){this.#t=!0;return}if(this.#a.getMode()===we.STAMP){this.#a.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#a.getMode()===we.HIGHLIGHT&&this.enableTextSelection(),this.#c){this.#c=!1;return}let{isMac:i}=jt.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;this.#c=!0;let r=this.#a.getActive();this.#t=!r||r.isEmpty()}findNewParent(t,i,r){let s=this.#a.findParent(i,r);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let t of this.#r.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#a.removeLayer(this)}#m(){this.#l=!0;for(let t of this.#r.values())t.isEmpty()&&t.remove();this.#l=!1}render({viewport:t}){this.viewport=t,zs(this.div,t);for(let i of this.#a.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#a.commitOrRemove(),this.#m();let i=this.viewport.rotation,r=t.rotation;if(this.viewport=t,zs(this.div,{rotation:r}),i!==r)for(let s of this.#r.values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#a.viewParameters.realScale}}return n})(),C0=class n{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Pe(this,"_svgFactory",new Vl)}static#s(e,{x:t=0,y:i=0,width:r=1,height:s=1}={}){let{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`}#r(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#s(t,e),t}#c(e,t){let i=n._svgFactory.createElement("clipPath");e.append(i);let r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");let s=n._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}draw(e,t,i,r=!1){let s=this.#t++,a=this.#r(e.box);a.classList.add(...e.classNamesForDrawing);let o=n._svgFactory.createElement("defs");a.append(o);let c=n._svgFactory.createElement("path");o.append(c);let u=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),r&&this.#i.set(s,c);let d=this.#c(o,u),h=n._svgFactory.createElement("use");return a.append(h),a.setAttribute("fill",t),a.setAttribute("fill-opacity",i),h.setAttribute("href",`#${u}`),this.#n.set(s,a),{id:s,clipPathId:`url(#${d})`}}drawOutline(e){let t=this.#t++,i=this.#r(e.box);i.classList.add(...e.classNamesForOutlining);let r=n._svgFactory.createElement("defs");i.append(r);let s=n._svgFactory.createElement("path");r.append(s);let a=`path_p${this.pageIndex}_${t}`;s.setAttribute("id",a),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let o;if(e.mustRemoveSelfIntersections){let d=n._svgFactory.createElement("mask");r.append(d),o=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",o),d.setAttribute("maskUnits","objectBoundingBox");let h=n._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");let f=n._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}let c=n._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);let u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){let i=this.#i.get(e);this.#i.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#i.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#s(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}getSVGRoot(e){return this.#n.get(e)}remove(e){this.#i.delete(e),this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear(),this.#i.clear()}};var e8=ye.AbortException,t8=ye.AnnotationEditorLayer,n8=ye.AnnotationEditorParamsType,R0=ye.AnnotationEditorType,i8=ye.AnnotationEditorUIManager,r8=ye.AnnotationLayer,s8=ye.AnnotationMode,a8=ye.ColorPicker,o8=ye.DOMSVGFactory,c8=ye.DrawLayer,l8=ye.FeatureTest,M0=ye.GlobalWorkerOptions,u8=ye.ImageKind,d8=ye.InvalidPDFException,h8=ye.MissingPDFException,f8=ye.OPS,p8=ye.OutputScale,g8=ye.PDFDataRangeTransport,m8=ye.PDFDateString,b8=ye.PDFWorker,_8=ye.PasswordResponses,y8=ye.PermissionFlag,v8=ye.PixelsPerInch,x8=ye.RenderingCancelledException,w8=ye.TextLayer,D8=ye.UnexpectedResponseException,E8=ye.Util,N0=ye.VerbosityLevel,A8=ye.XfaLayer,C8=ye.build,T8=ye.createValidAbsoluteUrl,S8=ye.fetchData,L0=ye.getDocument,k8=ye.getFilenameFromUrl,F8=ye.getPdfFilenameFromUrl,I8=ye.getXfaPageViewport,U8=ye.isDataScheme,P8=ye.isPdfFile,R8=ye.noContextMenu,M8=ye.normalizeUnicode,N8=ye.setLayerDimensions,L8=ye.shadow,$l=ye.version;var A1={};ru(A1,{AnnotationLayerBuilder:()=>E4,DownloadManager:()=>A4,EventBus:()=>C4,FindState:()=>T4,GenericL10n:()=>v1,LinkTarget:()=>Ks,PDFFindController:()=>x1,PDFHistory:()=>S4,PDFLinkService:()=>w1,PDFPageView:()=>k4,PDFScriptingManager:()=>F4,PDFSinglePageViewer:()=>D1,PDFViewer:()=>E1,ProgressBar:()=>I4,RenderingStates:()=>U4,ScrollMode:()=>P4,SimpleLinkService:()=>R4,SpreadMode:()=>M4,StructTreeLayerBuilder:()=>N4,TextLayerBuilder:()=>L4,XfaLayerBuilder:()=>O4,parseQueryString:()=>B4});var Kl={};Kl.d=(n,e)=>{for(var t in e)Kl.o(e,t)&&!Kl.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};Kl.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var ot=globalThis.pdfjsViewer={};Kl.d(ot,{AnnotationLayerBuilder:()=>Up,DownloadManager:()=>Y0,EventBus:()=>Pp,FindState:()=>$r,GenericL10n:()=>Do,LinkTarget:()=>Gs,PDFFindController:()=>X0,PDFHistory:()=>o1,PDFLinkService:()=>Fp,PDFPageView:()=>Bp,PDFScriptingManager:()=>m1,PDFSinglePageViewer:()=>y1,PDFViewer:()=>Wp,ProgressBar:()=>$0,RenderingStates:()=>ht,ScrollMode:()=>Ne,SimpleLinkService:()=>Zl,SpreadMode:()=>Qt,StructTreeLayerBuilder:()=>Np,TextLayerBuilder:()=>Lp,XfaLayerBuilder:()=>Op,parseQueryString:()=>jp});var O8="auto",PI=1,eI=1.1,B8=.1,W8=10,O0=0,j8=1.25,tI=40,nI=5,ht={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},vo={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var Pi={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},Ne={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},Qt={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function RI(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let r=n.offsetTop+n.clientTop,s=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(r+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(r+=e.top),e.left!==void 0&&(s+=e.left,i.scrollLeft=s)),i.scrollTop=r}function V8(n,e,t=void 0){let i=function(a){s||(s=window.requestAnimationFrame(function(){s=null;let c=n.scrollLeft,u=r.lastX;c!==u&&(r.right=c>u),r.lastX=c;let d=n.scrollTop,h=r.lastY;d!==h&&(r.down=d>h),r.lastY=d,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i},s=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(s),{once:!0}),r}function jp(n){let e=new Map;for(let[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}var iI=/[\x00-\x1F]/g;function Yl(n,e=!1){return iI.test(n)?e?n.replaceAll(iI,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function Ql(n,e,t=0){let i=t,r=n.length-1;if(r<0||!e(n[r]))return n.length;if(e(n[i]))return i;for(;i<r;){let s=i+r>>1,a=n[s];e(a)?r=s:i=s+1}return i}function rI(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let i=n>1?e:n,r=0,s=1,a=1,o=1;for(;;){let u=r+a,d=s+o;if(d>t)break;i<=u/d?(a=u,o=d):(r=u,s=d)}let c;return i-r/s<a/o-i?c=i===n?[r,s]:[s,r]:c=i===n?[a,o]:[o,a],c}function Dp(n,e){return n-n%e}function z8(n,e,t){if(n<2)return n;let i=e[n].div,r=i.offsetTop+i.clientTop;r>=t&&(i=e[n-1].div,r=i.offsetTop+i.clientTop);for(let s=n-2;s>=0&&(i=e[s].div,!(i.offsetTop+i.clientTop+i.clientHeight<=r));--s)n=s;return n}function H8({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:r=!1}){let s=n.scrollTop,a=s+n.clientHeight,o=n.scrollLeft,c=o+n.clientWidth;function u(w){let _=w.div;return _.offsetTop+_.clientTop+_.clientHeight>s}function d(w){let _=w.div,D=_.offsetLeft+_.clientLeft,A=D+_.clientWidth;return r?D<c:A>o}let h=[],f=new Set,p=e.length,g=Ql(e,i?d:u);g>0&&g<p&&!i&&(g=z8(g,e,s));let m=i?c:-1;for(let w=g;w<p;w++){let _=e[w],D=_.div,A=D.offsetLeft+D.clientLeft,T=D.offsetTop+D.clientTop,E=D.clientWidth,k=D.clientHeight,S=A+E,C=T+k;if(m===-1)C>=a&&(m=C);else if((i?A:T)>m)break;if(C<=s||T>=a||S<=o||A>=c)continue;let L=Math.max(0,s-T)+Math.max(0,C-a),x=Math.max(0,o-A)+Math.max(0,S-c),B=(k-L)/k,q=(E-x)/E,H=B*q*100|0;h.push({id:_.id,x:A,y:T,view:_,percent:H,widthPercent:q*100|0}),f.add(_.id)}let y=h[0],b=h.at(-1);return t&&h.sort(function(w,_){let D=w.percent-_.percent;return Math.abs(D)>.001?-D:w.id-_.id}),{first:y,last:b,views:h,ids:f}}function MI(n){return Number.isInteger(n)&&n%90===0}function q8(n){return Number.isInteger(n)&&Object.values(Ne).includes(n)&&n!==Ne.UNKNOWN}function G8(n){return Number.isInteger(n)&&Object.values(Qt).includes(n)&&n!==Qt.UNKNOWN}function sI(n){return n.width<=n.height}var CZ=new Promise(function(n){window.requestAnimationFrame(n)}),$8=document.documentElement.style;function X8(n,e,t){return Math.min(Math.max(n,e),t)}var $0=class{#e=null;#t=null;#n=0;#i=null;#s=!0;constructor(e){this.#e=e.classList,this.#i=e.style}get percent(){return this.#n}set percent(e){if(this.#n=X8(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}};function K8(n){let e=Ne.VERTICAL,t=Qt.NONE;switch(n){case"SinglePage":e=Ne.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=Ne.PAGE;case"TwoColumnLeft":t=Qt.ODD;break;case"TwoPageRight":e=Ne.PAGE;case"TwoColumnRight":t=Qt.EVEN;break}return{scrollMode:e,spreadMode:t}}var Ep=(function(){let n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e})(),ui={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function Y8(n){return n<11904}function Q8(n){return(n&65408)===0}function Z8(n){return n>=97&&n<=122||n>=65&&n<=90}function J8(n){return n>=48&&n<=57}function eB(n){return n===32||n===9||n===13||n===10}function tB(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function nB(n){return n>=12448&&n<=12543}function iB(n){return n>=12352&&n<=12447}function rB(n){return n>=65376&&n<=65439}function sB(n){return(n&65408)===3584}function Ap(n){return Y8(n)?Q8(n)?eB(n)?ui.SPACE:Z8(n)||J8(n)||n===95?ui.ALPHA_LETTER:ui.PUNCT:sB(n)?ui.THAI_LETTER:n===160?ui.SPACE:ui.ALPHA_LETTER:tB(n)?ui.HAN_LETTER:nB(n)?ui.KATAKANA_LETTER:iB(n)?ui.HIRAGANA_LETTER:rB(n)?ui.HALFWIDTH_KATAKANA_LETTER:ui.ALPHA_LETTER}var aI;function aB(){return aI||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",aI}var $r={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},oB=250,cB=-50,lB=-400,oI={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},cI=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),lI,uB=new RegExp("\\p{M}+","gu"),dB=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),hB=new RegExp("([^\\p{M}])\\p{M}*$","u"),fB=new RegExp("^\\p{M}*([^\\p{M}])","u"),pB=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,uI=new Map,gB="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",dI=new Map,B0=null,W0=null;function j0(n){let e=[],t;for(;(t=pB.exec(n))!==null;){let{index:p}=t;for(let g of t[0]){let m=uI.get(g);m||(m=g.normalize("NFD").length,uI.set(g,m)),e.push([m,p++])}}let i;if(e.length===0&&B0)i=B0;else if(e.length>0&&W0)i=W0;else{let p=Object.keys(oI).join(""),g=aB(),w=`([${p}])|([${g}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?i=B0=new RegExp(w+"|(\\u0000)","gum"):i=W0=new RegExp(w+`|(${gB})`,"gum")}let r=[];for(;(t=uB.exec(n))!==null;)r.push([t[0].length,t.index]);let s=n.normalize("NFD"),a=[[0,0]],o=0,c=0,u=0,d=0,h=0,f=!1;return s=s.replace(i,(p,g,m,y,b,w,_,D,A,T,E)=>{if(E-=d,g){let k=oI[g],S=k.length;for(let C=1;C<S;C++)a.push([E-u+C,u-C]);return u-=S-1,k}if(m){let k=dI.get(m);k||(k=m.normalize("NFKC"),dI.set(m,k));let S=k.length;for(let C=1;C<S;C++)a.push([E-u+C,u-C]);return u-=S-1,k}if(y)return f=!0,E+h===r[o]?.[1]?++o:(a.push([E-1-u+1,u-1]),u-=1,d+=1),a.push([E-u+1,u]),d+=1,h+=1,y.charAt(0);if(b){let k=b.endsWith(`
`),S=k?b.length-2:b.length;f=!0;let C=S;E+h===r[o]?.[1]&&(C-=r[o][0],++o);for(let L=1;L<=C;L++)a.push([E-1-u+L,u-L]);return u-=C,d+=C,k?(E+=S-1,a.push([E-u+1,1+u]),u+=1,d+=1,h+=1,b.slice(0,S)):b}if(w)return a.push([E-u+3,1+u]),u+=1,d+=1,h+=1,w.replace(`
`,"");if(_){let k=_.length-2;return a.push([E-u+k,1+u]),u+=1,d+=1,h+=1,_.slice(0,-2)}if(D){let k=D.length-1;return a.push([E-u+k,u]),d+=1,h+=1,D.slice(0,-1)}if(A)return a.push([E-u+1,u-1]),u-=1,d+=1,h+=1," ";if(E+h===e[c]?.[1]){let k=e[c][0]-1;++c;for(let S=1;S<=k;S++)a.push([E-(u-S),u-S]);u-=k,d+=k}return T}),a.push([s.length,u]),[s,a,f]}function mB(n,e,t){if(!n)return[e,t];let i=e,r=e+t-1,s=Ql(n,d=>d[0]>=i);n[s][0]>i&&--s;let a=Ql(n,d=>d[0]>=r,s);n[a][0]>r&&--a;let o=i+n[s][1],u=r+n[a][1]+1-o;return[o,u]}var X0=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#s(),t._on("find",this.#i.bind(this)),t._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#s(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#i(e){if(!e)return;let t=this._pdfDocument,{type:i}=e;(this.#e===null||this.#c(e))&&(this._dirtyMatch=!0),this.#e=e,i!=="highlightallchange"&&this.#x($r.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#d();let r=!this._highlightMatches,s=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():i==="again"?(this.#p(),r&&this.#e.highlightAll&&this.#h()):i==="highlightallchange"?(s?this.#p():this._highlightMatches=!0,this.#h()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},oB)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:r=-1}){if(!this._scrollMatches||!e)return;if(r===-1||r!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;let s={top:cB,left:t+lB};RI(e,s,!0)}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#r(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=j0(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>j0(t)[0])}#c(e){let t=e.query,i=this.#e.query,r=typeof t;if(r!==typeof i)return!0;if(r==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":let a=this._selected.pageIdx+1,o=this._linkService;return a>=1&&a<=o.pagesCount&&a!==o.page&&!(this.onIsPageVisible?.(a)??!0);case"highlightallchange":return!1}return!0}#l(e,t,i){let r=e.slice(0,t).match(hB);if(r){let s=e.charCodeAt(t),a=r[1].charCodeAt(0);if(Ap(s)===Ap(a))return!1}if(r=e.slice(t+i).match(fB),r){let s=e.charCodeAt(t+i-1),a=r[1].charCodeAt(0);if(Ap(s)===Ap(a))return!1}return!0}#u(e,t){let{matchDiacritics:i}=this.#e,r=!1;e=e.replaceAll(dB,(a,o,c,u,d,h)=>o?`[ ]*\\${o}[ ]*`:c?`[ ]*${c}[ ]*`:u?"[ ]+":i?d||h:d?cI.has(d.charCodeAt(0))?d:"":t?(r=!0,`${h}\\p{M}*`):h);let s="[ ]*";return e.endsWith(s)&&(e=e.slice(0,e.length-s.length)),i&&t&&(lI||=String.fromCharCode(...cI),r=!0,e=`${e}(?=[${lI}]|[^\\p{M}]|$)`),[r,e]}#o(e){let t=this.#r;if(t.length===0)return;let i=this._pageContents[e],r=this.match(t,i,e),s=this._pageMatches[e]=[],a=this._pageMatchesLength[e]=[],o=this._pageDiffs[e];r?.forEach(({index:u,length:d})=>{let[h,f]=mB(o,u,d);f&&(s.push(h),a.push(f))}),this.#e.highlightAll&&this.#a(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#g());let c=s.length;this._matchesCountTotal+=c,this.#t?c>0&&this.#D():++this.#n===this._linkService.pagesCount&&this.#D()}match(e,t,i){let r=this._hasDiacritics[i],s=!1;if(typeof e=="string"?[s,e]=this.#u(e,r):e=e.sort().reverse().map(h=>{let[f,p]=this.#u(h,r);return s||=f,`(${p})`}).join("|"),!e)return;let{caseSensitive:a,entireWord:o}=this.#e,c=`g${s?"u":""}${a?"":"i"}`;e=new RegExp(e,c);let u=[],d;for(;(d=e.exec(t))!==null;)o&&!this.#l(t,d.index,d[0].length)||u.push({index:d.index,length:d[0].length});return u}#d(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let i=0,r=this._linkService.pagesCount;i<r;i++){let{promise:s,resolve:a}=Promise.withResolvers();this._extractTextPromises[i]=s,e=e.then(()=>this._pdfDocument.getPage(i+1).then(o=>o.getTextContent(t)).then(o=>{let c=[];for(let u of o.items)c.push(u.str),u.hasEOL&&c.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=j0(c.join("")),a()},o=>{console.error(`Unable to get text content for page ${i+1}`,o),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,a()}))}}#a(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#h(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){let e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#h();for(let a=0;a<i;a++)this._pendingFindMatches.has(a)||(this._pendingFindMatches.add(a),this._extractTextPromises[a].then(()=>{this._pendingFindMatches.delete(a),this.#o(a)}))}if(this.#r.length===0){this.#x($r.FOUND);return}if(this._resumePageIdx)return;let s=this._offset;if(this._pagesToSearch=i,s.matchIdx!==null){let a=this._pageMatches[s.pageIdx].length;if(!e&&s.matchIdx+1<a||e&&s.matchIdx>0){s.matchIdx=e?s.matchIdx-1:s.matchIdx+1,this.#m(!0);return}this.#b(e)}this.#g()}#f(e){let t=this._offset,i=e.length,r=this.#e.findPrevious;return i?(t.matchIdx=r?i-1:0,this.#m(!0),!0):(this.#b(r),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#g(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#f(e))}#b(e){let t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#m(e=!1){let t=$r.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,e){let r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?$r.WRAPPED:$r.FOUND,r!==-1&&r!==this._selected.pageIdx&&this.#a(r)}this.#x(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#a(this._selected.pageIdx))}#_(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#x($r.FOUND),this._highlightMatches=!1,this.#h())})}#v(){let{pageIdx:e,matchIdx:t}=this._selected,i=0,r=this._matchesCountTotal;if(t!==-1){for(let s=0;s<e;s++)i+=this._pageMatches[s]?.length||0;i+=t+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}#D(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#v()})}#x(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===$r.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#v(),rawQuery:this.#e?.query??null})}},bB="noopener noreferrer nofollow",Gs={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},Fp=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:r=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return Z(this,null,function*(){if(!this.pdfDocument)return;let t,i,r;if(typeof e=="string"?(t=e,i=yield this.pdfDocument.getDestination(e)):(t=null,i=yield e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}let[s]=i;if(s&&typeof s=="object"){if(r=this.pdfDocument.cachedPageNumber(s),!r)try{r=(yield this.pdfDocument.getPageIndex(s))+1}catch{console.error(`goToDestination: "${s}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(s)&&(r=s+1);if(!r||r<1||r>this.pagesCount){console.error(`goToDestination: "${r}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:r})),this.pdfViewer.scrollPageIntoView({pageNumber:r,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let r=i?Gs.BLANK:this.externalLinkTarget,s=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let a="";switch(r){case Gs.NONE:break;case Gs.SELF:a="_self";break;case Gs.BLANK:a="_blank";break;case Gs.PARENT:a="_parent";break;case Gs.TOP:a="_top";break}e.target=a,e.rel=typeof s=="string"?s:bB}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){let r=jp(e);if(r.has("search")){let s=r.get("search").replaceAll('"',""),a=r.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:a?s:s.match(/\S+/g)})}if(r.has("page")&&(t=r.get("page")|0||1),r.has("zoom")){let s=r.get("zoom").split(","),a=s[0],o=parseFloat(a);a.includes("Fit")?a==="Fit"||a==="FitB"?i=[null,{name:a}]:a==="FitH"||a==="FitBH"||a==="FitV"||a==="FitBV"?i=[null,{name:a},s.length>1?s[1]|0:null]:a==="FitR"?s.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:a},s[1]|0,s[2]|0,s[3]|0,s[4]|0]:console.error(`PDFLinkService.setHash: "${a}" is not a valid zoom value.`):i=[null,{name:"XYZ"},s.length>1?s[1]|0:null,s.length>2?s[2]|0:null,o?o/100:a]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||n.#e(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return Z(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,i=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,i,...r]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof i?.name=="string"))return!1;let s=r.length,a=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;a=!1;break;default:return!1}for(let o of r)if(!(typeof o=="number"||a&&o===null))return!1;return!0}},Zl=class extends Fp{setDocument(e,t=null){}},{AbortException:_B,AnnotationEditorLayer:yB,AnnotationEditorParamsType:TZ,AnnotationEditorType:Mn,AnnotationEditorUIManager:vB,AnnotationLayer:xB,AnnotationMode:ur,build:SZ,ColorPicker:kZ,createValidAbsoluteUrl:wB,DOMSVGFactory:FZ,DrawLayer:DB,FeatureTest:IZ,fetchData:hI,getDocument:UZ,getFilenameFromUrl:PZ,getPdfFilenameFromUrl:EB,getXfaPageViewport:RZ,GlobalWorkerOptions:MZ,ImageKind:NZ,InvalidPDFException:LZ,isDataScheme:OZ,isPdfFile:AB,MissingPDFException:BZ,noContextMenu:WZ,normalizeUnicode:CB,OPS:jZ,OutputScale:TB,PasswordResponses:VZ,PDFDataRangeTransport:zZ,PDFDateString:HZ,PDFWorker:qZ,PermissionFlag:Cp,PixelsPerInch:lr,RenderingCancelledException:K0,setLayerDimensions:SB,shadow:Ip,TextLayer:kB,UnexpectedResponseException:GZ,Util:$Z,VerbosityLevel:XZ,version:fI,XfaLayer:V0}=globalThis.pdfjsLib,Up=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:r=null,imageResourcesPath:s="",renderForms:a=!0,enableScripting:o=!1,hasJSActionsPromise:c=null,fieldObjectsPromise:u=null,annotationCanvasMap:d=null,accessibilityManager:h=null,annotationEditorUIManager:f=null,onAppend:p=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=a,this.annotationStorage=r,this.enableScripting=o,this._hasJSActionsPromise=c||Promise.resolve(!1),this._fieldObjectsPromise=u||Promise.resolve(null),this._annotationCanvasMap=d,this._accessibilityManager=h,this._annotationEditorUIManager=f,this.#e=p,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t,i="display"){return Z(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[r,s,a]=yield Promise.all([this.pdfPage.getAnnotations({intent:i}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let o=this.div=document.createElement("div");if(o.className="annotationLayer",this.#e?.(o),r.length===0){this.hide();return}this.annotationLayer=new xB({div:o,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t?.structTreeLayer||null}),yield this.annotationLayer.render({annotations:r,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:a}),this.linkService.isInPresentationMode&&this.#n(vo.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",c=>{this.#n(c.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case vo.FULLSCREEN:t=!0;break;case vo.NORMAL:break;default:return}for(let i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}};function pI(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var Y0=class{#e=new WeakMap;downloadData(e,t,i){let r=URL.createObjectURL(new Blob([e],{type:i}));pI(r,t)}openOrDownloadData(e,t,i=null){let s=AB(t)?"application/pdf":"";return this.downloadData(e,t,s),!1}download(e,t,i){let r;if(e)r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!wB(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}r=t+"#pdfjs.action=download"}pI(r,i)}},gI={EVENT:"event",TIMEOUT:"timeout"};function FB(i){return Z(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:r,resolve:s}=Promise.withResolvers(),a=new AbortController;function o(d){a.abort(),clearTimeout(u),s(d)}let c=n instanceof Pp?"_on":"addEventListener";n[c](e,o.bind(null,gI.EVENT),{signal:a.signal});let u=setTimeout(o.bind(null,gI.TIMEOUT),t);return r})}var Pp=class{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){let i=this.#e[e];if(!i||i.length===0)return;let r;for(let{listener:s,external:a,once:o}of i.slice(0)){if(o&&this._off(e,s),a){(r||=[]).push(s);continue}s(t)}if(r){for(let s of r)s(t);r=null}}_on(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){let{signal:a}=i;if(a.aborted){console.error("Cannot use an `aborted` signal.");return}let o=()=>this._off(e,t);r=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}(this.#e[e]||=[]).push({listener:t,external:i?.external===!0,once:i?.once===!0,rmAbort:r})}_off(e,t,i=null){let r=this.#e[e];if(r)for(let s=0,a=r.length;s<a;s++){let o=r[s];if(o.listener===t){o.rmAbort?.(),r.splice(s,1);return}}}};var xo=class{constructor(e){this.value=e}valueOf(){return this.value}},ft=class extends xo{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},di=class extends xo{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},Xs=class extends xo{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},mI=100,IB="\u2068",UB="\u2069";function PB(n,e,t){if(t===e||t instanceof di&&e instanceof di&&t.value===e.value)return!0;if(e instanceof di&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function bI(n,e,t){return e[t]?wo(n,e[t].value):(n.reportError(new RangeError("No default")),new ft)}function Q0(n,e){let t=[],i=Object.create(null);for(let r of e)r.type==="narg"?i[r.name]=Jl(n,r.value):t.push(Jl(n,r));return{positional:t,named:i}}function Jl(n,e){switch(e.type){case"str":return e.value;case"num":return new di(e.value,{minimumFractionDigits:e.precision});case"var":return RB(n,e);case"mesg":return MB(n,e);case"term":return NB(n,e);case"func":return LB(n,e);case"select":return OB(n,e);default:return new ft}}function RB(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new ft(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new ft(`$${e}`);if(t instanceof xo)return t;switch(typeof t){case"string":return t;case"number":return new di(t);case"object":if(t instanceof Date)return new Xs(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new ft(`$${e}`)}}function MB(n,{name:e,attr:t}){let i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new ft(e);if(t){let r=i.attributes[t];return r?wo(n,r):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new ft(`${e}.${t}`))}return i.value?wo(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new ft(e))}function NB(n,{name:e,attr:t,args:i}){let r=`-${e}`,s=n.bundle._terms.get(r);if(!s)return n.reportError(new ReferenceError(`Unknown term: ${r}`)),new ft(r);if(t){let o=s.attributes[t];if(o){n.params=Q0(n,i).named;let c=wo(n,o);return n.params=null,c}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new ft(`${r}.${t}`)}n.params=Q0(n,i).named;let a=wo(n,s.value);return n.params=null,a}function LB(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new ft(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new ft(`${e}()`);try{let r=Q0(n,t);return i(r.positional,r.named)}catch(r){return n.reportError(r),new ft(`${e}()`)}}function OB(n,{selector:e,variants:t,star:i}){let r=Jl(n,e);if(r instanceof ft)return bI(n,t,i);for(let s of t){let a=Jl(n,s.key);if(PB(n,r,a))return wo(n,s.value)}return bI(n,t,i)}function NI(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new ft;n.dirty.add(e);let t=[],i=n.bundle._useIsolating&&e.length>1;for(let r of e){if(typeof r=="string"){t.push(n.bundle._transform(r));continue}if(n.placeables++,n.placeables>mI)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${mI}`);i&&t.push(IB),t.push(Jl(n,r).toString(n)),i&&t.push(UB)}return n.dirty.delete(e),t.join("")}function wo(n,e){return typeof e=="string"?n.bundle._transform(e):NI(n,e)}var Z0=class{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let r=JSON.stringify(t);return i[r]||(i[r]=new e(this.bundle.locales,t)),i[r]}};function Rp(n,e){let t=Object.create(null);for(let[i,r]of Object.entries(n))e.includes(i)&&(t[i]=r.valueOf());return t}var _I=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function BB(n,e){let t=n[0];if(t instanceof ft)return new ft(`NUMBER(${t.valueOf()})`);if(t instanceof di)return new di(t.valueOf(),Xe(Xe({},t.opts),Rp(e,_I)));if(t instanceof Xs)return new di(t.valueOf(),Xe({},Rp(e,_I)));throw new TypeError("Invalid argument to NUMBER")}var yI=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function WB(n,e){let t=n[0];if(t instanceof ft)return new ft(`DATETIME(${t.valueOf()})`);if(t instanceof Xs)return new Xs(t.valueOf(),Xe(Xe({},t.opts),Rp(e,yI)));if(t instanceof di)return new Xs(t.valueOf(),Xe({},Rp(e,yI)));throw new TypeError("Invalid argument to DATETIME")}var vI=new Map;function jB(n){let e=Array.isArray(n)?n.join(" "):n,t=vI.get(e);return t===void 0&&(t=new Map,vI.set(e,t)),t}var J0=class{constructor(e,{functions:t,useIsolating:i=!0,transform:r=s=>s}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=Xe({NUMBER:BB,DATETIME:WB},t),this._useIsolating=i,this._transform=r,this._intls=jB(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let i=[];for(let r=0;r<e.body.length;r++){let s=e.body[r];if(s.id.startsWith("-")){if(t===!1&&this._terms.has(s.id)){i.push(new Error(`Attempt to override an existing term: "${s.id}"`));continue}this._terms.set(s.id,s)}else{if(t===!1&&this._messages.has(s.id)){i.push(new Error(`Attempt to override an existing message: "${s.id}"`));continue}this._messages.set(s.id,s)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let r=new Z0(this,i,t);try{return NI(r,e).toString(r)}catch(s){if(r.errors&&s instanceof Error)return r.errors.push(s),new ft().toString(r);throw s}}},z0=/^(-?[a-zA-Z][\w-]*) *= */gm,xI=/\.([a-zA-Z][\w-]*) *= */y,VB=/\*?\[/y,H0=/(-?[0-9]+(?:\.([0-9]+))?)/y,zB=/([a-zA-Z][\w-]*)/y,wI=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,HB=/^[A-Z][A-Z0-9_-]*$/,Tp=/([^{}\n\r]+)/y,qB=/([^\\"\n\r]*)/y,DI=/\\([\\"])/y,EI=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,GB=/^\n+/,AI=/ +$/,$B=/ *\r?\n/g,XB=/( *)$/,KB=/{\s*/y,CI=/\s*}/y,YB=/\[\s*/y,QB=/\s*] */y,ZB=/\s*\(\s*/y,JB=/\s*->\s*/y,e4=/\s*:\s*/y,t4=/\s*,?\s*/y,n4=/\s+/y,e1=class{constructor(e){this.body=[],z0.lastIndex=0;let t=0;for(;;){let S=z0.exec(e);if(S===null)break;t=z0.lastIndex;try{this.body.push(c(S[1]))}catch(C){if(C instanceof SyntaxError)continue;throw C}}function i(S){return S.lastIndex=t,S.test(e)}function r(S,C){if(e[t]===S)return t++,!0;if(C)throw new C(`Expected ${S}`);return!1}function s(S,C){if(i(S))return t=S.lastIndex,!0;if(C)throw new C(`Expected ${S.toString()}`);return!1}function a(S){S.lastIndex=t;let C=S.exec(e);if(C===null)throw new SyntaxError(`Expected ${S.toString()}`);return t=S.lastIndex,C}function o(S){return a(S)[1]}function c(S){let C=d(),L=u();if(C===null&&Object.keys(L).length===0)throw new SyntaxError("Expected message value or attributes");return{id:S,value:C,attributes:L}}function u(){let S=Object.create(null);for(;i(xI);){let C=o(xI),L=d();if(L===null)throw new SyntaxError("Expected attribute value");S[C]=L}return S}function d(){let S;if(i(Tp)&&(S=o(Tp)),e[t]==="{"||e[t]==="}")return h(S?[S]:[],1/0);let C=T();return C?S?h([S,C],C.length):(C.value=E(C.value,GB),h([C],C.length)):S?E(S,AI):null}function h(S=[],C){for(;;){if(i(Tp)){S.push(o(Tp));continue}if(e[t]==="{"){S.push(f());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let q=T();if(q){S.push(q),C=Math.min(C,q.length);continue}break}let L=S.length-1,x=S[L];typeof x=="string"&&(S[L]=E(x,AI));let B=[];for(let q of S)q instanceof Mp&&(q=q.value.slice(0,q.value.length-C)),q&&B.push(q);return B}function f(){s(KB,SyntaxError);let S=p();if(s(CI))return S;if(s(JB)){let C=y();return s(CI,SyntaxError),Xe({type:"select",selector:S},C)}throw new SyntaxError("Unclosed placeable")}function p(){if(e[t]==="{")return f();if(i(wI)){let[,S,C,L=null]=a(wI);if(S==="$")return{type:"var",name:C};if(s(ZB)){let x=g();if(S==="-")return{type:"term",name:C,attr:L,args:x};if(HB.test(C))return{type:"func",name:C,args:x};throw new SyntaxError("Function names must be all upper-case")}return S==="-"?{type:"term",name:C,attr:L,args:[]}:{type:"mesg",name:C,attr:L}}return w()}function g(){let S=[];for(;;){switch(e[t]){case")":return t++,S;case void 0:throw new SyntaxError("Unclosed argument list")}S.push(m()),s(t4)}}function m(){let S=p();return S.type!=="mesg"?S:s(e4)?{type:"narg",name:S.name,value:w()}:S}function y(){let S=[],C=0,L;for(;i(VB);){r("*")&&(L=C);let x=b(),B=d();if(B===null)throw new SyntaxError("Expected variant value");S[C++]={key:x,value:B}}if(C===0)return null;if(L===void 0)throw new SyntaxError("Expected default variant");return{variants:S,star:L}}function b(){s(YB,SyntaxError);let S;return i(H0)?S=_():S={type:"str",value:o(zB)},s(QB,SyntaxError),S}function w(){if(i(H0))return _();if(e[t]==='"')return D();throw new SyntaxError("Invalid expression")}function _(){let[,S,C=""]=a(H0),L=C.length;return{type:"num",value:parseFloat(S),precision:L}}function D(){r('"',SyntaxError);let S="";for(;;){if(S+=o(qB),e[t]==="\\"){S+=A();continue}if(r('"'))return{type:"str",value:S};throw new SyntaxError("Unclosed string literal")}}function A(){if(i(DI))return o(DI);if(i(EI)){let[,S,C]=a(EI),L=parseInt(S||C,16);return L<=55295||57344<=L?String.fromCodePoint(L):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function T(){let S=t;switch(s(n4),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return k(e.slice(S,t))}return e[t-1]===" "?k(e.slice(S,t)):!1}function E(S,C){return S.replace(C,"")}function k(S){let C=S.replace($B,`
`),L=XB.exec(S)[1].length;return new Mp(C,L)}}},Mp=class{constructor(e,t){this.value=e,this.length=t}},i4=/<|&#?\w+;/,r4={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},s4={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function a4(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!i4.test(t))n.textContent=t;else{let i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,o4(i.content,n)}LI(e,n)}function o4(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let i=l4(e,t);n.replaceChild(i,t);continue}if(d4(t)){let i=u4(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(t1(t),t)}e.textContent="",e.appendChild(n)}function c4(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function LI(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(let i of Array.from(e.attributes))TI(i.name,e,t)&&!c4(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(let i of Array.from(n.attributes))TI(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function l4(n,e){let t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),t1(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),t1(e);n.removeChild(i);let r=i.cloneNode(!1);return OI(e,r)}function u4(n){let e=n.ownerDocument.createElement(n.localName);return OI(n,e)}function t1(n){return n.ownerDocument.createTextNode(n.textContent)}function d4(n){let e=r4[n.namespaceURI];return e&&e.includes(n.localName)}function TI(n,e,t=null){if(t&&t.includes(n))return!0;let i=s4[e.namespaceURI];if(!i)return!1;let r=n.toLowerCase(),s=e.localName;if(i.global.includes(r))return!0;if(!i[s])return!1;if(i[s].includes(r))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&s==="input"&&r==="value"){let a=e.type.toLowerCase();if(a==="submit"||a==="button"||a==="reset")return!0}return!1}function OI(n,e){return e.textContent=n.textContent,LI(n,e),e}var n1=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var i1=class extends n1{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return Z(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return Z(this,null,function*(){let t=0;for(;t++<e;){let i=this[this.length-1];if(i&&(yield i).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},r1=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return Z(this,null,function*(){let i=[],r=!1;try{for(var s=U1(this.bundles),a,o,c;a=!(o=yield s.next()).done;a=!1){let u=o.value;r=!0;let d=p4(t,u,e,i);if(d.size===0)break;if(typeof console<"u"){let h=u.locales[0],f=Array.from(d).join(", ");console.warn(`[fluent] Missing translations in ${h}: ${f}`)}}}catch{c=[o]}finally{try{a&&(o=s.return)&&(yield o.call(s))}finally{if(c)throw c[0]}}return!r&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i})}formatMessages(e){return this.formatWithFallback(e,f4)}formatValues(e){return this.formatWithFallback(e,h4)}formatValue(e,t){return Z(this,null,function*(){let[i]=yield this.formatValues([{id:e,args:t}]);return i})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=i1.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function h4(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function f4(n,e,t,i){let r={value:null,attributes:null};t.value&&(r.value=n.formatPattern(t.value,i,e));let s=Object.keys(t.attributes);if(s.length>0){r.attributes=new Array(s.length);for(let[a,o]of s.entries()){let c=n.formatPattern(t.attributes[o],i,e);r.attributes[a]={name:o,value:c}}}return r}function p4(n,e,t,i){let r=[],s=new Set;return t.forEach(({id:a,args:o},c)=>{if(i[c]!==void 0)return;let u=e.getMessage(a);if(u){if(r.length=0,i[c]=n(e,r,u,o),r.length>0&&typeof console<"u"){let d=e.locales[0],h=r.join(", ");console.warn(`[fluent][resolver] errors in ${d}/${a}: ${h}.`)}}else s.add(a)}),s}var $s="data-l10n-id",Xl="data-l10n-args",g4=`[${$s}]`,s1=class extends r1{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[$s,Xl]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute($s,t),i?e.setAttribute(Xl,JSON.stringify(i)):e.removeAttribute(Xl),e}getAttributes(e){return{id:e.getAttribute($s),args:JSON.parse(e.getAttribute(Xl)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(let r of this.getTranslatables(i))this.pendingElements.add(r);else i.hasAttribute($s)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return Z(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),i=yield this.formatMessages(t);return this.applyTranslations(e,i)})}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&a4(e[i],t[i]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(g4));return typeof e.hasAttribute=="function"&&e.hasAttribute($s)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute($s),args:JSON.parse(e.getAttribute(Xl)||null)}}},a1=class n{#e;#t;#n;#i;constructor({lang:e,isRTL:t},i=null){this.#n=n.#s(e),this.#i=i,this.#e=t??n.#r(this.#n)?"rtl":"ltr"}_setL10n(e){this.#i=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){return Z(this,null,function*(){return Array.isArray(e)?(e=e.map(a=>({id:a})),(yield this.#i.formatMessages(e)).map(a=>a.value)):(yield this.#i.formatMessages([{id:e,args:t}]))[0]?.value||i})}translate(e){return Z(this,null,function*(){(this.#t||=new Set).add(e);try{this.#i.connectRoot(e),yield this.#i.translateRoots()}catch{}})}translateOnce(e){return Z(this,null,function*(){try{yield this.#i.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return Z(this,null,function*(){if(this.#t){for(let e of this.#t)this.#i.disconnectRoot(e);this.#t.clear(),this.#t=null}this.#i.pauseObserving()})}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#s(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#r(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function SI(n,e){let t=new e1(e),i=new J0(n),r=i.addResource(t);return r.length&&console.error("L10n errors",r),i}var Do=class n extends a1{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#i.bind(n,this.getLanguage());this._setL10n(new s1([],t))}static#e(e,t){return Xp(this,null,function*(){let{baseURL:i,paths:r}=yield new $p(this.#n()),s=[t];if(e!==t){let a=t.split("-",1)[0];a!==t&&s.push(a),s.push(e)}for(let a of s){let o=yield new $p(this.#t(a,i,r));o?yield o:a==="en-us"&&(yield this.#s(a))}})}static#t(e,t,i){return Z(this,null,function*(){let r=i[e];if(!r)return null;let s=new URL(r,t),a=yield hI(s,"text");return SI(e,a)})}static#n(){return Z(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield hI(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#i(e){return Xp(this,null,function*(){yield this.#s(e)})}static#s(e){return Z(this,null,function*(){return SI(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},m4=1e3,q0=50,kI=1e3;function G0(){return document.location.hash}var o1=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let r=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,this.#d();let s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=G0(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#s(s,!0)||t){let{hash:o,page:c,rotation:u}=this.#c(!0);if(!o||r||t){this.#t(null,!0);return}this.#t({hash:o,page:c,rotation:u},!0);return}let a=s.destination;this.#r(a,s.uid,!0),a.rotation!==void 0&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(this.#o(),this._initialized=!1,this.#a()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#i(i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let r=e||JSON.stringify(t);if(!r)return;let s=!1;if(this._destination&&(b4(this._destination.hash,r)||_4(this._destination.dest,t))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this.#t({dest:t,hash:r,page:i,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#i(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let i=t||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};this.#r(e,r.uid);let s;if(this._updateUrl&&e?.hash){let a=document.location.href.split("#",1)[0];a.startsWith("file://")||(s=`${a}#${e.hash}`)}i?window.history.replaceState(r,"",s):window.history.pushState(r,"",s)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(q0<=0||this._numPositionUpdates<=q0))return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}this.#t(t,i)}#i(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#s(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[i]=performance.getEntriesByType("navigation");if(i?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#r(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#c(e=!1){let t=unescape(G0()).substring(1),i=jp(t),r=i.get("nameddest")||"",s=i.get("page")|0;return(!this.#i(s)||e&&r.length>0)&&(s=null),{hash:t,page:s,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(q0>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,kI>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},kI)))}#u({state:e}){let t=G0(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:s,page:a,rotation:o}=this.#c();this.#t({hash:s,page:a,rotation:o},!0);return}if(!this.#s(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,FB({target:window,name:"hashchange",delay:m4}).then(()=>{this._blockHashChange--}));let r=e.destination;this.#r(r,e.uid,!0),MI(r.rotation)&&(this.linkService.rotation=r.rotation),r.dest?this.linkService.goToDestination(r.dest):r.hash?this.linkService.setHash(r.hash):r.page&&(this.linkService.page=r.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#o(){(!this._destination||this._destination.temporary)&&this.#n()}#d(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#u.bind(this),{signal:e}),window.addEventListener("pagehide",this.#o.bind(this),{signal:e})}#a(){this.#e?.abort(),this.#e=null}};function b4(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||jp(n).get("nameddest")===e}function _4(n,e){function t(i,r){if(typeof i!=typeof r||Array.isArray(i)||Array.isArray(r))return!1;if(i!==null&&typeof i=="object"&&r!==null){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(let s in i)if(!t(i[s],r[s]))return!1;return!0}return i===r||Number.isNaN(i)&&Number.isNaN(r)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}var c1=class{#e=null;#t=null;#n=null;#i=null;#s=null;#r;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new Do,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#r=e.uiManager,this.#e=e.annotationLayer||null,this.#s=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null,this.#i=e.structTreeLayer||null}render(e,t="display"){return Z(this,null,function*(){if(t!=="display"||this._cancelled)return;let i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}let r=this.div=document.createElement("div");r.className="annotationEditorLayer",r.hidden=!0,r.dir=this.#r.direction,this.#n?.(r),this.annotationEditorLayer=new yB({uiManager:this.#r,div:r,structTreeLayer:this.#i,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:this.#e,textLayer:this.#s,drawLayer:this.#t});let s={viewport:i,div:r,annotations:null,intent:t};this.annotationEditorLayer.render(s),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{kp=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n),r=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(r||i)&&kp.set("maxCanvasPixels",5242880)})(),(function(){i&&kp.set("useSystemFonts",!1)})()}var kp,ne={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},l1={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},Ri={allowedGlobalEvents:{value:null,kind:ne.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:ne.BROWSER+ne.API},isInAutomation:{value:!1,kind:ne.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:ne.BROWSER},nimbusDataStr:{value:"",kind:ne.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:ne.BROWSER},supportsDocumentFonts:{value:!0,kind:ne.BROWSER},supportsIntegratedFind:{value:!1,kind:ne.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:ne.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:ne.BROWSER},supportsPinchToZoom:{value:!0,kind:ne.BROWSER},toolbarDensity:{value:0,kind:ne.BROWSER+ne.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:ne.VIEWER+ne.PREFERENCE},annotationEditorMode:{value:0,kind:ne.VIEWER+ne.PREFERENCE},annotationMode:{value:2,kind:ne.VIEWER+ne.PREFERENCE},cursorToolOnLoad:{value:0,kind:ne.VIEWER+ne.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:ne.VIEWER},defaultZoomDelay:{value:400,kind:ne.VIEWER+ne.PREFERENCE},defaultZoomValue:{value:"",kind:ne.VIEWER+ne.PREFERENCE},disableHistory:{value:!1,kind:ne.VIEWER},disablePageLabels:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},enableAltText:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:ne.VIEWER+ne.PREFERENCE+ne.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:ne.VIEWER+ne.PREFERENCE+ne.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:ne.VIEWER+ne.PREFERENCE},enablePermissions:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:ne.VIEWER+ne.PREFERENCE},enableScripting:{value:!0,kind:ne.VIEWER+ne.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:ne.VIEWER},externalLinkTarget:{value:0,kind:ne.VIEWER+ne.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:ne.VIEWER+ne.PREFERENCE},historyUpdateUrl:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},imageResourcesPath:{value:"./images/",kind:ne.VIEWER},maxCanvasPixels:{value:2**25,kind:ne.VIEWER},forcePageColors:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:ne.VIEWER+ne.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:ne.VIEWER+ne.PREFERENCE},pdfBugEnabled:{value:!1,kind:ne.VIEWER+ne.PREFERENCE},printResolution:{value:150,kind:ne.VIEWER},sidebarViewOnLoad:{value:-1,kind:ne.VIEWER+ne.PREFERENCE},scrollModeOnLoad:{value:-1,kind:ne.VIEWER+ne.PREFERENCE},spreadModeOnLoad:{value:-1,kind:ne.VIEWER+ne.PREFERENCE},textLayerMode:{value:1,kind:ne.VIEWER+ne.PREFERENCE},viewOnLoad:{value:0,kind:ne.VIEWER+ne.PREFERENCE},cMapPacked:{value:!0,kind:ne.API},cMapUrl:{value:"../web/cmaps/",kind:ne.API},disableAutoFetch:{value:!1,kind:ne.API+ne.PREFERENCE},disableFontFace:{value:!1,kind:ne.API+ne.PREFERENCE},disableRange:{value:!1,kind:ne.API+ne.PREFERENCE},disableStream:{value:!1,kind:ne.API+ne.PREFERENCE},docBaseUrl:{value:"",kind:ne.API},enableHWA:{value:!0,kind:ne.API+ne.VIEWER+ne.PREFERENCE},enableXfa:{value:!0,kind:ne.API+ne.PREFERENCE},fontExtraProperties:{value:!1,kind:ne.API},isEvalSupported:{value:!0,kind:ne.API},isOffscreenCanvasSupported:{value:!0,kind:ne.API},maxImageSize:{value:-1,kind:ne.API},pdfBug:{value:!1,kind:ne.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:ne.API},useSystemFonts:{value:void 0,kind:ne.API,type:l1.BOOLEAN+l1.UNDEFINED},verbosity:{value:1,kind:ne.API},workerPort:{value:null,kind:ne.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:ne.WORKER}};Ri.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:ne.VIEWER},Ri.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:ne.VIEWER},Ri.viewerCssTheme={value:0,kind:ne.VIEWER+ne.PREFERENCE},Ri.enableFakeMLManager={value:!0,kind:ne.VIEWER};Ri.disablePreferences={value:!1,kind:ne.VIEWER};var Xr,Ui=class Ui{static get(e){return zt(this,Xr).get(e)}static getAll(e=null,t=!1){let i=Object.create(null);for(let r in Ri){let s=Ri[r];e&&!(e&s.kind)||(i[r]=t?s.value:zt(this,Xr).get(r))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let i;for(let r in e){let s=Ri[r],a=e[r];if(!s||!(typeof a==typeof s.value||l1[(typeof a).toUpperCase()]&s.type))continue;let{kind:o}=s;t&&!(o&ne.BROWSER||o&ne.PREFERENCE)||(this.eventBus&&o&ne.EVENT_DISPATCH&&(i||=new Map).set(r,a),zt(this,Xr).set(r,a))}if(i)for(let[r,s]of i)this.eventBus.dispatch(r.toLowerCase(),{source:this,value:s})}};Xr=new WeakMap,F1(Ui,"eventBus"),dr(Ui,Xr,new Map),(()=>{for(let e in Ri)zt(Ui,Xr).set(e,Ri[e].value);for(let[e,t]of kp)zt(Ui,Xr).set(e,t);Ui._hasInvokedSet=!1,Ui._checkDisablePreferences=()=>Ui.get("disablePreferences")?!0:(Ui._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)})();var u1=Ui,d1=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return Z(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new DB({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},FI={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},y4=/^H(\d+)$/,Np=class{#e;#t=null;#n;#i=new Map;#s;#r=null;constructor(e,t){this.#e=e.getStructTree(),this.#s=t}render(){return Z(this,null,function*(){if(this.#n)return this.#n;let{promise:e,resolve:t,reject:i}=Promise.withResolvers();this.#n=e;try{this.#t=this.#u(yield this.#e)}catch(r){i(r)}return this.#e=null,this.#t?.classList.add("structTree"),t(this.#t),e})}getAriaAttributes(e){return Z(this,null,function*(){try{return yield this.render(),this.#i.get(e)}catch{}return null})}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#c(e,t){let{alt:i,id:r,lang:s}=e;if(i!==void 0){let a=!1,o=Yl(i);for(let c of e.children)if(c.type==="annotation"){let u=this.#i.get(c.id);u||(u=new Map,this.#i.set(c.id,u)),u.set("aria-label",o),a=!0}a||t.setAttribute("aria-label",o)}r!==void 0&&t.setAttribute("aria-owns",r),s!==void 0&&t.setAttribute("lang",Yl(s,!0))}#l(e,t){let{alt:i,bbox:r,children:s}=e,a=s?.[0];if(!this.#s||!i||!r||a?.type!=="content")return!1;let{id:o}=a;if(!o)return!1;t.setAttribute("aria-owns",o);let c=document.createElement("span");(this.#r||=new Map).set(o,c),c.setAttribute("role","img"),c.setAttribute("aria-label",Yl(i));let{pageHeight:u,pageX:d,pageY:h}=this.#s,f="calc(var(--scale-factor)*",{style:p}=c;return p.width=`${f}${r[2]-r[0]}px)`,p.height=`${f}${r[3]-r[1]}px)`,p.left=`${f}${r[0]-d}px)`,p.top=`${f}${u-r[3]+h}px)`,!0}addElementsToTextLayer(){if(this.#r){for(let[e,t]of this.#r)document.getElementById(e)?.append(t);this.#r.clear(),this.#r=null}}#u(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:i}=e,r=i.match(y4);if(r?(t.setAttribute("role","heading"),t.setAttribute("aria-level",r[1])):FI[i]&&t.setAttribute("role",FI[i]),i==="Figure"&&this.#l(e,t))return t}if(this.#c(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#c(e.children[0],t);else for(let i of e.children)t.append(this.#u(i));return t}},h1=class n{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(e){this.#t=e}static#s(e,t){let i=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(r.width===0&&r.height===0)return-1;let s=i.y,a=i.y+i.height,o=i.y+i.height/2,c=r.y,u=r.y+r.height,d=r.y+r.height/2;if(o<=c&&d>=a)return-1;if(d<=s&&o>=u)return 1;let h=i.x+i.width/2,f=r.x+r.width/2;return h-f}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#s),this.#n.size>0){let e=this.#t;for(let[t,i]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#r(t,e[i])}}for(let[e,t]of this.#i)this.addPointerInTextLayer(e,t);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#i.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:i}=e,r=this.#n.get(i);if(r===void 0)return;let s=t[r];this.#n.delete(i);let a=s.getAttribute("aria-owns");a?.includes(i)&&(a=a.split(" ").filter(o=>o!==i).join(" "),a?s.setAttribute("aria-owns",a):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}#r(e,t){let i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:i}=e;if(!i)return null;if(!this.#e)return this.#i.set(e,t),null;t&&this.removePointerInTextLayer(e);let r=this.#t;if(!r||r.length===0)return null;let s=Ql(r,u=>n.#s(e,u)<0),a=Math.max(0,s-1),o=r[a];this.#r(i,o),this.#n.set(i,a);let c=o.parentNode;return c?.classList.contains("markedContent")?c.id:null}moveElementInDOM(e,t,i,r){let s=this.addPointerInTextLayer(i,r);if(!e.hasChildNodes())return e.append(t),s;let a=Array.from(e.childNodes).filter(u=>u!==t);if(a.length===0)return s;let o=i||t,c=Ql(a,u=>n.#s(o,u)<0);return c===0?a[0].before(t):a[c-1].after(t),s}},f1=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:i}=this,r=0,s=0,a=i.length-1,o=[];for(let c=0,u=e.length;c<u;c++){let d=e[c];for(;r!==a&&d>=s+i[r].length;)s+=i[r].length,r++;r===i.length&&console.error("Could not find a matching mapping");let h={begin:{divIdx:r,offset:d-s}};for(d+=t[c];r!==a&&d>s+i[r].length;)s+=i[r].length,r++;h.end={divIdx:r,offset:d-s},o.push(h)}return o}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:i}=this,{textContentItemsStr:r,textDivs:s}=this,a=i===t.selected.pageIdx,o=t.selected.matchIdx,c=t.state.highlightAll,u=null,d={divIdx:-1,offset:void 0};function h(b,w){let _=b.divIdx;return s[_].textContent="",f(_,0,b.offset,w)}function f(b,w,_,D){let A=s[b];if(A.nodeType===Node.TEXT_NODE){let k=document.createElement("span");A.before(k),k.append(A),s[b]=k,A=k}let T=r[b].substring(w,_),E=document.createTextNode(T);if(D){let k=document.createElement("span");return k.className=`${D} appended`,k.append(E),A.append(k),D.includes("selected")?k.offsetLeft:0}return A.append(E),0}let p=o,g=p+1;if(c)p=0,g=e.length;else if(!a)return;let m=-1,y=-1;for(let b=p;b<g;b++){let w=e[b],_=w.begin;if(_.divIdx===m&&_.offset===y)continue;m=_.divIdx,y=_.offset;let D=w.end,A=a&&b===o,T=A?" selected":"",E=0;if(!u||_.divIdx!==u.divIdx?(u!==null&&f(u.divIdx,u.offset,d.offset),h(_)):f(u.divIdx,u.offset,_.offset),_.divIdx===D.divIdx)E=f(_.divIdx,_.offset,D.offset,"highlight"+T);else{E=f(_.divIdx,_.offset,d.offset,"highlight begin"+T);for(let k=_.divIdx+1,S=D.divIdx;k<S;k++)s[k].className="highlight middle"+T;h(D,"highlight end"+T)}u=D,A&&t.scrollMatchIntoView({element:s[_.divIdx],selectedLeft:E,pageIndex:i,matchIndex:o})}u&&f(u.divIdx,u.offset,d.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:i,pageIdx:r}=this,{textContentItemsStr:s,textDivs:a}=this,o=-1;for(let d of i){let h=Math.max(o,d.begin.divIdx);for(let f=h,p=d.end.divIdx;f<=p;f++){let g=a[f];g.textContent=s[f],g.className=""}o=d.end.divIdx+1}if(!t?.highlightMatches||e)return;let c=t.pageMatches[r]||null,u=t.pageMatchesLength[r]||null;this.matches=this._convertMatches(c,u),this._renderMatches(this.matches)}},Lp=class n{#e=!1;#t=null;#n=!1;#i=null;static#s=new Map;static#r=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:r=!1,onAppend:s=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=r===!0,this.#t=s,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return Z(this,null,function*(){if(this.#n&&this.#i){this.#i.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#i=new kB({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:i,textContentItemsStr:r}=this.#i;this.highlighter?.setTextMapping(i,r),this.accessibilityManager?.setTextMapping(i),yield this.#i.render(),this.#n=!0;let s=document.createElement("div");s.className="endOfContent",this.div.append(s),this.#c(s),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#l(this.div)}#c(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!this.#e){let r=document.getSelection();i.clipboardData.setData("text/plain",Yl(CB(r.toString())))}i.preventDefault(),i.stopPropagation()}),n.#s.set(t,e),n.#u()}static#l(e){this.#s.delete(e),this.#s.size===0&&(this.#r?.abort(),this.#r=null)}static#u(){if(this.#r)return;this.#r=new AbortController;let{signal:e}=this.#r,t=(a,o)=>{o.append(a),a.style.width="",a.style.height="",o.classList.remove("selecting")},i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,this.#s.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,this.#s.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||this.#s.forEach(t)},{signal:e});var r,s;document.addEventListener("selectionchange",()=>{let a=document.getSelection();if(a.rangeCount===0){this.#s.forEach(t);return}let o=new Set;for(let p=0;p<a.rangeCount;p++){let g=a.getRangeAt(p);for(let m of this.#s.keys())!o.has(m)&&g.intersectsNode(m)&&o.add(m)}for(let[p,g]of this.#s)o.has(p)?p.classList.add("selecting"):t(g,p);if(r??=getComputedStyle(this.#s.values().next().value).getPropertyValue("-moz-user-select")==="none",r)return;let c=a.getRangeAt(0),u=s&&(c.compareBoundaryPoints(Range.END_TO_END,s)===0||c.compareBoundaryPoints(Range.START_TO_END,s)===0),d=u?c.startContainer:c.endContainer;d.nodeType===Node.TEXT_NODE&&(d=d.parentNode);let h=d.parentElement?.closest(".textLayer"),f=this.#s.get(h);f&&(f.style.width=h.style.width,f.style.height=h.style.height,d.parentElement.insertBefore(f,u?d:d.nextSibling)),s=c.cloneRange()},{signal:e})}},Op=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:r=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=r,this.div=null,this._cancelled=!1}render(e,t="display"){return Z(this,null,function*(){if(t==="print"){let s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),s.div=this.div,V0.render(s)}let i=yield this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?V0.update(r):(this.div=document.createElement("div"),r.div=this.div,V0.render(r))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},v4={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new Zl}},x4=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),Bp=class{#e=ur.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#s=null;#r=null;#c=null;#l=1;#u=1;#o=null;#d=ht.INITIAL;#a=Pi.ENABLE;#h={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#p=new WeakMap;#f=[null,null,null,null];constructor(e){let t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#s=e.layerProperties||v4,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||PI,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#a=e.textLayerMode??Pi.ENABLE,this.#e=e.annotationMode??ur.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??u1.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new Do,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let r=document.createElement("div");if(r.className="page",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),r.setAttribute("data-l10n-id","pdfjs-page-landmark"),r.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=r,this.#b(),t?.append(r),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*lr.PDF_TO_CSS_UNITS),this.pageColors?.background&&t?.style.setProperty("--page-bg-color",this.pageColors.background);let{optionalContentConfigPromise:s}=e;s&&s.then(a=>{s===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=a.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#g(e,t){let i=x4.get(t),r=this.#f[i];if(this.#f[i]=e,r){r.replaceWith(e);return}for(let s=i-1;s>=0;s--){let a=this.#f[s];if(a){a.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#d}set renderingState(e){if(e!==this.#d)switch(this.#d=e,this.#r&&(clearTimeout(this.#r),this.#r=null),e){case ht.PAUSED:this.div.classList.remove("loading");break;case ht.RUNNING:this.div.classList.add("loadingIcon"),this.#r=setTimeout(()=>{this.div.classList.add("loading"),this.#r=null},0);break;case ht.INITIAL:case ht.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#b(){let{viewport:e}=this;if(this.pdfPage){if(this.#c===e.rotation)return;this.#c=e.rotation}SB(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*lr.PDF_TO_CSS_UNITS,rotation:t}),this.#b(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return Ip(this,"_textHighlighter",new f1({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#s.findController}))}#m(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#_(){return Z(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#m("annotationlayerrendered",e)}})}#v(){return Z(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#m("annotationeditorlayerrendered",e)}})}#D(){return Z(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#x(){return Z(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#T(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#g(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#m("xfalayerrendered",e)}})}#w(){return Z(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof _B)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#m("textlayerrendered",e),this.#F()})}#F(){return Z(this,null,function*(){if(!this.textLayer)return;let e=yield this.structTreeLayer?.render();e&&(this.l10n.pause(),this.structTreeLayer?.addElementsToTextLayer(),this.canvas&&e.parentNode!==this.canvas&&this.canvas.append(e),this.l10n.resume()),this.structTreeLayer?.show()})}#T(e){return Z(this,null,function*(){let t=yield this.pdfPage.getTextContent(),i=[];for(let r of t.items)i.push(r.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#p.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:r=!1,keepTextLayer:s=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:r,keepTextLayer:s}),this.renderingState=ht.INITIAL;let a=this.div,o=a.childNodes,c=e&&this.zoomLayer||null,u=t&&this.annotationLayer?.div||null,d=i&&this.annotationEditorLayer?.div||null,h=r&&this.xfaLayer?.div||null,f=s&&this.textLayer?.div||null;for(let p=o.length-1;p>=0;p--){let g=o[p];switch(g){case c:case u:case d:case h:case f:continue}g.remove();let m=this.#f.indexOf(g);m>=0&&(this.#f[m]=null)}a.removeAttribute("data-loaded"),u&&this.annotationLayer.hide(),d&&this.annotationEditorLayer.hide(),h&&this.xfaLayer.hide(),f&&this.textLayer.hide(),this.structTreeLayer?.hide(),c||(this.canvas&&(this.#p.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#i=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:r=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(a=>{i===this._optionalContentConfigPromise&&(this.#h.initialOptionalContent=a.hasInitialVisibility)})),this.#h.directDrawing=!0;let s=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*lr.PDF_TO_CSS_UNITS,rotation:s}),this.#b(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let a=!1;if(this.#n){if(this.maxCanvasPixels===0)a=!0;else if(this.maxCanvasPixels>0){let{width:c,height:u}=this.viewport,{sx:d,sy:h}=this.outputScale;a=(Math.floor(c)*d|0)*(Math.floor(u)*h|0)>this.maxCanvasPixels}}let o=r>=0&&r<1e3;if(o||a){if(o&&!a&&this.renderingState!==ht.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:r}),this.renderingState=ht.FINISHED,this.#h.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!o,hideTextLayer:o}),o)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#o});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:r=!1,cancelExtraDelay:s=0}={}){this.renderTask&&(this.renderTask.cancel(s),this.renderTask=null),this.resume=null,this.textLayer&&(!r||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:r=!1,redrawTextLayer:s=!1,hideTextLayer:a=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:c}=e;c.width=c.height=""}let o=this.#p.get(e);if(this.viewport!==o){let c=this.viewport.rotation-o.rotation,u=Math.abs(c),d=1,h=1;if(u===90||u===270){let{width:f,height:p}=this.viewport;d=p/f,h=f/p}e.style.transform=`rotate(${c}deg) scale(${d}, ${h})`}t&&this.annotationLayer&&this.#_(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#D(),this.#v()),r&&this.xfaLayer&&this.#x(),this.textLayer&&(a?(this.textLayer.hide(),this.structTreeLayer?.hide()):s&&this.#w())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#E(e,t=null){return Z(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof K0){this.#o=null;return}if(this.#o=t,this.renderingState=ht.FINISHED,this._resetZoomLayer(!0),this.#h.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#o}),t)throw t})}draw(){return Z(this,null,function*(){this.renderingState!==ht.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:i,pdfPage:r,viewport:s}=this;if(!r)throw this.renderingState=ht.FINISHED,new Error("pdfPage is not loaded");this.renderingState=ht.RUNNING;let a=document.createElement("div");if(a.classList.add("canvasWrapper"),this.#g(a,"canvasWrapper"),!this.textLayer&&this.#a!==Pi.DISABLE&&!r.isPureXfa&&(this._accessibilityManager||=new h1,this.textLayer=new Lp({pdfPage:r,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#a===Pi.ENABLE_PERMISSIONS,onAppend:S=>{this.l10n.pause(),this.#g(S,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==ur.DISABLE){let{annotationStorage:S,annotationEditorUIManager:C,downloadManager:L,enableScripting:x,fieldObjectsPromise:B,hasJSActionsPromise:q,linkService:H}=this.#s;this._annotationCanvasMap||=new Map,this.annotationLayer=new Up({pdfPage:r,annotationStorage:S,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===ur.ENABLE_FORMS,linkService:H,downloadManager:L,enableScripting:x,hasJSActionsPromise:q,fieldObjectsPromise:B,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:C,onAppend:I=>{this.#g(I,"annotationLayer")}})}let o=S=>{if(f?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=ht.PAUSED,this.resume=()=>{this.renderingState=ht.RUNNING,S()};return}S()},{width:c,height:u}=s,d=document.createElement("canvas");d.setAttribute("role","presentation"),d.hidden=!0;let h=!!(i?.background&&i?.foreground),f=S=>{(!h||S)&&(d.hidden=!1,f=null)};a.append(d),this.canvas=d;let p=d.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),g=this.outputScale=new TB;if(this.maxCanvasPixels===0){let S=1/this.scale;g.sx*=S,g.sy*=S,this.#n=!0}else if(this.maxCanvasPixels>0){let S=c*u,C=Math.sqrt(this.maxCanvasPixels/S);g.sx>C||g.sy>C?(g.sx=C,g.sy=C,this.#n=!0):this.#n=!1}let m=rI(g.sx),y=rI(g.sy),b=d.width=Dp(Ep(c*g.sx),m[0]),w=d.height=Dp(Ep(u*g.sy),y[0]),_=Dp(Ep(c),m[1]),D=Dp(Ep(u),y[1]);g.sx=b/_,g.sy=w/D,this.#l!==m[1]&&(e.style.setProperty("--scale-round-x",`${m[1]}px`),this.#l=m[1]),this.#u!==y[1]&&(e.style.setProperty("--scale-round-y",`${y[1]}px`),this.#u=y[1]),this.#p.set(d,s);let A=g.scaled?[g.sx,0,0,g.sy,0,0]:null,T={canvasContext:p,transform:A,viewport:s,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:this.#i},E=this.renderTask=r.render(T);E.onContinue=o;let k=E.promise.then(()=>Z(this,null,function*(){f?.(!0),yield this.#E(E),this.structTreeLayer||=new Np(r,s.rawDims),this.#w(),this.annotationLayer&&(yield this.#_());let{annotationEditorUIManager:S}=this.#s;S&&(this.drawLayer||=new d1({pageIndex:this.id}),yield this.#D(),this.drawLayer.setParent(a),this.annotationEditorLayer||=new c1({uiManager:S,pdfPage:r,l10n:t,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:C=>{this.#g(C,"annotationEditorLayer")}}),this.#v())}),S=>(S instanceof K0||f?.(!0),this.#E(E,S)));if(r.isPureXfa){if(!this.xfaLayer){let{annotationStorage:S,linkService:C}=this.#s;this.xfaLayer=new Op({pdfPage:r,annotationStorage:S,linkService:C})}this.#x()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),k})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#h;return e&&t&&i?this.canvas:null}};function w4(n){return Z(this,null,function*(){let t="".split("#",1)[0],{info:i,metadata:r,contentDispositionFilename:s,contentLength:a}=yield n.getMetadata();if(!a){let{length:o}=yield n.getDownloadInfo();a=o}return An(Xe({},i),{baseURL:t,filesize:a,filename:s||EB(""),metadata:r?.getRaw(),authors:r?.get("dc:creator"),numPages:n.numPages,URL:""})})}var p1=class{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(s=>{t(s.QuickJSSandbox())}).catch(i)})}createSandbox(e){return Z(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return Z(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return Z(this,null,function*(){(yield this._ready).nukeSandbox()})}},g1=class{#e=null;#t=null;#n=null;#i=null;#s=null;#r=null;#c=null;#l=null;#u=!1;#o=null;#d=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#s=e,this.#r=t,this.#n=i}setViewer(e){this.#l=e}setDocument(e){return Z(this,null,function*(){if(this.#c&&(yield this.#g()),this.#c=e,!e)return;let[t,i,r]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!r){yield this.#g();return}if(e!==this.#c)return;try{this.#o=this.#f()}catch(o){console.error(`setDocument: "${o.message}".`),yield this.#g();return}let s=this.#s;this.#i=new AbortController;let{signal:a}=this.#i;s._on("updatefromsandbox",o=>{o?.source===window&&this.#a(o.detail)},{signal:a}),s._on("dispatcheventinsandbox",o=>{this.#o?.dispatchEventInSandbox(o.detail)},{signal:a}),s._on("pagechanging",({pageNumber:o,previous:c})=>{o!==c&&(this.#p(c),this.#h(o))},{signal:a}),s._on("pagerendered",({pageNumber:o})=>{this._pageOpenPending.has(o)&&o===this.#l.currentPageNumber&&this.#h(o)},{signal:a}),s._on("pagesdestroy",()=>Z(this,null,function*(){yield this.#p(this.#l.currentPageNumber),yield this.#o?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:a});try{let o=yield this.#n(e);if(e!==this.#c)return;yield this.#o.createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:An(Xe({},o),{actions:r})}),s.dispatch("sandboxcreated",{source:this})}catch(o){console.error(`setDocument: "${o.message}".`),yield this.#g();return}yield this.#o?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#h(this.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#c&&(this.#u=!0)})})}dispatchWillSave(){return Z(this,null,function*(){return this.#o?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return Z(this,null,function*(){return this.#o?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return Z(this,null,function*(){if(this.#o){yield this.#d?.promise,this.#d=Promise.withResolvers();try{yield this.#o.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#d.resolve(),this.#d=null,e}yield this.#d.promise}})}dispatchDidPrint(){return Z(this,null,function*(){return this.#o?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#u}get _pageOpenPending(){return Ip(this,"_pageOpenPending",new Set)}get _visitedPages(){return Ip(this,"_visitedPages",new Map)}#a(e){return Z(this,null,function*(){let t=this.#l,i=t.isInPresentationMode||t.isChangingPresentationMode,{id:r,siblings:s,command:a,value:o}=e;if(!r){switch(a){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(!i){let u=K8(o);t.spreadMode=u.spreadMode}break;case"page-num":t.currentPageNumber=o+1;break;case"print":yield t.pagesPromise,this.#s.dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":i||(t.currentScaleValue=o);break;case"SaveAs":this.#s.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":this.#d?.resolve(),this.#d=null;break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;let c=s?[r,...s]:[r];for(let u of c){let d=document.querySelector(`[data-element-id="${u}"]`);d?d.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#c?.annotationStorage.setValue(u,e)}})}#h(e,t=!1){return Z(this,null,function*(){let i=this.#c,r=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let s=this.#l.getPageView(e-1);if(s?.renderingState!==ht.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let a=Z(this,null,function*(){let o=yield r.has(e)?null:s.pdfPage?.getJSActions();i===this.#c&&(yield this.#o?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:o}))});r.set(e,a)})}#p(e){return Z(this,null,function*(){let t=this.#c,i=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let r=i.get(e);r&&(i.set(e,null),yield r,t===this.#c&&(yield this.#o?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#f(){if(this.#t=Promise.withResolvers(),this.#o)throw new Error("#initScripting: Scripting already exists.");return this.#r.createScripting()}#g(){return Z(this,null,function*(){if(!this.#o){this.#c=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#c=null;try{yield this.#o.destroySandbox()}catch{}this.#d?.reject(new Error("Scripting destroyed.")),this.#d=null,this.#i?.abort(),this.#i=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#o=null,this.#u=!1,this.#t?.resolve()})}},m1=class extends g1{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new p1(e.sandboxBundleSrc)},e.docProperties||=t=>w4(t),super(e)}},D4=3e4,b1=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),D4)))}getHighestPriority(e,t,i,r=!1){let s=e.views,a=s.length;if(a===0)return null;for(let h=0;h<a;h++){let f=s[h].view;if(!this.isViewFinished(f))return f}let o=e.first.id,c=e.last.id;if(c-o+1>a){let h=e.ids;for(let f=1,p=c-o;f<p;f++){let g=i?o+f:c-f;if(h.has(g))continue;let m=t[g-1];if(!this.isViewFinished(m))return m}}let u=i?c:o-2,d=t[u];return d&&!this.isViewFinished(d)||r&&(u+=i?1:-1,d=t[u],d&&!this.isViewFinished(d))?d:null}isViewFinished(e){return e.renderingState===ht.FINISHED}renderView(e){switch(e.renderingState){case ht.FINISHED:return!1;case ht.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case ht.RUNNING:this.highestPriorityPage=e.renderingId;break;case ht.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof K0||console.error(`renderView: "${t}"`)});break}return!0}},II=10,Sp={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function UI(n){return Object.values(Mn).includes(n)&&n!==Mn.DISABLE}var _1=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let i=this.#e;if(t){let r=i.size,s=1;for(let a of i)if(t.has(a.id)&&(i.delete(a),i.add(a)),++s>r)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},Wp=class{#e=null;#t=null;#n=null;#i=Mn.NONE;#s=null;#r=ur.ENABLE_FORMS;#c=null;#l=!1;#u=!1;#o=!1;#d=!1;#a=!1;#h=null;#p=null;#f=null;#g=null;#b=!1;#m=null;#_=!1;#v=0;#D=new ResizeObserver(this.#O.bind(this));#x=null;#w=null;#F=Pi.ENABLE;constructor(e){let t="4.8.69";if(fI!==t)throw new Error(`The API version "${fI}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#D.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new Zl,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=r=>this._getVisiblePages().ids.has(r)),this._scriptingManager=e.scriptingManager||null,this.#F=e.textLayerMode??Pi.ENABLE,this.#r=e.annotationMode??ur.ENABLE_FORMS,this.#i=e.annotationEditorMode??Mn.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#u=e.enableHighlightFloatingButton===!0,this.#d=e.enableUpdatedAddImage===!0,this.#a=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new Do,this.#o=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#p=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new b1,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#D.disconnect(),this.#D=null},{once:!0}),this.scroll=V8(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=vo.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#N(),this.eventBus._on("thumbnailrendered",({pageNumber:r,pdfPage:s})=>{let a=this._pages[r-1];this.#e.has(a)||s?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#r===ur.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#U(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#U(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==O0?this._currentScale:PI}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#k(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#k(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!MI(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#k(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return Ip(this,"_layerProperties",{get annotationEditorUIManager(){return e.#s},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#T(e){let t={annotationEditorMode:this.#i,annotationMode:this.#r,textLayerMode:this.#F};return e&&(!e.includes(Cp.COPY)&&this.#F===Pi.ENABLE&&(t.textLayerMode=Pi.ENABLE_PERMISSIONS),e.includes(Cp.MODIFY_CONTENTS)||(t.annotationEditorMode=Mn.DISABLE),!e.includes(Cp.MODIFY_ANNOTATIONS)&&!e.includes(Cp.FILL_INTERACTIVE_FORMS)&&this.#r===ur.ENABLE_FORMS&&(t.annotationMode=ur.ENABLE)),t}#E(e){return Z(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([e,i.signal]):e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()})}getAllText(){return Z(this,null,function*(){let e=[],t=[];for(let i=1,r=this.pdfDocument.numPages;i<=r;++i){if(this.#_)return null;t.length=0;let s=yield this.pdfDocument.getPage(i),{items:a}=yield s.getTextContent();for(let o of a)o.str&&t.push(o.str),o.hasEOL&&t.push(`
`);e.push(Yl(t.join("")))}return e.join(`
`)})}#S(e,t){let i=document.getSelection(),{focusNode:r,anchorNode:s}=i;if(s&&r&&i.containsNode(this.#m)){if(this.#b||e===Pi.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#b=!0;let{classList:a}=this.viewer;a.add("copyAll");let o=new AbortController;window.addEventListener("keydown",c=>this.#_=c.key==="Escape",{signal:o.signal}),this.getAllText().then(c=>Z(this,null,function*(){c!==null&&(yield navigator.clipboard.writeText(c))})).catch(c=>{console.warn(`Something goes wrong when extracting the text: ${c.message}`)}).finally(()=>{this.#b=!1,this.#_=!1,o.abort(),a.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#s?.destroy(),this.#s=null),this.pdfDocument=e,!e)return;let t=e.numPages,i=e.getPage(1),r=e.getOptionalContentConfig({intent:"display"}),s=this.#o?e.getPermissions():Promise.resolve(),{eventBus:a,pageColors:o,viewer:c}=this;this.#h=new AbortController;let{signal:u}=this.#h;if(t>Sp.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let f=this._scrollMode=Ne.PAGE;a.dispatch("scrollmodechanged",{source:this,mode:f})}this._pagesCapability.promise.then(()=>{a.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let d=f=>{let p=this._pages[f.pageNumber-1];p&&this.#e.push(p)};a._on("pagerender",d,{signal:u});let h=f=>{f.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:f.timestamp}),a._off("pagerendered",h))};a._on("pagerendered",h,{signal:u}),Promise.all([i,s]).then(([f,p])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(f),this._optionalContentConfigPromise=r;let{annotationEditorMode:g,annotationMode:m,textLayerMode:y}=this.#T(p);if(y!==Pi.DISABLE){let D=this.#m=document.createElement("div");D.id="hiddenCopyElement",c.before(D)}if(typeof AbortSignal.any=="function"&&g!==Mn.DISABLE){let D=g;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):UI(D)?(this.#s=new vB(this.container,c,this.#t,a,e,o,this.#n,this.#u,this.#d,this.#a,this.#p),a.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#s}),D!==Mn.NONE&&(D===Mn.STAMP&&this.#p?.loadModel("altText"),this.#s.updateMode(D))):console.error(`Invalid AnnotationEditor mode: ${D}`)}let b=this._scrollMode===Ne.PAGE?null:c,w=this.currentScale,_=f.getViewport({scale:w*lr.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",_.scale),o?.background&&c.style.setProperty("--page-bg-color",o.background),(o?.foreground==="CanvasText"||o?.background==="Canvas")&&(c.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let D=1;D<=t;++D){let A=new Bp({container:b,eventBus:a,id:D,scale:w,defaultViewport:_.clone(),optionalContentConfigPromise:r,renderingQueue:this.renderingQueue,textLayerMode:y,annotationMode:m,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:o,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(A)}this._pages[0]?.setPdfPage(f),this._scrollMode===Ne.PAGE?this.#C():this._spreadMode!==Qt.NONE&&this._updateSpreadMode(),this.#E(u).then(()=>Z(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#m&&document.addEventListener("copy",this.#S.bind(this,y),{signal:u}),this.#s&&a.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),e.loadingParams.disableAutoFetch||t>Sp.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let D=t-1;if(D<=0){this._pagesCapability.resolve();return}for(let A=2;A<=t;++A){let T=e.getPage(A).then(E=>{let k=this._pages[A-1];k.pdfPage||k.setPdfPage(E),--D===0&&this._pagesCapability.resolve()},E=>{console.error(`Unable to get page ${A} to initialize viewer`,E),--D===0&&this._pagesCapability.resolve()});A%Sp.PAUSE_EAGER_PAGE_INIT===0&&(yield T)}})),a.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:D})=>{e===this.pdfDocument&&D.Language&&(c.lang=D.Language)}),this.defaultRenderingQueue&&this.update()}).catch(f=>{console.error("Unable to initialize viewer",f),this._pagesCapability.reject(f)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=O0,this._currentScaleValue=null,this._pageLabels=null,this.#e=new _1(II),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=Ne.VERTICAL,this._previousScrollMode=Ne.UNKNOWN,this._spreadMode=Qt.NONE,this.#x={previousPageNumber:1,scrollDown:!0,pages:[]},this.#h?.abort(),this.#h=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#m?.remove(),this.#m=null,this.#B()}#C(){if(this._scrollMode!==Ne.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#x,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===Qt.NONE&&!this.isInPresentationMode){let r=this._pages[e-1];i.append(r.div),t.pages.push(r)}else{let r=new Set,s=this._spreadMode-1;s===-1?r.add(e-1):e%2!==s?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));let a=document.createElement("div");if(a.className="spread",this.isInPresentationMode){let o=document.createElement("div");o.className="dummyPage",a.append(o)}for(let o of r){let c=this._pages[o];c&&(a.append(c.div),t.pages.push(c))}i.append(a)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#I(e,t=null){let{div:i,id:r}=e;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===Ne.PAGE&&(this.#C(),this.update()),!t&&!this.isInPresentationMode){let s=i.offsetLeft+i.clientLeft,a=s+i.clientWidth,{scrollLeft:o,clientWidth:c}=this.container;(this._scrollMode===Ne.HORIZONTAL||s<o||a>o+c)&&(t={left:0,top:0})}RI(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#P(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#A(e,t,{noScroll:i=!1,preset:r=!1,drawingDelay:s=-1,origin:a=null}){if(this._currentScaleValue=t.toString(),this.#P(e)){r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*lr.PDF_TO_CSS_UNITS);let o=s>=0&&s<1e3;this.refresh(!0,{scale:e,drawingDelay:o?s:-1}),o&&(this.#w=setTimeout(()=>{this.#w=null,this.refresh()},s));let c=this._currentScale;if(this._currentScale=e,!i){let u=this._currentPageNumber,d;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(u=this._location.pageNumber,d=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:u,destArray:d,allowNegativeOffset:!0}),Array.isArray(a)){let h=e/c-1,[f,p]=this.containerTopLeft;this.container.scrollLeft+=(a[0]-p)*h,this.container.scrollTop+=(a[1]-f)*h}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}get#y(){return this._spreadMode!==Qt.NONE&&this._scrollMode!==Ne.HORIZONTAL?2:1}#k(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#A(i,e,t);else{let r=this._pages[this._currentPageNumber-1];if(!r)return;let s=tI,a=nI;this.isInPresentationMode?(s=a=4,this._spreadMode!==Qt.NONE&&(s*=2)):this.removePageBorders?s=a=0:this._scrollMode===Ne.HORIZONTAL&&([s,a]=[a,s]);let o=(this.container.clientWidth-s)/r.width*r.scale/this.#y,c=(this.container.clientHeight-a)/r.height*r.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=c;break;case"page-fit":i=Math.min(o,c);break;case"auto":let u=sI(r)?o:Math.min(c,o);i=Math.min(j8,u);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#A(i,e,t)}}#U(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#k(this._currentScaleValue,{noScroll:!0}),this.#I(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:r=!1}){if(!this.pdfDocument)return;let s=Number.isInteger(e)&&this._pages[e-1];if(!s){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let a=0,o=0,c=0,u=0,d,h,f=s.rotation%180!==0,p=(f?s.height:s.width)/s.scale/lr.PDF_TO_CSS_UNITS,g=(f?s.width:s.height)/s.scale/lr.PDF_TO_CSS_UNITS,m=0;switch(t[1].name){case"XYZ":a=t[2],o=t[3],m=t[4],a=a!==null?a:0,o=o!==null?o:g;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":o=t[2],m="page-width",o===null&&this._location?(a=this._location.left,o=this._location.top):(typeof o!="number"||o<0)&&(o=g);break;case"FitV":case"FitBV":a=t[2],c=p,u=g,m="page-height";break;case"FitR":a=t[2],o=t[3],c=t[4]-a,u=t[5]-o;let _=tI,D=nI;this.removePageBorders&&(_=D=0),d=(this.container.clientWidth-_)/c/lr.PDF_TO_CSS_UNITS,h=(this.container.clientHeight-D)/u/lr.PDF_TO_CSS_UNITS,m=Math.min(Math.abs(d),Math.abs(h));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(r||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===O0&&(this.currentScaleValue=O8)),m==="page-fit"&&!t[4]){this.#I(s);return}let y=[s.viewport.convertToViewportPoint(a,o),s.viewport.convertToViewportPoint(a+c,o+u)],b=Math.min(y[0][0],y[1][0]),w=Math.min(y[0][1],y[1][1]);i||(b=Math.max(b,0),w=Math.max(w,0)),this.#I(s,{left:b,top:w})}_updateLocation(e){let t=this._currentScale,i=this._currentScaleValue,r=parseFloat(i)===t?Math.round(t*1e4)/100:i,s=e.id,a=this._pages[s-1],o=this.container,c=a.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),u=Math.round(c[0]),d=Math.round(c[1]),h=`#page=${s}`;this.isInPresentationMode||(h+=`&zoom=${r},${u},${d}`),this._location={pageNumber:s,scale:r,top:d,left:u,rotation:this._pagesRotation,pdfOpenParams:h}}update(){let e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;let r=Math.max(II,2*i+1);this.#e.resize(r,e.ids),this.renderingQueue.renderHighestPriority(e);let s=this._spreadMode===Qt.NONE&&(this._scrollMode===Ne.PAGE||this._scrollMode===Ne.VERTICAL),a=this._currentPageNumber,o=!1;for(let c of t){if(c.percent<100)break;if(c.id===a&&s){o=!0;break}}this._setCurrentPageNumber(o?a:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#L(){let e=this._getVisiblePages(),t=[],{ids:i,views:r}=e;for(let s of r){let{view:a}=s;if(!a.hasEditableAnnotations()){i.delete(a.id);continue}t.push(s)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===vo.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===vo.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===Ne.PAGE?this.#x.pages:this._pages,t=this._scrollMode===Ne.HORIZONTAL,i=t&&this._isContainerRtl;return H8({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(let e of this._pages)e.renderingState!==ht.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#j(e){return Z(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#W(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case Ne.PAGE:return this.#x.scrollDown;case Ne.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),i=this.#W(t),r=this._spreadMode!==Qt.NONE&&this._scrollMode!==Ne.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,i,r);return s?(this.#j(s).then(()=>{this.renderingQueue.renderView(s)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){let r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let i=t.pdfPage.getViewport({scale:1}),r=sI(i);if(e===void 0)e=r;else if(this.enablePrintAutoRotate&&r!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!q8(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>Sp.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===Ne.HORIZONTAL),i.classList.toggle("scrollWrapped",t===Ne.WRAPPED),!(!this.pdfDocument||!e)&&(t===Ne.PAGE?this.#C():this._previousScrollMode===Ne.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#k(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!G8(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,i=this._pages;if(this._scrollMode===Ne.PAGE)this.#C();else if(t.textContent="",this._spreadMode===Qt.NONE)for(let r of this._pages)t.append(r.div);else{let r=this._spreadMode-1,s=null;for(let a=0,o=i.length;a<o;++a)s===null?(s=document.createElement("div"),s.className="spread",t.append(s)):a%2===r&&(s=s.cloneNode(!1),t.append(s)),s.append(i[a].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#k(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case Ne.WRAPPED:{let{views:i}=this._getVisiblePages(),r=new Map;for(let{id:s,y:a,percent:o,widthPercent:c}of i){if(o===0||c<100)continue;let u=r.get(a);u||r.set(a,u||=[]),u.push(s)}for(let s of r.values()){let a=s.indexOf(e);if(a===-1)continue;let o=s.length;if(o===1)break;if(t)for(let c=a-1,u=0;c>=u;c--){let d=s[c],h=s[c+1]-1;if(d<h)return e-h}else for(let c=a+1,u=o;c<u;c++){let d=s[c],h=s[c-1]+1;if(d>h)return h-e}if(t){let c=s[0];if(c<e)return e-c+1}else{let c=s[o-1];if(c>e)return c-e+1}break}break}case Ne.HORIZONTAL:break;case Ne.PAGE:case Ne.VERTICAL:{if(this._spreadMode===Qt.NONE)break;let i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;let{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(let{id:a,percent:o,widthPercent:c}of r)if(a===s){if(o>0&&c===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:r}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let s=this._currentScale;if(t>0&&t!==1)s=Math.round(s*t*100)/100;else if(i){let a=i>0?eI:1/eI,o=i>0?Math.ceil:Math.floor;i=Math.abs(i);do s=o((s*a).toFixed(2)*10)/10;while(--i>0)}s=Math.max(B8,Math.min(W8,s)),this.#k(s,{noScroll:!1,drawingDelay:e,origin:r})}increaseScale(e={}){this.updateScale(An(Xe({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(An(Xe({},e),{steps:-(e.steps??1)}))}#N(e=this.container.clientHeight){e!==this.#v&&(this.#v=e,$8.setProperty("--viewer-container-height",`${e}px`))}#O(e){for(let t of e)if(t.target===this.container){this.#N(Math.floor(t.borderBoxSize[0].blockSize)),this.#c=null;break}}get containerTopLeft(){return this.#c||=[this.container.offsetTop,this.container.offsetLeft]}#B(){this.#f?.abort(),this.#f=null,this.#g!==null&&(clearTimeout(this.#g),this.#g=null)}get annotationEditorMode(){return this.#s?this.#i:Mn.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===e)return;if(!UI(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===Mn.STAMP&&this.#p?.loadModel("altText");let{eventBus:r}=this,s=()=>{this.#B(),this.#i=e,this.#s.updateMode(e,t,i),r.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===Mn.NONE||this.#i===Mn.NONE){let a=e!==Mn.NONE;a||this.pdfDocument.annotationStorage.resetModifiedIds();for(let c of this._pages)c.toggleEditingMode(a);let o=this.#L();if(a&&o){this.#B(),this.#f=new AbortController;let c=AbortSignal.any([this.#h.signal,this.#f.signal]);r._on("pagerendered",({pageNumber:u})=>{o.delete(u),o.size===0&&(this.#g=setTimeout(s,0))},{signal:c});return}}s()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let i of this._pages)i.update(t);this.#w!==null&&(clearTimeout(this.#w),this.#w=null),e||this.update()}}},y1=class extends Wp{_resetView(){super._resetView(),this._scrollMode=Ne.PAGE,this._spreadMode=Qt.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var E4=ot.AnnotationLayerBuilder,A4=ot.DownloadManager,C4=ot.EventBus,T4=ot.FindState,v1=ot.GenericL10n,Ks=ot.LinkTarget,x1=ot.PDFFindController,S4=ot.PDFHistory,w1=ot.PDFLinkService,k4=ot.PDFPageView,F4=ot.PDFScriptingManager,D1=ot.PDFSinglePageViewer,E1=ot.PDFViewer,I4=ot.ProgressBar,U4=ot.RenderingStates,P4=ot.ScrollMode,R4=ot.SimpleLinkService,M4=ot.SpreadMode,N4=ot.StructTreeLayerBuilder,L4=ot.TextLayerBuilder,O4=ot.XfaLayerBuilder,B4=ot.parseQueryString;var W4=["pdfViewerContainer"];function j4(n,e){let t=new n.EventBus;return V4(t,e),t}function V4(n,e){st(n,"documentload").pipe(ve(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),st(n,"pagerendered").pipe(ve(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),st(n,"textlayerrendered").pipe(ve(e)).subscribe(({pageNumber:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(r)}),st(n,"pagechanging").pipe(ve(e)).subscribe(({pageNumber:t,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),st(n,"pagesinit").pipe(ve(e)).subscribe(({source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),st(n,"pagesloaded").pipe(ve(e)).subscribe(({pagesCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),st(n,"scalechange").pipe(ve(e)).subscribe(({scale:t,presetValue:i,source:r})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),st(n,"updateviewarea").pipe(ve(e)).subscribe(({location:t,source:i})=>{let r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),st(n,"find").pipe(ve(e)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:a,highlightAll:o,findPrevious:c})=>{if(t===window)return;let u=document.createEvent("CustomEvent");u.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:a,highlightAll:o,findPrevious:c}),window.dispatchEvent(u)}),st(n,"attachmentsloaded").pipe(ve(e)).subscribe(({attachmentsCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),st(n,"sidebarviewchanged").pipe(ve(e)).subscribe(({view:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),st(n,"pagemode").pipe(ve(e)).subscribe(({mode:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),st(n,"namedaction").pipe(ve(e)).subscribe(({action:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),st(n,"presentationmodechanged").pipe(ve(e)).subscribe(({active:t,switchInProgress:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),st(n,"outlineloaded").pipe(ve(e)).subscribe(({outlineCount:t,source:i})=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}function C1(n,e,t){n[e]=t}function eu(){return typeof window>"u"}eu()||C1(yo,"verbosity",N0.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,r)=>{n=i,e=r}),resolve:n,reject:e}});var T1=(function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n})(T1||{}),BI=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof yo<"u"?`https://unpkg.com/pdfjs-dist@${$l}/cmaps/`:null;_imageResourcesPath=typeof yo<"u"?`https://unpkg.com/pdfjs-dist@${$l}/web/images/`:void 0;_renderText=!0;_renderTextMode=T1.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new It;afterLoadComplete=new Zt;pageRendered=new Zt;pageInitialized=new Zt;textLayerRendered=new Zt;onError=new Zt;onProgress=new Zt;pageChange=new Zt(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let i=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return Ks.BLANK;case"none":return Ks.NONE;case"self":return Ks.SELF;case"parent":return Ks.PARENT;case"top":return Ks.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,eu())return;let r,s=$l,a=window[`pdfWorkerSrc${s}`];a?r=a:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?r=window.pdfWorkerSrc:r=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.mjs`,C1(M0,"workerSrc",r)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(eu()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){cu(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(ve(this.destroy$)).subscribe({next:t=>{let i=this._rotation+t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS,s=this._zoom,a=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){let o=t.getViewport({scale:1,rotation:i});s=this.getScale(o.width,o.height),a=!this._stickToPage}this.pdfViewer.currentScale=s,a&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=j4(A1,this.destroy$),st(this.eventBus,"pagerendered").pipe(ve(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),st(this.eventBus,"pagesinit").pipe(ve(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),st(this.eventBus,"pagechanging").pipe(ve(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),st(this.eventBus,"textlayerrendered").pipe(ve(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new w1(Xe({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new x1({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:T1.DISABLED,findController:this.pdfFindController,l10n:new v1("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:R0.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),C1(yo,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new E1(this.getPDFOptions()):this.pdfViewer=new D1(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i.isEvalSupported=!1,t==="string"?i.url=this.src:t==="object"&&(this.src.byteLength!==void 0?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=L0(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};let t=this.src;cu(this.loadingTask.promise).pipe(ve(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{let t=this.pageInitialized.subscribe(()=>{this.updateSize(),t.unsubscribe()})}}getScale(t,i){let r=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,a=this.pdfViewerContainer.nativeElement.clientHeight-r;if(a===0||i===0||s===0||t===0)return 1;let o=1;switch(this._zoomScale){case"page-fit":o=Math.min(a/i,s/t);break;case"page-height":o=a/i;break;case"page-width":default:o=s/t;break}return this._zoom*o/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){eu()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){eu()||this.ngZone.runOutsideAngular(()=>{st(window,"resize").pipe(lu(100),Mi(()=>this._canAutoResize&&!!this._pdf),ve(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(Cn(pi),Cn(mr))};static \u0275cmp=gt({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,r){if(i&1&&Wi(W4,5),i&2){let s;un(s=dn())&&(r.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[B1],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,r){i&1&&(Me(0,"div",1,0),Tn(2,"div",2),Ie())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),WI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=br({type:n});static \u0275inj=gr({})}return n})();var Vp=class n{selectedNodeSource=new hr(null);currentSelectedNode=this.selectedNodeSource.asObservable();changeSelectedNode(e){this.selectedNodeSource.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=uu({token:n,factory:n.\u0275fac,providedIn:"root"})};function q4(n,e){if(n&1){let t=Bi();Me(0,"mat-tree-node",15),Pt("click",function(){let r=hi(t).$implicit,s=mt();return fi(s.onNodeClick(r))}),Tn(1,"button",16),Ve(2),Ie()}if(n&2){let t=e.$implicit;Se(2),mi(" ",t.value," ")}}function G4(n,e){if(n&1&&(Me(0,"mat-tree-node",17)(1,"button",18)(2,"mat-icon",19),Ve(3),Ie()(),Ve(4),Ie()),n&2){let t=e.$implicit;mt();let i=q1(4);On("isExpanded",!0)("cdkTreeNodeTypeaheadLabel",t.name),Se(),Li("aria-label","Toggle "+t.name),Se(2),mi(" ",i.isExpanded(t)?"expand_more":"chevron_right"," "),Se(),mi(" ",t.name," ")}}function $4(n,e){if(n&1&&Tn(0,"div",12),n&2){let t=mt();On("innerHTML",t.htmlContent,j1)}}function X4(n,e){if(n&1&&(Me(0,"textarea",13),Ve(1),Ie()),n&2){let t=mt();Se(),mi("                        ",t.textContent,`
                    `)}}function K4(n,e){if(n&1&&Tn(0,"pdf-viewer",14),n&2){let t=mt();On("src",t.pdfSrc)("original-size",!1)("show-all",!0)("fit-to-page",!0)("autoresize",!0)}}var tu=class n{constructor(e,t,i,r,s){this.http$=e;this.dataService$=t;this.treeDataService$=i;this.eventBus$=r;this.authService$=s;this.userData$=this.dataService$.getMyData$,this.userData$.pipe(Ut(a=>a?this.buildTree(a):[])).subscribe(a=>{this.userTreeData=a}),this.subscription=this.eventBus$.getButtonClickEvent().subscribe(()=>{this.showSideMenu=!this.showSideMenu})}showSideMenu=!0;sideNavMode="side";userTreeData=[];childrenAccessor=e=>e.children??[];hasChild=(e,t)=>!!t.children&&t.children.length>0;userData$;myform=new Du({filename:new Eu("",[vu.required])});fileExtension=null;pdfSrc="";htmlContent="";textContent="";pdfData;subscription;userUid=null;currentUid=null;ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.subscription&&this.subscription?.unsubscribe()}buildTree(e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r!==null&&typeof r=="object"&&!Array.isArray(r);t.push({name:i,value:s?"":r,children:s?this.buildTree(r):void 0})}return t}onNodeClick(e){console.log("Node clicked:",e),this.myform.get("filename")?.setValue(e?.value),this.treeDataService$.changeSelectedNode(e)}loadFile(){let t=this.myform.value.filename;switch(this.fileExtension=this.getFileExtension(t),this.fileExtension){case"txt":this.loadTextFile(t);break;case"pdf":this.loadPdfFile(t);break;case"docx":this.loadDocxFile(t);break;default:console.warn(`\uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294 \uD30C\uC77C \uD615\uC2DD: ${this.fileExtension}`)}}loadDocxFile(e){let t=`assets/${e}`;this.http$.get(t,{responseType:"arraybuffer"}).subscribe({next:i=>{this.convertDocxToHtml(i)},error:i=>{console.error("Failed to load docx file:",i),this.htmlContent='<p style="color:red;">\uBB38\uC11C\uB97C \uBD88\uB7EC\uC624\uB294 \uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.</p>'}})}loadTextFile(e){let t=`assets/${e}`;this.http$.get(t,{responseType:"text"}).subscribe({next:i=>{this.textContent=i,console.log("File content:",this.textContent)},error:i=>{console.error("Error fetching data:",i)}})}loadPdfFile(e){this.pdfSrc=`assets/${e}`}onPdfRendered(e){console.log("PDF \uB80C\uB354\uB9C1\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC774\uC81C \uC8FC\uC11D \uC791\uC5C5\uC744 \uC2DC\uC791\uD569\uB2C8\uB2E4.")}convertDocxToHtml(e){return Z(this,null,function*(){yield jI.default.convertToHtml({arrayBuffer:e}).then(t=>{this.htmlContent=t.value,t.messages.length>0&&console.warn("Mammoth Messages:",t.messages)}).catch(t=>{console.error("Failed to convert docx to HTML:",t),this.htmlContent='<p style="color:red;">DOCX \uBCC0\uD658\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.</p>'})})}getFileExtension(e){let t=e.lastIndexOf(".");return t===-1?null:e.substring(t+1).toLowerCase()}static \u0275fac=function(t){return new(t||n)(Cn(Q1),Cn(Cr),Cn(Vp),Cn($x),Cn(Ou))};static \u0275cmp=gt({type:n,selectors:[["app-memo-viewer"]],decls:20,vars:9,consts:[["tree",""],[1,"top-container"],[3,"mode","opened"],[3,"dataSource","childrenAccessor"],["matTreeNodePadding","",3,"click",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"isExpanded","cdkTreeNodeTypeaheadLabel",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"sticky-form",3,"ngSubmit","formGroup"],[1,"form-control-group"],["appearance","outline","floatLabel","always"],["matInput","","type","text","placeholder","\uD30C\uC77C\uBA85 \uC785\uB825","formControlName","filename"],["mat-button","","type","submit","color","primary",3,"disabled"],[1,"view-area"],[1,"view-item",3,"innerHTML"],["readonly","",1,"view-item"],[1,"view-item",2,"width","100%","height","100%",3,"src","original-size","show-all","fit-to-page","autoresize"],["matTreeNodePadding","",3,"click"],["matIconButton","","disabled",""],["matTreeNodePadding","","matTreeNodeToggle","","isExpandable","",3,"isExpanded","cdkTreeNodeTypeaheadLabel"],["matIconButton","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,i){if(t&1){let r=Bi();Me(0,"div",1)(1,"mat-sidenav-container")(2,"mat-sidenav",2)(3,"mat-tree",3,0),H1(5,q4,3,1,"mat-tree-node",4)(6,G4,5,5,"mat-tree-node",5),Ie()(),Me(7,"mat-sidenav-content")(8,"form",6),Pt("ngSubmit",function(){return hi(r),fi(i.loadFile())}),Me(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),Ve(12,"\uD30C\uC77C\uBA85"),Ie(),Tn(13,"input",9),Ie(),Me(14,"button",10),Ve(15," \uBCF4\uAE30 "),Ie()()(),Me(16,"div",11),cn(17,$4,1,1,"div",12)(18,X4,2,1,"textarea",13)(19,K4,1,5,"pdf-viewer",14),Ie()()()()}t&2&&(Se(2),On("opened",G1(i.showSideMenu))("mode",i.sideNavMode),Se(),On("dataSource",i.userTreeData)("childrenAccessor",i.childrenAccessor),Se(3),On("matTreeNodeDefWhen",i.hasChild),Se(2),On("formGroup",i.myform),Se(6),On("disabled",i.myform.invalid),Se(3),ln(i.fileExtension==="docx"?17:i.fileExtension==="txt"?18:i.fileExtension==="pdf"?19:-1))},dependencies:[Qw,Qm,Yw,Dd,aD,nD,iD,sD,rD,tD,Gx,qx,Uu,Iu,ox,Nu,Mu,Ru,Pu,Su,Au,yu,xu,wu,Cu,Tu,WI,BI],styles:[".top-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;margin-left:10px;margin-right:10px}mat-sidenav-container[_ngcontent-%COMP%]{flex:1;border:1px solid lightgray}mat-sidenav-container[_ngcontent-%COMP%] > mat-sidenav[_ngcontent-%COMP%]{flex:1;width:280px;border:1px solid lightgray}mat-sidenav-container[_ngcontent-%COMP%] > mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;flex:1;overflow-y:hidden!important}.scroll-wrapper2[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden;padding:10px}.no-scroll[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;padding:0}.view-area[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;padding-left:10px;padding-right:15px;overflow:hidden}.view-item[_ngcontent-%COMP%]{flex-grow:1;border:1px solid #ccc;overflow-y:auto}.mat-tree-node[_ngcontent-%COMP%]{cursor:grab}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.mat-tree-node[_ngcontent-%COMP%]:focus{background-color:#c9e6ff;outline:none}.mat-tree-node.is-selected[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;font-weight:700}.sticky-form[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background-color:#fff;padding:10px}"]})};var VI=(n,e)=>e.key;function Y4(n,e){if(n&1&&(gi(0,"li",5),ng(1,"div",6),gi(2,"div"),Ve(3),gi(4,"span",7),Ve(5),Oi()()()),n&2){let t=e.$implicit;Se(3),mi(" ",t.key,": "),Se(2),yr(t.value)}}function Q4(n,e){if(n&1&&(ng(0,"br"),gi(1,"ul",4),Zs(2,Y4,6,2,"li",5,VI),Bn(4,"keyvalue"),Oi()),n&2){let t=mt().$implicit;Se(2),Js(Wn(4,0,t.value))}}function Z4(n,e){n&1&&(gi(0,"span"),Ve(1," ( \uD30C\uC77C\uC774 \uC815\uC758\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. )"),Oi())}function J4(n,e){if(n&1&&(gi(0,"li",2)(1,"strong"),Ve(2),Oi(),Ve(3,": "),cn(4,Q4,5,2)(5,Z4,2,0,"span"),Oi()),n&2){let t=e.$implicit;Se(2),yr(t.key),Se(2),ln(t.value&&typeof t.value=="object"?4:5)}}function e6(n,e){n&1&&(gi(0,"li"),Ve(1,"\uB85C\uB529 \uC911\uC774\uAC70\uB098 \uD45C\uC2DC\uD560 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),Oi())}function t6(n,e){n&1&&(gi(0,"pre",3),Ve(1),Bn(2,"json"),Oi()),n&2&&(Se(),yr(Wn(2,1,e)))}var zp=class n{constructor(e){this.dataService$=e;this.userData$=this.dataService$.getMyData$}userData$;static \u0275fac=function(t){return new(t||n)(Cn(Cr))};static \u0275cmp=gt({type:n,selectors:[["app-data-viewer"]],decls:9,vars:8,consts:[[1,"top-container"],[2,"list-style-type","none","padding","0"],[2,"margin-bottom","10px","border","1px solid #ccc","padding","10px"],[2,"visibility","hidden"],[2,"list-style-type","disc","margin-left","10px"],[1,"file-item-grouping"],[1,"left-content"],[2,"font-style","italic"]],template:function(t,i){if(t&1&&(gi(0,"div",0)(1,"ul",1),Zs(2,J4,6,2,"li",2,VI,!1,e6,2,0,"li"),Bn(5,"async"),Bn(6,"keyvalue"),Oi()(),cn(7,t6,3,3,"pre",3),Bn(8,"async")),t&2){let r;Se(2),Js(Wn(6,4,Wn(5,2,i.userData$))),Se(5),ln((r=Wn(8,6,i.userData$))?7:-1,r)}},dependencies:[mu,_u,bu],encapsulation:2})};var zI=[{path:"",redirectTo:"/main",pathMatch:"full"},{path:"main",component:Xx,children:[{path:"",component:tu},{path:"memo-viewer",component:tu},{path:"data-viewer",component:zp},{path:"data-editer",component:xd}]},{path:"auth",loadChildren:()=>import("./chunk-XLENH2MP.js").then(n=>n.AuthModule)}];var S1={production:!0,googleMapKey:"AIzaSyBb5jBpNLfyeBqj_tjhB1r4sexvqUVZx6s",firebase:{apiKey:"AIzaSyBduY6Or0tHP8DALAMwrWxpo_tNKpgf7Ls",authDomain:"my-memo-3a2c4.firebaseapp.com",databaseURL:"https://my-memo-3a2c4-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"my-memo-3a2c4",storageBucket:"my-memo-3a2c4.firebasestorage.app",messagingSenderId:"639616505173",appId:"1:639616505173:web:99c36a725a46a2bbf1cbdc",measurementId:"G-1H60CMJSJR"},disableConsoleLog:()=>{S1.production&&(console.log=function(){},console.warn=function(){},console.info=function(){})}};var HI={providers:[O1(),$1({eventCoalescing:!0}),ex(zI),Z1(),Nx(()=>Lx(S1.firebase)),zw(()=>qw()),Wx(()=>jx())]};var Hp=class n{title=du("bbs-memo");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=gt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&Tn(0,"router-outlet")},dependencies:[J1],encapsulation:2})};var qp={production:!0,googleMapKey:"AIzaSyBb5jBpNLfyeBqj_tjhB1r4sexvqUVZx6s",firebase:{apiKey:"AIzaSyBduY6Or0tHP8DALAMwrWxpo_tNKpgf7Ls",authDomain:"my-memo-3a2c4.firebaseapp.com",databaseURL:"https://my-memo-3a2c4-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"my-memo-3a2c4",storageBucket:"my-memo-3a2c4.firebasestorage.app",messagingSenderId:"639616505173",appId:"1:639616505173:web:99c36a725a46a2bbf1cbdc",measurementId:"G-1H60CMJSJR"},disableConsoleLog:()=>{qp.production&&(console.log=function(){},console.warn=function(){},console.info=function(){})}};qp.production&&qp.disableConsoleLog();Y1(Hp,HI).catch(n=>console.error(n));
